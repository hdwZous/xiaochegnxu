"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);return void 0!==o?"value"in o?o.value:void 0!==(o=o.get)?o.call(i):void 0:null!==(o=Object.getPrototypeOf(t))?e(o,n,i):void 0},_index=require("../../../../../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_indexWeapp=require("../../../../../npm/@jd/djmp/common-t/js/jump/index.weapp.js"),_indexWeapp2=require("../../../../../npm/@jd/djmp/common-t/js/jump2/index.weapp.js"),_map=require("../../../../../npm/@jd/djmp/common-t/js/jump2/map.js"),_indexWeapp3=require("../../../../../npm/@jd/djmp/common-t/js/bi/index.weapp.js"),_indexWeapp4=require("../../../../../npm/@jd/djmp/common-t/js/env/index.weapp.js"),_indexModuleScssMap=require("./index.module.scss.map.js"),_indexModuleScssMap2=_interopRequireDefault(_indexModuleScssMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}_temp2=_class=function(){function a(){var e,t;_classCallCheck(this,a);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t=_possibleConstructorReturn(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i)))).$usedState=["loopArray37","loopArray38","loopArray39","style","resourcesList","iconAnimateKeyFrame","$anonymousCallee__4","$anonymousCallee__5","bgColor","bubbleList","openBeansSharePop","resources"],t.config={navigationBarTitleText:""},t.customComponents=[],_possibleConstructorReturn(t,e)}return _inherits(a,_index.Component),_createClass(a,[{key:"_constructor",value:function(e){_get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_constructor",this).call(this,e),this.state={bgColor:{background:"#f2f2f2"},bubbleList:[],iconAnimateKeyFrame:""},this.$$refs=[]}},{key:"clickEvent",value:function(){this.props.openBeansSharePop()}},{key:"clickBubble",value:function(e){var t,n=this.state.bubbleList||[],i=n[e].url;i?((0,_indexWeapp3.clickReport)({create_time:new Date,click_id:"ClickBall",click_par:{ballTitle:void 0}}),n[e].title,-1<i.indexOf("sign-bean-guafen")?this.clickEvent():(t=!1,Object.values(_map.CXC_MAP).forEach(function(e){i.includes(e)&&(t=!0)}),t?(0,_indexWeapp2.jump2)({to:i,params:{userAction:n[e].userAction||""}}):(0,_indexWeapp2.jump2)({type:4,to:i}))):(e=(n=n[e]).nativePageUrl,n=n.nativePageParam,"p54"==(e=void 0===e?"":e)&&(0,_indexWeapp.navigateToMpByCXCMAP)({nativePageUrl:e,nativePageParam:void 0===n?"":n}))}},{key:"h5JumpIntercept",value:function(e){if(e.includes(".jd.com")&&_indexWeapp4.isDaojiaApp)return-1<e.indexOf("testpdjm.jd.com")||-1<e.indexOf("prepdjm.jd.com")||-1<e.indexOf("daojia.jd.com")?(0,_indexWeapp.jump)({type:"",to:"web",params:{extraUrlInDJ:e}}):(0,_indexWeapp.jump)({type:"",to:"jdweb",params:{extraUrl:e}}),!1;window.location.href=e}},{key:"beanShareIconAnimate",value:function(){var e=this;this.setState({iconAnimateKeyFrame:"animate__shakeX"},function(){setTimeout(function(){e.setState({iconAnimateKeyFrame:""})},1e3)})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props&&this.props.resources.resourcesList||[];0<t.length&&(t=[].concat(t),this.setState({bubbleList:t}))}},{key:"_createData",value:function(){var n=this,e=(this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{},this.$prefix,this.__state.bubbleList||[]),t=e.slice(0,5),i=e.slice(5,10),o=e&&0<e.length&&e.length<10?e.map(function(e,t){e={$original:(0,_index.internal_get_original)(e)};n.__state.iconAnimateKeyFrame;return{$loopState__temp2:e.$original.url&&-1<e.$original.url.indexOf("sign-bean-guafen"),$original:e.$original}}):[],a=e&&0<e.length&&e.length<10?[]:e.slice(0,5).map(function(e,t){e={$original:(0,_index.internal_get_original)(e)};n.__state.iconAnimateKeyFrame;return{$loopState__temp4:e.$original.url&&-1<e.$original.url.indexOf("sign-bean-guafen"),$original:e.$original}}),r=e&&0<e.length&&e.length<10?[]:e.slice(5,10).map(function(e,t){return{$loopState__temp6:(e={$original:(0,_index.internal_get_original)(e)}).$original.url&&-1<e.$original.url.indexOf("sign-bean-guafen"),$original:e.$original}});return Object.assign(this.__state,{loopArray37:o,loopArray38:a,loopArray39:r,style:_indexModuleScssMap2.default,resourcesList:e,$anonymousCallee__4:t,$anonymousCallee__5:i}),this.__state}}]),a}(),_class.$$events=["clickBubble"],_class.$$componentPath="pages/tabBar/signIn-t/components/functionBubble/index";var FunBubble=_temp2;exports.default=FunBubble,Component(require("../../../../../npm/@tarojs/taro-weapp/index.js").default.createComponent(FunBubble));