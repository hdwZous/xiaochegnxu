<template name="renderLinkLayer"><block><view class="{{style.channelBox}}" bindtap="hideLinkLayer" data-e-tap-so="this"><image class="{{style.configLayer}}" src="{{linkLayerImgUrl}}" bindtap="linkLayerClick" alt="" data-e-tap-so="this"></image></view></block></template>
<template name="renderCouponLayer"><block><view class="{{style.channelBox}}" bindtap="closeCouponLayer" data-e-tap-so="this"><view class="{{style.channelBg}}"><view class="{{style.channleCouponBg}}"><view class="{{style.channelCounponLeft}}"><view class="{{style.channelMoneyNum}}">{{oldAmount}}</view><view class="{{style.channelMoneyUnit}}">元</view></view><view class="{{style.channelCounponRight}}"><view class="{{style.channelCounponTitle}}">{{oldTitle}}</view><view class="{{style.channelCounponLimit}}">{{oldThreshold}}</view><view class="{{style.channelCounponValidity}}">{{oldAvailableDate}}</view></view></view><view class="{{style.channleBtn}}" bindtap="goUseCoupon" data-e-tap-so="this" data-e-tap-a-a="{{redirectH5Address}}"></view><view class="{{style.channelClose}}" bindtap="closeCouponLayer" data-e-tap-so="this"></view></view></view></block></template>
<template name="renderItemNotSignCoupon"><block><block><block wx:if="{{couponType && couponPrice}}"><view class="{{style.sign_item_coupon}}"><text class="{{style.sign_item_coupon_text}}">{{notifyText || couponPrice + '元券'}}</text></view></block><block wx:else><block><block wx:if="{{reduceCoupon}}"><view class="{{[style.sign_item_coupon, style.sign_reduce_coupon]}}"><text class="{{style.sign_item_coupon_text}}">{{notifyText || '立减' + couponPrice + '元'}}</text></view></block><block wx:else><block><block wx:if="{{redPack && couponPrice}}"><view class="{{[style.sign_item_coupon, style.red_pack]}}"><text class="{{style.sign_item_coupon_text}}">{{notifyText || couponPrice + '元红包'}}</text></view></block><block wx:else><block><block wx:if="{{weekCard}}"><view class="{{[style.sign_item_coupon, style.sign_vp]}}"></view></block><block wx:else><block wx:if="{{phone}}"><view class="{{[style.sign_item_coupon, style.sign_phone_coupon]}}"><text class="{{style.sign_item_coupon_text}}">{{notifyText || couponPrice + '元话费'}}</text></view></block></block></block></block></block></block></block></block></block></block></template>
<template name="renderItemNotSign"><block><view class="{{'' + style.sign_block}}"><view class="{{style.sign_item}}"><template is="renderItemNotSignCoupon" data="{{...anonymousState__temp}}"></template><view class="{{style.sign_item_bean}}"></view><block><block wx:if="{{alreadySignInDays == index}}"><view class="{{[style.sign_item_nums, style.sign_item_nums_active]}}">{{item.points}}</view></block><block wx:else><view class="{{style.sign_item_nums}}">{{item.points}}</view></block></block></view><view class="{{style.day_content}}">{{item.day}}天</view><block wx:if="{{item.day === alreadySignInDays + 1}}"><view><view class="{{style.animateEle + ' animateEle' + indexJ}}" id="{{'animateEle' + index}}" style="{{i.$loopState__temp3}}" wx:for="{{loopArray53}}" wx:for-item="i" wx:for-index="indexJ"><image src="https://storage.360buyimg.com/wximg/signIn_new/bean.png" class="{{style.beans_icon}}"></image></view></view></block></view></block></template>
<template name="renderItemSign"><block><view class="{{'' + style.sign_block}}"><view class="{{style.sign_item}}"><view class="{{style[hasSignClassName]}}"></view></view><view class="{{style.day_content}}">{{item.day}}天</view></view></block></template>
<template name="renderSignGrids"><block><view class="{{style.signInDay}}"><view class="{{style.sign_line_bg}}"></view><view class="{{style.signInDay_left}}"><block wx:if="{{sevenDaysReward && sevenDaysReward.items && sevenDaysReward.items.length > 0}}"><view wx:key="$loopState__temp9" class="{{style.sign_wrap}}" data-index="{{item.$original.hasSign}}" wx:for="{{loopArray54}}" wx:for-item="item" wx:for-index="index"><block><block wx:if="{{item.$original.hasSign}}"><template is="renderItemSign" data="{{...item.$loopState__temp5}}"></template></block><block wx:else><template is="renderItemNotSign" data="{{...item.$loopState__temp7}}"></template></block></block></view></block></view></view></block></template>
<template name="renderCouponButton"><block><view><block wx:if="{{showOnHomePage}}"><view class="{{[style.red_package + ' ' + redPackageAnimation, 'exposure']}}" data-user-action="{{userAction}}" bindtap="handleClickCoup" data-e-tap-so="this"><view class="{{style.red_package_txt}}">{{showName}}</view></view></block></view></block></template>
<template name="renderStrategyCouponLayer"><block><view class="{{style.channelBox}}"><view class="{{style.strCoup_box}}"><view class="{{style.strCoup_header}}"><view class="{{style.strCoup_line}}"></view></view><view class="{{style.strCoup_lists}}"><view class="{{style.strCoup_item}}" wx:for="{{loopArray55}}" wx:for-item="item" wx:for-index="_anonIdx2"><view class="{{style.strCoup_left}}"><view class="{{style.strCoup_left_sum}}"><text class="{{style.strCoup_left_num}}">{{item.quota}}</text>元</view><view class="{{style.strCoup_left_sill}}">满{{item.minOrderAmount}}可用</view></view><view class="{{style.strCoup_right}}"><view class="{{style.strCoup_right_des}}">{{item.couponShowName}}</view><view class="{{style.strCoup_right_validity}}">{{item.expireShow}}</view><view class="{{style.strCoup_right_btn}}" bindtap="clickStrCoupBtn" data-e-tap-so="this" data-e-tap-a-a="{{item.$original}}">去使用</view></view></view><view class="{{style.strCoup_line}}"></view></view><view class="{{[style.channelClose, style.strCoup_close]}}" bindtap="hideStrCoupLayer" data-e-tap-so="this"></view></view></view></block></template>
<template name="renderCouponpacksLayer"><block><view class="{{style.channelBox}}"><view class="{{style.couponpacks_box}}"><view class="{{style.couponpacks_header}}"></view><view class="{{style.couponpacks_main_box}}"><view class="{{style.couponpacks_main}}"><view class="{{style.couponpacks_item}}" wx:for="{{loopArray56}}" wx:for-item="i" wx:for-index="_anonIdx4"><view class="{{style.couponpacks_item_left}}"><text class="{{style.couponpacks_left_num}}">{{i.quota}}</text><text class="{{style.couponpacks_left_money}}">元</text></view><view class="{{style.couponpacks_item_right}}"><text class="{{style.couponpacks_right_title}}">{{i.couponShowName}}</text><text class="{{style.couponpacks_right_limit}}">{{i.minOrderAmount}}</text></view><view bindtap="clickCouponpacksBtn" class="{{style.couponpacks_right_btn}}" data-e-tap-so="this" data-e-tap-a-a="{{i.$original}}">去使用</view></view></view></view><view class="{{[style.vipPlus_close, style.couponpacks_close]}}" bindtap="closeCouponLayer" data-e-tap-so="this"></view></view></view></block></template>
<template name="renderVipPlusLayer"><block><view class="{{style.channelBox}}"><view class="{{style.vipPlus_box}}"><view class="{{style.vipPlus_title}}">您的v+会员即将过期</view><view class="{{style.vipPlus_item}}"><view class="{{style.vipPlus_item_left}}">送</view><view class="{{style.vipPlus_item_right}}"><view class="{{style.vipPlus_right_title}}">{{redPacketMoney}}元红包</view><view class="{{style.vipPlus_right_des}}">内含{{leftVipRedEnvelope}}个红包</view></view></view><view class="{{style.vipPlus_btn}}" bindtap="vipLayerLink" data-e-tap-so="this">去使用</view><view class="{{style.vipPlus_close}}" bindtap="closeVipLayer" data-e-tap-so="this"></view></view></view></block></template>
<template name="renderSignBtn"><block><block><block wx:if="{{hasSign}}"><view><block><block wx:if="{{!groupSucc && shareFlag}}"><view class="{{style.signInBtn + ' ' + style.signIn_share_btn}}" bindtap="openBeansShare" data-e-tap-so="this">继续瓜分{{carveUpCount}}鲜豆</view></block><block wx:else><view class="{{style.signInBtn + ' ' + style.hasSignBtn}}">{{sevenDaysReward.tomorrowSingInRewardText}}</view></block></block></view></block><block wx:else><view><view class="{{style.signInBtn + ' ' + style.hasSignBtn}}" hidden="{{!hasSignNew}}">{{sevenDaysReward.tomorrowSingInRewardText}}</view><view class="{{style.signInBtn + ' ' + style.notSignBtn}}" bindtap="sign" hidden="{{hasSignNew}}" data-e-tap-so="this" data-e-tap-a-a="{{false}}">签 到</view></view></block></block></block></template>
<block wx:if="{{$taroCompReady}}"><view><view class="{{style.header}}" id="home"><view class="{{style.beans}}"><view class="{{style.beansNumLayout}}"><text id="beans" class="{{[beansIconAnimation, style.beanIcon]}}"></text><view class="{{style.beansNumPanel}}" bindtap="toRecordPage" data-e-tap-so="this"><view class="{{'' + style.beans_box}}"><view class="{{beansNumAnimation}}"><text class="{{style.beansNum}}">{{totleBeanNum}}</text>鲜豆</view><view class="{{[beansNumAnimation, style.beans_money]}}">可抵{{anonymousState__temp19}}元</view></view></view><block wx:if="{{showToExchangeType}}"><view class="{{style.toExchangeButtonNew}}" bindtap="handleClickCoup" data-e-tap-so="this"><view class="{{style.toExchangeButtonText}}">去兑换</view></view></block></view><view class="{{style.exchange_rule}}"><view class="{{style.rule_icon}}"></view><view class="{{style.rule}}" bindtap="showRule" data-e-tap-so="this">规则</view></view><block wx:if="{{!toExchangeButtonAbTest}}"><template is="renderCouponButton" data="{{...anonymousState__temp12}}"></template></block></view><view class="{{style.signInContent}}"><template is="renderSignGrids" data="{{...anonymousState__temp10}}"></template><view id="signInBtn" class="{{style.signInBlock}}"><template is="renderSignBtn" data="{{...anonymousState__temp11}}"></template><view class="{{style.battle}}">{{sevenDaysReward.beatText}}<block wx:if="{{isDaojiaApp && djAppVersion >= '7.4.5'}}"><view class="{{style.battleLayout}}">{{sevenDaysReward.beatText ? '，' : ''}}开启提醒<view class="{{style.sign_sysPush_switch_layout}}" bindtap="openSysPushSwitch" data-e-tap-so="this"><block><block wx:if="{{pagePushSwitch}}"><image class="{{style.sign_sysPush_switch}}" src="https://storage.360buyimg.com/wximg/signIn_new/icon_switch_open.png"></image></block><block wx:else><image class="{{style.sign_sysPush_switch}}" src="https://storage.360buyimg.com/wximg/signIn_new/icon_switch_close.png"></image></block></block></view></view></block></view></view></view></view><block wx:if="{{showRule}}"><view class="{{style.rulePop}}"><view class="{{style.ruleCont}}"><view class="{{style.title}}">活动规则</view><view class="{{style.scroll}}"><scroll-view class="{{style.scrollview}}" scroll-y="{{100}}"><rich-text nodes="{{userInfo.rule}}"></rich-text></scroll-view></view></view><view class="{{style.closeIcon}}" bindtap="closeRule" data-e-tap-so="this"></view></view></block><block wx:if="{{couponLayer}}"><template is="renderCouponLayer" data="{{...anonymousState__temp13}}"></template></block><block wx:if="{{linkLayer}}"><template is="renderLinkLayer" data="{{...anonymousState__temp14}}"></template></block><block wx:if="{{strCoupLayer}}"><template is="renderStrategyCouponLayer" data="{{...anonymousState__temp15}}"></template></block><block wx:if="{{couponpacksLayer}}"><template is="renderCouponpacksLayer" data="{{...anonymousState__temp16}}"></template></block><block wx:if="{{vipPlusLayer}}"><template is="renderVipPlusLayer" data="{{...anonymousState__temp17}}"></template></block><block wx:if="{{v31BeansShow}}"><view class="{{style.layer}}"><view class="{{[style.v31_bg, style.v31_bean]}}"><view class="{{style.v31_bean_title}}">您有{{unDoneMoneyCount}}鲜豆待领取</view><view class="{{style.v31_bean_icon}}"></view><view class="{{style.v31_bean_dec}}">做任务领大额鲜豆</view><view class="{{style.v31_bean_btn}}" bindtap="goTaskListPage" data-e-tap-so="this">去领鲜豆</view><view class="{{style.v31_close}}" bindtap="v31BeansClose" data-e-tap-so="this"></view></view></view></block><block wx:if="{{v31CouponShow}}"><view class="{{style.layer}}"><view class="{{[style.v31_bg, style.v31_coupon]}}"><view class="{{style.v31_coupon_title}}">您有一张优惠券可兑换</view><view class="{{style.v31_coupon_item}}"><view class="{{style.left}}"><text class="{{style.num}}">{{anonymousState__temp18}}<text class="{{style.unit}}">元</text></text></view><view class="{{style.right}}"><view class="{{style.name}}">{{maxBenefit.couponResponse && (maxBenefit.couponResponse.counponTitle || maxBenefit.couponResponse.couponTitle)}}</view><block wx:if="{{maxBenefit.couponResponse && maxBenefit.couponResponse.couponType === 2}}"><view class="{{style.tag}}"><view class="{{style.word}}">可叠加</view></view></block></view></view><view class="{{style.v31_coupon_dec}}">兑换消耗{{maxBenefit.beanNums}}鲜豆</view><view class="{{style.v31_coupon_btn}}" bindtap="v31CouponExchange" data-e-tap-so="this">确认兑换</view><view class="{{style.v31_close}}" bindtap="v31CouponClose" data-e-tap-so="this"></view></view></view></block><block wx:if="{{orderGetBeansLayer}}"><view class="{{style.layer}}"><view class="{{[style.v31_bg, style.v31_coupon]}}"><view class="{{style.v31_coupon_title}}">本页面下1单，立得大额鲜豆</view><view class="{{[style.order_beans]}}"><view class="{{style.order_bean_icon}}"></view><view class="{{style.order_bean_nums}}">+{{orderInfo.awardValue}}</view></view><view class="{{[style.order_des]}}">{{orderInfo.taskSubTitle}}</view><view class="{{[style.v33_btn]}}" bindtap="v33GoToOrder" data-e-tap-so="this">去下单</view><view class="{{[style.v31_close]}}" bindtap="v33Close" data-e-tap-so="this"></view></view></view></block><subscribe-message id="hfFac" compid="{{$compid__233}}"></subscribe-message><block wx:if="{{showSysPushSwUp}}"><open-sys-push-pop compid="{{$compid__234}}"></open-sys-push-pop></block><block wx:if="{{signRewardLayer}}"><sign-reward-pop compid="{{$compid__235}}"></sign-reward-pop></block></view></block>
