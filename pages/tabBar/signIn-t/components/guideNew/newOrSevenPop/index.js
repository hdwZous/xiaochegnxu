"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),_get=function e(t,n,a){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);return void 0!==o?"value"in o?o.value:void 0!==(o=o.get)?o.call(a):void 0:null!==(o=Object.getPrototypeOf(t))?e(o,n,a):void 0},_index2=require("../../../../../../npm/@tarojs/taro-weapp/index.js"),_index3=_interopRequireDefault(_index2),_indexModuleScssMap=require("./index.module.scss.map.js"),_indexModuleScssMap2=_interopRequireDefault(_indexModuleScssMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}_temp2=_class=function(){function s(){var e,t;_classCallCheck(this,s);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t=_possibleConstructorReturn(this,(t=s.__proto__||Object.getPrototypeOf(s)).call.apply(t,[this].concat(a)))).$usedState=["anonymousState__temp11","anonymousState__temp12","anonymousState__temp13","loopArray50","loopArray51","$compid__232","style","newPersonPop","sevenDays1","sevenDays2","anonymousState__temp9","anonymousState__temp10","hasSign","popSignIn","closeRule","isLargeScreen"],t.customComponents=["GuideHand"],_possibleConstructorReturn(t,e)}return _inherits(s,_index2.Component),_createClass(s,[{key:"_constructor",value:function(e){_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_constructor",this).call(this,e),this.state={sevenDays1:[],sevenDays2:[],hasSign:!1},this.$$refs=[]}},{key:"initData",value:function(e){var t=e.sevenDays,e=e.hasSign;if(!(this.state.sevenDays1&&0<this.state.sevenDays1.length)){if(t&&t.items&&2<t.items.length){this.state.sevenDays1=[];for(var n=0;n<3;n+=1)this.state.sevenDays1.push(t.items[n])}if(t&&t.items&&3<t.items.length){this.state.sevenDays2=[];for(var a=3;a<t.items.length;a+=1)this.state.sevenDays2.push(t.items[a])}this.setState({sevenDays1:this.state.sevenDays1,sevenDays2:this.state.sevenDays2})}this.setState({hasSign:e})}},{key:"popSignIn",value:function(e){var t=this;e?(this.setState({hasSign:!0}),setTimeout(function(){t.props.popSignIn()},e)):this.props.popSignIn()}},{key:"closeRule",value:function(){this.props.closeRule()}},{key:"componentWillReceiveProps",value:function(e){this.initData(e)}},{key:"_createItemNotSignData",value:function(e){return function(e){var t=e.rewardType,n=e.couponPrice;return{style:_indexModuleScssMap2.default,item:e,couponType:0==t,couponPrice:n,redPack:1==t,weekCard:2==t}}}},{key:"_createRewardTypeViewData",value:function(e){return function(e){var t=e.rewardType,n=e.points,a=e.couponPrice,e=e.notifyText;return{style:_indexModuleScssMap2.default,points:n,notifyText:e,couponPrice:a,rewardType:t}}}},{key:"_createTomorrowRewardViewData",value:function(t){var n=this;return function(){var e=n.state.sevenDays1[1]||{},e=(e.points,e.rewardType,e.couponPrice,n._createItemIconViewData(t+"YLEVMgwaTb")(e));return{style:_indexModuleScssMap2.default,anonymousState__temp:e}}}},{key:"_createItemIconViewData",value:function(s){var r=this;return function(e){var t=e.points,n=e.rewardType,a=e.couponPrice,e=e.notifyText,o=t?r._createRewardTypeViewData(s+"ljxBvkQJnI")({points:t}):null,a=0<=n?r._createRewardTypeViewData(s+"LpmGLwALLA")({rewardType:n,couponPrice:a,notifyText:e}):null;return{style:_indexModuleScssMap2.default,points:t,anonymousState__temp2:o,rewardType:n,anonymousState__temp3:a}}}},{key:"_createTodayRewardViewData",value:function(n){var a=this;return function(){var e=a.state,t=e.sevenDays1,e=e.hasSign,t=t[0]||{},t=(t.points,t.rewardType,t.couponPrice,a._createItemIconViewData(n+"UxZaUNLrKH")(t));return{style:_indexModuleScssMap2.default,hasSign:e,anonymousState__temp4:t}}}},{key:"_createData",value:function(){var n=this,a=(this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{},this.$prefix),e=(0,_index2.genCompid)(a+"$compid__232"),t=this.__props,o=t.newPersonPop,o=void 0!==o&&o,t=t.isLargeScreen,t=void 0!==t&&t,s=this.__state,r=s.sevenDays1,i=s.sevenDays2,s={left:452,top:200},p=this._createTodayRewardViewData(a+"hpbbdRpDam")(),u=this._createTomorrowRewardViewData(a+"sajYicUpLG")(),l=(0,_index2.internal_inline_style)({transform:t?"scale(0.8)":null,marginTop:t?"70px":null}),t=(0,_index2.internal_inline_style)({marginTop:t?"35px":null}),c=r&&0<r.length?r.map(function(e,t){return e={$original:(0,_index2.internal_get_original)(e)},{$loopState__temp6:r&&0<r.length?n._createItemNotSignData(a+"wamMMzZZuE"+t)(e.$original):null,$original:e.$original}}):[],_=i&&0<i.length?i.map(function(e,t){return e={$original:(0,_index2.internal_get_original)(e)},{$loopState__temp8:i&&0<i.length?n._createItemNotSignData(a+"cVvFfdtICm"+t)(e.$original):null,$original:e.$original}}):[];return _index2.propsManager.set({showFlag:!0,position:s,classNameByF:"guideNewer"},e),Object.assign(this.__state,{anonymousState__temp11:s,anonymousState__temp12:l,anonymousState__temp13:t,loopArray50:c,loopArray51:_,$compid__232:e,style:_indexModuleScssMap2.default,newPersonPop:o,anonymousState__temp9:p,anonymousState__temp10:u}),this.__state}}]),s}(),_class.$$events=["popSignIn","closeRule"],_class.multipleSlots=!0,_class.$$componentPath="pages/tabBar/signIn-t/components/guideNew/newOrSevenPop/index";var NewSevenPop=_temp2;exports.default=NewSevenPop,Component(require("../../../../../../npm/@tarojs/taro-weapp/index.js").default.createComponent(NewSevenPop));