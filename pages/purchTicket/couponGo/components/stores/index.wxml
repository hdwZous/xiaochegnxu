<view class="wrap" wx:if="{{storeList.length}}">
    <!-- 多门店 -->
    <block wx:if="{{storeList.length == 1}}">
        <view class="log-store content_one flex-row" 
              data-org-code="{{item.orgCode}}"
              data-store-id="{{item.stationNo}}"
              data-item="{{item}}" 
              data-index="{{index}}" 
              bindtap="clickStoreItem" 
              wx:for="{{storeList}}" 
              wx:for-item="item" 
              wx:for-index="index" 
              wx:key="item"
              aria-role='button'
              aria-label="{{item.storeName}}">
            <view aria-hidden="true" class="flex-none img_case_one">
                <image class="img_one" src="{{item.logo}}" />
            </view>
            <view aria-hidden="true" class="info_one flex-auto">
                <view class="title_one ellipsis">{{item.storeName}}</view>
                <view class="sub_title_one ellipsis" wx:if="{{item.priceDiff && item.priceDiff.length}}">
                    <!-- <text class="">{{item.deliveryTime}}</text>
                    <text class="split_one">|</text>h
                    <text class="">{{item.distance}}</text> -->
                    <view
                        class="sub-title-text"
                        wx:for="{{item.priceDiff}}"
                        wx:for-item="textItem"
                        wx:for-index="index"
                        wx:key="textItem"
                        style="color: {{storeId == item.stationNo ? '#fff' : textItem.color}}"
                    >
                        {{textItem.desc}}
                    </view>
                </view>
            </view>
        </view>
    </block>
    <block wx:else>
        <view class='bubble' wx:if="{{showTipMove}}"></view>
        <scroll-view scroll-x="true" class="scroll_case" scroll-into-view="store_{{curStoreIndex}}" bindscroll="storeScroll">
            <view class="flex-row store_case {{showStoreMove ? 'store_animation' : ''}}">
                <view class="log-store flex-none item" 
                      id="store_{{index}}" 
                      data-org-code="{{item.orgCode}}"
                      data-store-id="{{item.stationNo}}" 
                      data-item="{{item}}"
                      data-index="{{index}}"
                      bindtap="clickStoreItem" 
                      wx:for="{{storeList}}" 
                      wx:for-item="item" 
                      wx:for-index="index" 
                      wx:key="item">
                    <view class="content {{curStoreIndex == index ? 'active' : ''}} flex-row"
                          aria-role='button'
                          aria-label="{{item.storeName}}">
                        <view class="flex-none img_case" aria-hidden="true">
                            <image class="img" src="{{item.logo}}" />
                        </view>
                        <view class="info flex-auto"  aria-hidden="true">
                            <view class="title ellipsis">{{item.storeName}}</view>
                            <view class="sub_title ellipsis">
                                <!-- <text class="">{{item.deliveryTime}}</text>
                                <text class="split">|</text>
                                <text class="">{{item.distance}}</text> -->
                                <view
                                    class="sub-title-text"
                                    wx:for="{{item.priceDiff}}"
                                    wx:for-item="textItem"
                                    wx:for-index="subIndex"
                                    wx:key="textItem"
                                    style="color: {{curStoreIndex == index ? '#fff' : textItem.color}}"
                                >
                                    {{textItem.desc}}
                                </view>
                            </view>
                        </view>
                    </view>
                </view>
            </view>
        </scroll-view>
        <view class="more_case log-store-more" wx:if="{{storeList.length>2}}" bindtap="showPop" aria-role='button' aria-haspopup="true" aria-label="展示更多门店">
            <view class="more_icon icon dj_icon ts_down"></view>
        </view>
        <!-- 浮层 -->
        <view wx:if="{{showPop}}" catchtouchmove="catchtouchmove" bindtap="closePop" class="store_pop" style="top: {{capsule.bottom+'px'}}" aria-label='关闭弹层' aria-role='button'></view>
        <view wx:if="{{showPop}}" class="store_pop_content" style="top: {{capsule.bottom+'px'}}">
            <view class="flex-row title_case">
                <view class="store-count nav_left flex-auto"
                      aria-role='text'
                      aria-label='{{storeList.length}}个商家结果'>{{storeList.length}}个商家结果</view>
                <view class="nav_right flex-none" bindtap="closePop" aria-label="关闭弹层" aria-role='button'>
                    <view class="nav_icon icon dj_icon ts_up"></view>
                </view>
            </view>
            <scroll-view scroll-y="true" class="scroll_case_pop" catchtouchmove="catchtouchmove">
                <view class="store_list_pop">
                    <view class="log-pop-store store_pop_item" 
                          data-org-code="{{item.orgCode}}" 
                          data-store-id="{{item.stationNo}}" 
                          data-item="{{item}}"
                          data-index="{{index}}"
                          bindtap="clickStorePopItem" 
                          wx:for="{{storeList}}" 
                          wx:for-item="item" 
                          wx:for-index="index" 
                          wx:key="item">
                        <view class="store_pop_item_case flex-row {{curStoreIndex == index ? 'pop_active' : ''}}"
                              aria-role='button'
                              aria-label='{{item.storeName}}'>
                            <view aria-hidden="true" class="store_pop_item_left flex-none">
                                <image class="store_pop_item_img" src="{{item.logo}}" />
                            </view>
                            <view aria-hidden="true" class="store_pop_item_right flex-auto">
                                <view class="store_pop_item_title ellipsis">
                                    {{item.storeName}}
                                </view>
                                <view class="sub_title ellipsis">
                                    <!-- <text class="">{{item.deliveryTime}}</text>
                                    <text class="store_pop_item_split">|</text>
                                    <text class="">{{item.distance}}</text> -->
                                    <view
                                        class="sub-title-text"
                                        wx:for="{{item.priceDiff}}"
                                        wx:for-item="textItem"
                                        wx:for-index="index"
                                        wx:key="textItem"
                                        style="color: {{textItem.color}}"
                                    >
                                        {{textItem.desc}}
                                    </view>
                                </view>
                            </view>
                        </view>
                    </view>
                </view>
            </scroll-view>
        </view>
    </block>
</view>