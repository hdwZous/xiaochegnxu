<view class='category-filter-wrapper' wx:if="{{displayFilterFloor.length >= 1}}">
	<scroll-view 
		class="category-filter-scroll" 
		scroll-x
		scroll-left="{{scrollLeft}}"
		enable-flex="true"
		scroll-with-animation
        aria-role='listbox'
	>
		<view
			wx:for="{{displayFilterFloor}}"
			wx:key="index"
			wx:for-item="item"
			data-item="{{item}}"
			class="category-item {{ item.nodeType == 2 ? ((item.subFilterName && !categoryModal) ? 'selected' : '') : (item.status ? 'selected' : '')}}"
			bindtap="clickCatogory"
		> 
			<view class="caterory-wrapper"  
                  aria-role='button'
                  aria-haspopup="{{item.itemList && item.itemList.length ? true : false}}"
                  aria-label="{{item.nodeType == 1 ?  '已选中' + item.displayItem.itemName + '.点击弹出全部选项' : item.subFilterName ? '已选中' + item.subFilterName +  '.点击弹出全部选项' : item.filterName + '.点击弹出全部选项'}}">
				<view class="caterory-text">{{item.nodeType == 1 ? item.displayItem.itemName : item.subFilterName ? item.subFilterName : item.filterName}}</view>
				<view wx:if="{{item.itemList && item.itemList.length}}">
					<view
						wx:if="{{(selectItemObj.filterName === item.filterName) && categoryModal}}"
						class="icon dj_icon ts_up caterory-icon"
						style="color: {{item.subFilterName ? (categoryModal ? '' : '#00CF37') : ''}}"
					></view>
					<view
						wx:else
						class="icon dj_icon ts_down caterory-icon"
						style="color: {{item.subFilterName ? (categoryModal ? '' : '#00CF37') : ''}}"
					></view>
				</view>
			</view>
			<view  aria-hidden="true" wx:if="{{selectItemObj.filterName == item.filterName && categoryModal && item.nodeType == 2}}" class="caterory-flag"></view>
		</view>
  	</scroll-view>
	<view wx:if="{{categoryModal}}" class="sub-filter-wrapper" bind:tap="closeModal" catchtouchmove='true' aria-haspopup="true">
		<view class="sub-filter-content" catchtap="stopBubble">
			<scroll-view
				class="sub-filter-scroll"
				scroll-y
				enable-flex="true"
				style="height: {{subFilterScrollHeight}}rpx"
				scroll-with-animations
			>
				<view style="height: 16rpx; width: 100%"></view>
				<view
					wx:for="{{selectItemObj.itemList}}"
					wx:key="index"
					wx:for-item="item"
					class="sub-filter-item"
					data-item="{{item}}"
					data-index="{{index}}"
					bind:tap="clickSubFilter"
                    aria-label="{{item.itemName}}.点击将{{item.itemName}}添加到筛选项中.可多选.点击下方的确认筛选商品"
                    aria-role='button'
				>
					<view aria-hidden="true" class="sub-filter-text {{item.status ? 'activity' : ''}}">
						{{item.itemName}}
					</view>
					<image
                       aria-hidden="true"
						wx:if="{{item.status}}"
						class="sub-filter-icon"
						src="https://storage.360buyimg.com/wximg/storewin/green-right.png"
					/>
				</view>
			</scroll-view>
			<view class="button-wrapper">
				<view class="button-item" 
                      bind:tap="resetSubFilter"
                      aria-role='button'
                      aria-label="重置.点击清空已选筛选项.点击确认按钮过滤商品">重置</view>
				<view class="button-item confirm" 
                      bind:tap="confirmSubFilter"
                      aria-role='button'
                      aria-label="确认.点击按筛选项过滤商品">确认</view>
			</view>
		</view>
	</view>
</view>