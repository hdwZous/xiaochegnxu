"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDjXcxWebview=exports.getH5InWeappFlag=exports.isJDFinanceAppFn=exports.isJiSuApp=exports.isJxApp=exports.isXcxWebview=exports.isJDFinanceApp=exports.supportJDSHWK=exports.UrlChannelIsJingdongAppSearch=exports.isjdjrApp=exports.SidFromUrlForJingdongApp=exports.UrlIsWq=exports.jdDeviceId=exports.jdAPPVersion=exports.isJDReactNativeWebView=exports.djDeviceId=exports.djAppVersion=exports.supportDJSHWK=exports.isDaojiaApp=exports.isJDApp=exports.isWeixin=exports.isAndroid=exports.isIphonex=exports.isIOS=exports.ua=void 0;var _aesUtils=require("../utils/aes.utils.js"),ua=exports.ua=navigator.userAgent,getQueryString=function(e,i){e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),e=(i||window.location.href).substr(1).match(e);return null!=e?unescape(e[2]):""},url_for_channel_determine=window.location.href.toString().trim(),navigator_userAgent=ua;console.log("----ua----",ua);var wuf,replace_,screen=window.screen,isIOS=exports.isIOS=/iPhone|iPad|iOS/gi.test(ua),isIphonex=exports.isIphonex=!(!isIOS||812!=screen.height||375!=screen.width),isAndroid=exports.isAndroid=/android/gi.test(ua),isWeixin=exports.isWeixin=/(?:MicroMessenger)/.test(ua),isJDApp=exports.isJDApp=-1!=ua.indexOf("jdapp"),isDaojiaApp=exports.isDaojiaApp=!!ua.match(/appName\=jdLocal/gi),supportDJSHWK=exports.supportDJSHWK=-1!=ua.indexOf("supportDJSHWK"),djAppVersion=exports.djAppVersion=getQueryString("djAppVersion",ua),djDeviceStr="";isDaojiaApp&&(djAppVersion<"8.12.5"?(djDeviceStr=getQueryString("deviceId",ua),console.log("----djDeviceStr1----",djDeviceStr)):(wuf=getQueryString("WUF",ua),replace_=wuf.replace(/_/g,""),djDeviceStr=getQueryString("deviceId",(0,_aesUtils.decrypt)(replace_)),console.log("----djDeviceStr2----",djDeviceStr)));var djDeviceId=exports.djDeviceId=djDeviceStr,isJDReactNativeWebView=exports.isJDReactNativeWebView=getQueryString("reactnative")&&"jdreact"==getQueryString("reactnative"),jdAPPVersion=exports.jdAPPVersion=(ua.split(";")||[])[2]||"",jdDevice=isJDApp&&isIOS&&(navigator_userAgent.split(";")||[])[4]||"";if(isJDApp&&isAndroid){var nav=navigator_userAgent.split(";")||[];if(0<nav.length)for(var i=0;i<nav.length;i++)0==nav[i].indexOf("aid/")&&(jdDevice=nav[i].replace("aid/",""))}var jdDeviceId=exports.jdDeviceId=jdDevice,UrlIsWq=exports.UrlIsWq=getQueryString("fromWq"),_SidFromUrlForJingdongApp=/[\?\&]sid=([0-9a-zA-Z]+)/i.exec(url_for_channel_determine),SidFromUrlForJingdongApp=exports.SidFromUrlForJingdongApp=_SidFromUrlForJingdongApp?_SidFromUrlForJingdongApp[1]:"",isjdjrApp=exports.isjdjrApp=-1!=navigator_userAgent.indexOf("jdFinance")||-1!=navigator_userAgent.indexOf("jdfinance"),UrlChannelIsJingdongAppSearch=exports.UrlChannelIsJingdongAppSearch=/channel=searchJDapp/i.test(url_for_channel_determine),supportJDSHWK=exports.supportJDSHWK=-1!=navigator_userAgent.indexOf("supportJDSHWK")||1==window._is_jdsh_wkwebview,isJDFinanceApp=exports.isJDFinanceApp="jdjr-app"==navigator_userAgent.toLocaleLowerCase().match(/jdjr-app/i),isXcxWebview=exports.isXcxWebview=-1<ua.indexOf("miniProgram"),isJxApp=exports.isJxApp=-1<ua.indexOf("jdpingou"),isJiSuApp=exports.isJiSuApp=-1<ua.indexOf("jdltapp"),isJDFinanceAppFn=exports.isJDFinanceAppFn=function(){return"jdjr-app"==ua.toLowerCase().match(/jdjr-app/i)},getH5InWeappFlag=exports.getH5InWeappFlag=function(){return-1<ua.toLowerCase().indexOf("miniprogram")},isDjXcxWebview=exports.isDjXcxWebview=function(){return-1<ua.toLowerCase().indexOf("miniprogram")&&-1<window.location.href.indexOf("_is_djxcx_=1")};