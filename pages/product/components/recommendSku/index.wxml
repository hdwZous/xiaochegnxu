<view class="recommends">
    <view class="recommend-layout" wx:if="{{recommendSkuVOList && recommendSkuVOList.length>0}}">
        <view class="recommend-t" aria-role="text" aria-label="{{dimensionName}}">{{dimensionName}}</view>
        <scroll-view class="scroll-x" scroll-x="true" style="{{recommendSkuVOList.length>=3 ? '':'padding: 0px;'}}">
            <block wx:if="{{recommendSkuVOList.length>=3}}">
                <block wx:for="{{recommendSkuVOList}}" wx:for-item="item" wx:key="item">
                    <view class="ep_recommend-good-item rowItem " 
                          data-user-action="{{item.userActionSku}}" 
                          style="{{index==0 ? 'margin-left:10px':''}}"
                          bindtap="goToDetail" 
                          data-item="{{item}}" 
                          data-spu-id="{{item.spuId}}" 
                          data-sku-id="{{item.skuId}}" 
                          data-org-code="{{item.orgCode}}" 
                          data-store-id="{{item.storeId}}" 
                          data-trace-id="{{traceId}}"
                          data-page-id="{{recommendObj.pageIdFirstPage}}"
                          data-current-page-name="{{recommendObj.currentPageName}}"
                          data-pre-page-name="{{recommendObj.prePageName}}">
                        <view style='position:relative;width: 100%'>
                            <view style="display:flex;flex-wrap:wrap;"
                                  aria-role='link'
                                  aria-label="{{item.skuName}}现价{{item.majorPrice.price}}元.{{item.toHandPrice ? item.toHandPrice.rightText + '.' + item.toHandPrice.leftText : item.minorPrice ? '原价' + item.minorPrice.price + '元' : ''}} ">
                                <view class="recommend-image-layout" aria-hidden="true">
                                    <webp-img webp-img="recommend_item-image" src="{{item.imgUrl}}" mode="widthFix"  needOverlay="{{true}}" skuName="{{item.skuName}}"></webp-img>
                                    <view aria-hidden="true" class="recommend-tag-layout" wx:if="{{item.tags && item.tags.length>0 && item.tags[0].type != 27}}">
                                        <view class="recommend-tag-second-layout" style="background: linear-gradient(315deg, {{item.tags[0].startColorCode}} 0%, {{item.tags[0].endColorCode}} 100%);">
                                            <view dir="auto" class="recommend-tag-content">
                                                {{item.tags[0].iconText}}
                                            </view>
                                        </view>
                                    </view>
                                    <bottom-corner-tag
                                        wx:if="{{item.bottomCornerTag}}"
                                        infos="{{item.bottomCornerTag}}"
                                        moduleId="SkuYhsOne"
                                        showHandle="{{true}}"
                                    ></bottom-corner-tag>
                                </view>
                                <view class="recommend-item-text flex-auto ellipsis2" aria-hidden="true">
                                    <sku-name-tag wx:if="{{item.skuNameTag}}" infos="{{item.skuNameTag}}"></sku-name-tag>
                                    <text class="good-title-name">{{item.skuName}}</text>
                                </view>
                                <view class="cart-price-layout">
                                    <block wx:if="{{!item.majorPrice.price && !item.minorPrice.price}}">
                                        <view style="color: #ff5757;">暂无报价</view>
                                    </block>
                                    <block wx:else>
                                        <view class="price-group"     
                                            aria-hidden="true">
                                            <!-- major-price -->
                                            <coupon-price majorPrice="{{item.majorPrice}}" majorPriceFz="28rpx" majorPriceWhFz="24rpx" intervalPrice="{{item.intervalPrice}}" />
                                            <!-- minor-price  预估到手价 -->
                                            <coupon-price minorPrice="{{item.minorPrice}}" />
                                            <!-- <view aria-hidden="true" wx:if="{{item.majorPrice.price}}" class="maPrice" style="{{item.minorPrice.price ? '':'margin-top:12rpx;'}}">
                                                <view wx:if="{{item.majorPrice.price}}" style="{{item.majorPrice.deleteLine ? 'text-decoration: line-through;': ''}} font-size:28rpx; font-weight: bold;line-height:32rpx; color: {{item.majorPrice.priceColor}};font-family: 'regular';">
                                                    {{item.majorPrice.price == '暂无报价' ? item.majorPrice.price : '¥' + item.majorPrice.price}}
                                                </view>
                                                <view wx:if="{{item.intervalPrice}}" class="qi">起</view>
                                                <block wx:if="{{item.majorPrice.vipPriceIcon}}">
                                                    <image class="vipPriceIcon" style="{{item.majorPrice.priceType == 4 ? 'width:30rpx;' : 'width:76rpx;'}};height:20rpx;" src="{{item.majorPrice.vipPriceIcon}}"></image>
                                                </block>
                                                <block wx:if="{{item.majorPrice.iconGray && item.majorPrice.iconGrayText && item.majorPrice.deleteLine}}">
                                                    <view class="memberIcon">
                                                        <image class="memberIcon" src="{{item.majorPrice.iconGray}}"></image>
                                                        <view class="centerBox">
                                                            <view class="centerText">
                                                                {{item.majorPrice.iconGrayText}}
                                                            </view>
                                                        </view>
                                                    </view>
                                                </block>
                                            </view>
                                            <view aria-hidden="true" wx:if="{{item.minorPrice.price}}" class="maPrice">
                                                <view wx:if="{{item.minorPrice.price}}" style="{{item.minorPrice.deleteLine ? 'text-decoration: line-through;': ''}} font-size:24rpx; line-height: 30rpx; color: {{item.minorPrice.priceColor}};font-family: 'light';">
                                                    {{item.minorPrice.price == '暂无报价' ? item.minorPrice.price : '¥' + item.minorPrice.price}}
                                                </view>
                                                <view wx:if="{{item.intervalPrice}}" class="qi">起</view>
                                                <block wx:if="{{item.minorPrice.vipPriceIcon}}">
                                                    <image class="vipPriceIcon" style="{{item.minorPrice.priceType == 4 ? 'width:30rpx;' : 'width:76rpx;'}};height:20rpx;" src="{{item.minorPrice.vipPriceIcon}}"></image>
                                                </block>
                                                <block wx:if="{{item.minorPrice.iconGray && item.minorPrice.iconGrayText && item.minorPrice.deleteLine}}">
                                                    <view class="memberIcon">
                                                        <image class="memberIcon" src="{{item.minorPrice.iconGray}}"></image>
                                                        <view class="centerBox">
                                                            <view class="centerText">
                                                                {{item.minorPrice.iconGrayText}}
                                                            </view>
                                                        </view>
                                                    </view>
                                                </block>
                                            </view> -->
                                        </view>
                                    </block>
                                    <view style="position: absolute;bottom: {{item.minorPrice ? '8rpx' : '2rpx'}};right: 12rpx;">
                                      <add-min-controller showType="{{3}}" 
                                                          count="{{item.incartCount}}" 
                                                          skuId="{{item.skuId}}" 
                                                          spuId="{{item.spuId}}" 
                                                          data-source="detail_recommend" 
                                                          orgCode="{{item.orgCode}}" 
                                                          storeId="{{item.storeId}}" 
                                                          isAddCart="{{item.isAddCart}}" 
                                                          data-index="{{index}}"  
                                                          traceId="{{traceId}}" 
                                                          width="46" 
                                                          height="46" 
                                                          userAction="{{item.userActionSku || item.userAction}}" bind:addMinControllerChange="onAddMinControllerChange" 
                                                          biPageName="goodsinfo" 
                                                          pageId="{{recommendObj.pageIdFirstPage}}" currentPageName="{{recommendObj.currentPageName}}" 
                                                          prePageName="{{recommendObj.prePageName}}" traceId="{{traceId}}" 
                                                          iconType="{{item.iconType}}" 
                                                          transmitData="{{item.transmitData}}"
                                                          to="{{item.to}}"
                                                          params="{{item.params}}"
                                                          showModel="{{item.showModel}}">
                                        </add-min-controller>
                                    </view>
                                </view>
                            </view>
                            <!-- <view style="position: absolute;bottom: 32rpx;right: 0;">
                                <add-min-controller showType="{{3}}" 
                                                    count="{{item.incartCount}}" 
                                                    skuId="{{item.skuId}}" 
                                                    spuId="{{item.spuId}}" data-source="detail_recommend" 
                                                    orgCode="{{item.orgCode}}" 
                                                    storeId="{{item.storeId}}" 
                                                    isAddCart="{{item.isAddCart}}" 
                                                    data-index="{{index}}" 
                                                    showModel="{{item.showModel}}" 
                                                    traceId="{{traceId}}" 
                                                    width="46" 
                                                    height="46" 
                                                    userAction="{{item.userActionSku || item.userAction}}" bind:addMinControllerChange="onAddMinControllerChange"  
                                                    biPageName="goodsinfo"
                                                    pageId="{{recommendObj.pageIdFirstPage}}" 
                                                    currentPageName="{{recommendObj.currentPageName}}" 
                                                    prePageName="{{recommendObj.prePageName}}"
                                                    traceId="{{traceId}}"></add-min-controller>
                            </view> -->
                        </view>
                    </view>
                </block>
            </block>
            <block wx:else>
                <block wx:for="{{recommendSkuVOList}}" 
                       wx:for-item="item" 
                       wx:key="item">
                    <view class="ep_recommend-good-item rowItem2" 
                          data-user-action="{{item.userActionSku}}" 
                          bindtap="goToDetail" 
                          style="{{index==0 ? 'margin-left:10px':''}}" 
                          data-item="{{item}}" 
                          data-spu-id="{{item.spuId}}" 
                          data-count="{{item.incartCount}}" 
                          data-sku-id="{{item.skuId}}" 
                          data-org-code="{{item.orgCode}}" 
                          data-store-id="{{item.storeId}}" 
                          data-longitude="{{longitude}}" 
                          data-latitude="{{latitude}}" 
                          data-stock-count="{{item.stockCount}}" 
                          data-cat-length="{{item.length}}" 
                          data-trace-id="{{traceId}}" 
                          data-is-spu="{{!!item.spuId}}"
                          data-page-id="{{recommendObj.pageIdFirstPage}}"
                          data-current-page-name="{{recommendObj.currentPageName}}"
                          data-pre-page-name="{{recommendObj.prePageName}}">
                        <view class="recommend2-layout">
                            <view class="recommend-image-layout">
                                <image class="recommend2-item-image" src="{{item.imgUrl}}" mode="aspectFill" aria-role='link' aria-label="{{item.skuName}}"></image>
                                <view aria-hidden="true" class="recommend-tag-layout" wx:if="{{item.tags && item.tags.length>0}}">
                                    <view class="recommend-tag-second-layout"   
                                          style="background: linear-gradient(315deg, {{item.tags[0].startColorCode}} 0%, {{item.tags[0].endColorCode}} 100%);">
                                        <view dir="auto" class="recommend-tag-content">
                                            {{item.tags[0].iconText}}
                                        </view>
                                    </view>
                                </view>
                                <!-- 冷藏冷冻标 -->
                                <view aria-hidden="true" class="tag_left_top_image_wrap flex-row" wx:if="{{item.topLeftCornerTag && item.topLeftCornerTag.componentTag}}" style="color:{{item.topLeftCornerTag.componentTag.iconTextColorCode || '#ffffff'}};background:linear-gradient(135deg, {{item.topLeftCornerTag.componentTag.startColorCode?item.topLeftCornerTag.componentTag.startColorCode:'rgb(73, 154, 255)'}} 0%, {{item.topLeftCornerTag.componentTag.endColorCode?item.topLeftCornerTag.componentTag.endColorCode:'rgb(49, 141, 255)'}} 100%)">
                                    <view class="tag_left_top_image_case flex-none" wx:if="{{item.topLeftCornerTag.componentTag.iconUrl}}">
                                        <image class="tag_left_top_image" src="{{item.topLeftCornerTag.componentTag.iconUrl}}" mode="aspectFit|aspectFill|widthFix" lazy-load="false" binderror="" bindload="" />
                                    </view>
                                    <view class="tag_left_top_image_txt flex-none">
                                        {{item.topLeftCornerTag.componentTag.iconText}}
                                    </view>
                                </view>
                            </view>
                            <view class="recommend2-price-layout">
                                <view class="recommend2-item-text flex-auto ellipsis2"
                                      aria-label="{{item.skuName}}"
                                      aria-role='link'>
                                    {{item.skuName}}
                                </view>
                                <view class="cart-price-layout" style="margin-bottom: 0rpx;">
                                    <block wx:if="{{!item.majorPrice.price && !item.minorPrice.price}}">
                                        <view style="color: #ff5757;">暂无报价</view>
                                    </block>
                                    <block wx:else>
                                        <view class="price-group"
                                              aria-role='link' 
                                              aria-label="现价{{item.majorPrice.price}}元.{{item.toHandPrice ? item.toHandPrice.rightText + '.' + item.toHandPrice.leftText : item.minorPrice ? '原价' + item.minorPrice.price + '元' : ''}} ">
                                            <view aria-hidden="true" wx:if="{{item.majorPrice.price}}" class="maPrice" style="{{item.minorPrice.price ? '':'margin-top:12rpx;'}}">
                                                <view wx:if="{{item.majorPrice.price}}" style="{{item.majorPrice.deleteLine ? 'text-decoration: line-through;': ''}} font-size:28rpx; font-weight: bold;line-height:32rpx; color: {{item.majorPrice.priceColor}}">
                                                    {{item.majorPrice.price == '暂无报价' ? item.majorPrice.price : '¥' + item.majorPrice.price}}
                                                </view>
                                                <view wx:if="{{item.intervalPrice}}" class="qi">
                                                    起
                                                </view>
                                                <block wx:if="{{item.majorPrice.vipPriceIcon}}">
                                                    <image class="vipPriceIcon" style="{{item.majorPrice.priceType == 4 ? 'width:30rpx;' : 'width:76rpx;'}};height:20rpx;" src="{{item.majorPrice.vipPriceIcon}}"></image>
                                                </block>
                                                <block wx:if="{{item.majorPrice.iconGray && item.majorPrice.iconGrayText && item.majorPrice.deleteLine}}">
                                                    <view class="memberIcon">
                                                        <image class="memberIcon" src="{{item.majorPrice.iconGray}}"></image>
                                                        <view class="centerBox">
                                                            <view class="centerText">
                                                                {{item.majorPrice.iconGrayText}}
                                                            </view>
                                                        </view>
                                                    </view>
                                                </block>
                                            </view>
                                            <view aria-hidden="true" wx:if="{{item.minorPrice.price}}" class="maPrice">
                                                <view wx:if="{{item.minorPrice.price}}" style="{{item.minorPrice.deleteLine ? 'text-decoration: line-through;': ''}} font-size:24rpx; line-height: 30rpx; color: {{item.minorPrice.priceColor}} ">
                                                    {{item.minorPrice.price == '暂无报价' ? item.minorPrice.price : '¥' + item.minorPrice.price}}
                                                </view>
                                                <view wx:if="{{item.intervalPrice}}" class="qi">
                                                    起
                                                </view>
                                                <block wx:if="{{item.minorPrice.vipPriceIcon}}">
                                                    <image class="vipPriceIcon" style="{{item.minorPrice.priceType == 4 ? 'width:30rpx;' : 'width:76rpx;'}};height:20rpx;" src="{{item.minorPrice.vipPriceIcon}}"></image>
                                                </block>
                                                <block wx:if="{{item.minorPrice.iconGray && item.minorPrice.iconGrayText && item.minorPrice.deleteLine}}">
                                                    <view class="memberIcon">
                                                        <image class="memberIcon" src="{{item.minorPrice.iconGray}}"></image>
                                                        <view class="centerBox">
                                                            <view class="centerText">
                                                                {{item.minorPrice.iconGrayText}}
                                                            </view>
                                                        </view>
                                                    </view>
                                                </block>
                                            </view>
                                        </view>
                                    </block>
                                    <view style="margin-top:10rpx;">
                                        <add-min-controller showType="{{3}}" count="{{item.incartCount}}" skuId="{{item.skuId}}" spuId="{{item.spuId}}" orgCode="{{item.orgCode}}" storeId="{{item.storeId}}" isAddCart="{{item.isAddCart}}" data-index="{{index}}" showModel="{{item.showModel}}"  width="46" height="46"  userAction="{{item.userActionSku || item.userAction}}" bind:addMinControllerChange="onAddMinControllerChange"  iconType="{{item.iconType}}" transmitData="{{item.transmitData}}" to="{{item.to}}" params="{{item.params}}" showModel="{{item.showModel}}"></add-min-controller>
                                    </view>
                                </view>
                            </view>
                        </view>
                    </view>
                </block>
            </block>
        </scroll-view>
    </view>
</view>