<!-- 优惠券 -->
<block wx:for="{{data}}" wx:for-item="item" wx:for-index="index" wx:key="item" >
    <view wx:if="{{item.vipType!==4}}"class="wrap flex-row" data-item="{{item}}" bindtap="getCoupon" data-index="{{index}}" data-coupon-code="{{item.activityCode}}" data-is-fans="{{item.isFans}}" data-mark-state="{{item.markState}}" data-coupon-limit="{{item.couponLimit}}" data-amount="{{item.amount}}" data-coupon-id="{{item.couponId}}" data-is-gain="{{item.isGain}}" data-is-show-layer="{{item.showLayer}}">
            <view class="left flex-row flex-auto">
                <view class="money-cont flex-col">
                    <view class="money flex-row">
                        <view wx:if="{{item.couponType!==5}}" class="unit">¥</view>
                        <view class="cent flex-row" wx:if="{{item.cent}}">
                            <view class="num">{{item.yuan}}</view>
                            <view>{{"." + item.cent}}</view>
                        </view>
                        <view wx:else class="num">{{item.amount}}</view>
                        <view wx:if="{{item.couponType==5}}" class="unit">折</view>
                        <!-- <view class="num">{{item.amount}}</view> -->
                    </view>
                    <view class="limit ellipsis">{{item.limitRule}}</view>
                </view>
                <view class="coupon">
                        <view class="title ellipsis">{{item.couponTitle}}</view>
                        <view class="tags flex-row">
                        <view class="blue" wx:if="{{item.couponMode == 3}}">
                                运费券
                        </view>
                        <view class="red" wx:if="{{item.isFans}}">
                                关注可领
                        </view>
                        </view>
                        <view class="date ellipsis">{{item.avilableDate}}</view>
                </view>
            </view>
            <view class="right">
                <block wx:if="{{item.markState==5}}">
                    <view class="btn sold-out">{{item.styles.couponButStyle.title || item.couponButton.title}}</view>
                </block>
                <block wx:elif="{{item.markState==3}}">
                    <block wx:if="{{item.toUse &&item.toUse!=0 }}">
                        <view class="flex-none right flex-row">
                            <view class="conpon-get-btn">
                               {{item.styles.couponButStyle.title || item.couponButton.title}}
                            </view>
                        </view>
                    </block>
                    <block wx:else>
                       <view class="btn has-get">{{item.styles.couponButStyle.title || item.couponButton.title}}</view>
                    </block>

                </block>
                <block wx:elif="{{item.markState==2}}">
                    <view class="btn go-get">{{item.styles.couponButStyle.title || item.couponButton.title}}</view>
                </block>
                <block wx:if="{{item.couponMode==2}}">
                    <image class="flag" src="https://storage.360buyimg.com/wximg/store/over_mark.png" />
                </block>
            </view>
    </view>
</block>
