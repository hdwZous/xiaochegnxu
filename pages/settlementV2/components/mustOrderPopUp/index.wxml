<block wx:if="{{isShow && isInShow}}">
  <view class="mustOrderPopUp {{ipx ? 'mustOrderPopUp_ipx' : ''}}">
    <view class="mustOrderPopUp_contanier mustOrderPopUp_contanier_ipx">
      <view class="mustOrderPopUp_title ellipsis">
        <view class="mustOrderPopUp_icon dj_icon ts_next" bindtap="goBack"></view>
        {{requiredCategoryData.data.layerTitle}}
      </view>
      <scroll-view 	scroll-y="{{true}}" class="mustOrderPopUp_lists">
        <view class="mustOrderPopUp_list" wx:for="{{requiredCategoryData.data.productList}}">
          <view class="mustOrderPopUp_list_image">
            <webp-img width="160" height="160" src="{{item.imgUrl}}" needOverlay="{{true}}"/>
          </view>
          <view class="mustOrderPopUp_list_content">
            <view class="mustOrderPopUp_list_title ellipsis2">{{item.skuName}}</view>
            <!-- <view class="mustOrderPopUp_list_desc">{{item.desc}}</view> -->
            <view class="mustOrderPopUp_list_price">
              <coupon-price
                majorPriceFz="36rpx"
                majorPrice="{{item.majorPrice}}"
              ></coupon-price>
            </view>
          </view>
          <view class="mustOrderPopUp_add">
            <!-- 正常加车 -->
            <block wx:if="{{requiredCategoryData.data.productOperateType == 1}}">
              <add-min-controller
                showType="2"
                transmitData="{{item.transmitData}}"
                skuId="{{item.skuId}}"
                spuId="{{item.spuId}}"
                to="{{item.to}}"
                params="{{item.params}}"
                biPageName="{{biPageName}}"
                weight="{{item.cartWeight}}"
                orgCode="{{orgCode}}"
                storeId="{{storeId}}"
                userAction="{{item.userAction}}"
                recommendObj="{{recommendObj}}"
                biActivityId="{{biActivityId}}"
                showModel="{{item.showModel}}"
                weighting="{{item.weighting}}"
                addCartText="{{item.weightPriceStr || ''}}"
                pageId="{{recommendObj.pageIdFirstPage}}"
                prePageName="{{recommendObj.prePageName}}"
                currentPageName="{{recommendObj.currentPageName}}"
                bind:addMinControllerChange="onAddMinControllerChange"
                count="{{item.showModel ? item.spuCartCount : item.incartCount}}"
              ></add-min-controller>
            </block>
            <block wx:if="{{requiredCategoryData.data.productOperateType == 2}}">
              <view class="wrap">
                <!-- 减车 -->
                <view catchtap="min" data-item="{{item}}" hidden="{{item.incartCount == 0 ? true : false}}">
                  <view
                    class="min"
                    aria-role="button"
                    aria-label="减少购买数量"
                  ></view>
                </view>
                <!-- 数量 -->
                <view
                  class="num"
                  hidden="{{item.incartCount == 0 ? true : false}}"
                  catchtap="modifyNumber"
                >{{item.incartCount}}</view>
                <!-- 加车 -->
                <view catchtap="add" aria-role="button" aria-label="增加购买数量">
                  <view
                    class="add"
                    catchtap="add"
                    aria-role="button"
                    aria-label="增加购买数量"
                    data-item="{{item}}"
                  ></view>
                </view>
              </view>
            </block>
          </view>
        </view>
      </scroll-view>
      <view class="mustOrderPopUp_confim">
        <view bind:tap="confirm" class="mustOrderPopUp_confim_btn {{isConfirm ? 'mustOrderPopUp_confim_btn2' : ''}}">确定</view>
      </view>
    </view>
  </view>
</block>