<!-- pages/settlementV2/components/footerModule/index.wxml -->
<view class="wrap">
    <view class="white_box">
        <!-- 备注 -->
        <view class="remark flex-row white_item" wx:if="{{orderMark.title}}">
            <view class="flex-none white_title" aria-role="text" aria-label="{{orderMark.title||'备注'}}">{{orderMark.title||'备注'}}</view>
            <view class="flex-auto flex-row white_value" bindtap="onRemarkClick" aria-role="link" aria-label="{{remarkContent||orderMark.data.markDefaultText}}">
                <view wx:if="{{remarkContent}}" class='flex-none remark_text ellipsis color00'>
                    {{remarkContent}}
                </view>
                <view wx:else class='flex-none remark_text ellipsis'>
                    {{orderMark.data.markDefaultText}}
                </view>
                <view class="flex-none dj_icon ts_next"></view>
            </view>
        </view>
        <view class='store_item_line'></view>
        <!-- 餐具 -->
        <view wx:if="{{tableWareData && tableWareData.data}}" class="tableWareLine" bind:tap="openTableWare">
            <!-- 左侧 -->
            <view style="display: flex;align-items: center;">
                <view
                    wx:for="{{tableWareData.data.title.textList}}"
                    class="tableWareLine_left"
                    style="color: {{item.fontColor}};font-size: {{item.fontSize * 2}}rpx"
                >{{item.text}}</view>
            </view>
            <!-- 右侧 -->
            <view class="tableWareLine_right">
                <block wx:for="{{tableWareData.data.rightText.textList}}">
                    <!-- 图标 -->
                    <view wx:if="{{item.type == 3}}" class="tableWareLine_img">
                        <image src="{{item.url}}"></image>
                    </view>
                    <!-- 文本 -->
                    <view wx:if="{{item.type == 1}}" style="color: {{item.fontColor}}" class="tableWareLine_text">{{item.text}}</view>
                </block>
                <!-- 箭头 -->
                <view class="tableWareLine_icon dj_icon {{tableWareData.data.arrowStatus ? 'ts_next' : ''}}"></view>
            </view>
        </view>
        <view class='store_item_line'></view>
        <!-- 发票 -->
        <view class="invoice_wrap" wx:if="{{invoice}}" bind:tap="handleInvoiceClick" aria-role="link" aria-label="{{invoice.title}}{{!invoice.data.supportClickInvoice?invoice.data.invoiceCapion:invoiceRightValue}}{{invoiceData.invoiceData.taxNum||''}}">
            <view class="invoice_left flex-none"> {{invoice.title}} </view>
            <view class="invoice_right">
              <view class="d-flex flex-row align-items-center justify-content-end">
                <text class="selected_invoice txt ellipsis" style="color:{{invoice.data.invoiceCapion || invoiceRightValue=='未选择' ?'#999':'#333'}}">{{!invoice.data.supportClickInvoice?invoice.data.invoiceCapion:invoiceRightValue}}</text> 
                <text class="dj_icon ts_next" wx:if="{{invoice.data.supportClickInvoice}}"></text> 
              </view>
              <view class="selected_invoice" style="text-align:right;padding-right:36rpx;color:#333" wx:if="{{invoiceData.invoiceData.taxNum}}">{{invoiceData.invoiceData.taxNum}}</view>
            </view>
        </view>
        <view class='store_item_line'></view>
        <!-- 缺货 -->
        <view class="lack_good flex-row white_item" wx:if="{{lackGoodsInfo}}">
            <view class="flex-none white_title" aria-role="text" aria-label="如遇缺货">{{lackGoodsInfo.title}}</view>
            <view class="flex-auto flex-row white_value" bindtap="showLackGoodDialog" aria-role="link" aria-label="{{selectedLackGoods}}">
                <view class="flex-none">{{selectedLackGoods}}</view>
                <view class="flex-none dj_icon ts_next"></view>
            </view>
        </view>
    </view>
</view>


<!--备注输入框-->
<remark-dialog titleText="备注信息" cancelText="取消" confirmText="确定" showDialog="{{showRemarkDialog}}" height="580"
               width="590" data-type="rule" useClose="{{true}}"
               bind:clickConfirm="onRemarkCompleted"
               bind:clickCancel="onRemarkCancel">
    <textarea placeholder="{{orderMark.data.markHint||'订单备注（60字以内）'}}" placeholder-style="color:#BEBEBE;font-size:28rpx" placeholder-class
              adjust-position fixed="{{true}}" cursor-spacing="230" bindinput="onRemarkInput"
              maxlength="60" class="dialog-content flex-col"
              focus="{{focus}}"
              value="{{dialogRemarkContent}}"
              style="padding:10rpx;height:320rpx;width: 510rpx;background: #FAFAFA;margin:30rpx auto 0"
              aria-role="button" aria-label="{{dialogRemarkContent||''}}">
    </textarea>
</remark-dialog>
<!--缺货弹窗-->
<lack-good dataList="{{pickerOptionList}}" pickerTitle="{{pickerTitle}}" checkedIndex="{{lackGoodsIndex}}" isShow="{{showLackGood}}" bind:select="handleSelect" bindcloseLackGood="closeLackGood"></lack-good>