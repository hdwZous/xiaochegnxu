<view class="confirm-dialog-bg flex-col" wx:if="{{show}}" bindtap="hide" catchtouchmove='true'>
    <view class="confirm-dialog-body " 
          style="bottom:{{showDialog?0:'-1000px'}}"
          >
        <view class="title-box">
            <view class="text" aria-role="text" aria-label="红包" >红包</view>
            <view class="confirm-dialog-close dj_icon ts_close" bindtap="hide" aria-role="button" aria-label="关闭弹窗"></view>
        </view>
        <scroll-view  scroll-y class="content">
            <!--notRedPacketList 不使用红包-->
            <block wx:if="{{redPacketInfo.notRedPacketModeList&&redPacketInfo.notRedPacketModeList.length}}">
                <view class="card-box flex-row" 
                      catchtap="checkRed"
                      wx:for="{{redPacketInfo.notRedPacketModeList}}" 
                      wx:for-item="item"
                      wx:key="index"
                      data-selected-state="{{item.selectedState||''}}" 
                      data-coupon-code="{{item.couponCode||''}}"
                      aria-role="button"
                      aria-label="选择不使用红包">
                    <view class="uncheck-box" wx:if="{{item.selectedState==10}}"></view>
                    <view class="checked-box" wx:elif="{{item.selectedState==20}}"></view>
                    <view class="forbidden-check-box" wx:elif="{{item.selectedState==30}}"></view>
                    <view class="not-use-check-card">
                        {{item.discountDesc}}
                    </view>
                </view>
            </block>
            <!--exchangeRedPacketList 可兑换的红包-->
            <block wx:if="{{redPacketInfo.exchangeRedPacketModeList&&redPacketInfo.exchangeRedPacketModeList.length}}">
                <view class="card-box flex-row" 
                      wx:for="{{redPacketInfo.exchangeRedPacketModeList}}" 
                      wx:for-item="item"
                      wx:key="key">
                    <!--选择按钮-->
                    <view class="uncheck-box" wx:if="{{item.selectedState==10}}" aria-role="button" aria-label="选中" data-types="exchange" data-datas="{{item}}" data-selected-state="{{item.selectedState}}" catchtap="checkRed"></view>
                    <view class="checked-box" wx:elif="{{item.selectedState==20}}"></view>
                    <view class="forbidden-check-box" wx:elif="{{item.selectedState==30}}"></view>
                    <!--卡片-->
                    <view style="width:100%">
                       <coupon-item item="{{item}}" unique="{{unique}}" unuseType="redPacket" orderPageId="{{orderPageId}}" bind:rightBtnClick="getVipExchangeInfo" noNeedExposure="{{true}}" recommendObj="{{buriedObj}}" />
                    </view>
                </view>
            </block>
            <!--redPacketList 普通红包-->
            <block wx:if="{{redPacketInfo.redPacketModeList&&redPacketInfo.redPacketModeList.length}}">
                <view class="card-box flex-row" 
                      catchtap="checkRed"
                      wx:for="{{redPacketInfo.redPacketModeList}}" 
                      wx:for-item="item" 
                      wx:key="index"
                      data-selected-state="{{item.selectedState}}" 
                      data-coupon-code="{{item.couponCode||''}}">
                    <!--选择按钮-->
                    <view class="uncheck-box" wx:if="{{item.selectedState==10}}" aria-role="button" aria-label="选中"></view>
                    <view class="checked-box" wx:elif="{{item.selectedState==20}}"></view>
                    <view class="forbidden-check-box" wx:elif="{{item.selectedState==30}}"></view>
                    <!--卡片-->
                    <view style="width:100%">
                        <coupon-item item="{{item}}" unique="{{unique}}" orderPageId="{{orderPageId}}" unuseType="redPacket" isFirst="{{redPacketInfo.exchangeRedPacketModeList && redPacketInfo.exchangeRedPacketModeList.length>0 ? false : index==0}}" noNeedExposure="{{true}}" recommendObj="{{buriedObj}}"/>
                    </view>               
                </view>
            </block>
            <!-- 暂无红包 -->
            <view class="no_bag" wx:if="{{redPacketInfo.exchangeRedPacketModeList && redPacketInfo.exchangeRedPacketModeList.length==0 && redPacketInfo.redPacketModeList && redPacketInfo.redPacketModeList.length==0}}">
                <view class="no_bag_image"></view>
                <view class="no_bag_text" aria-role="text" aria-label="暂无红包">暂无红包</view>
            </view>
        </scroll-view>
        <view style="height: 60rpx" wx:if="{{isIpx}}"></view>
    </view>
</view>
<vip-exchange
        data="{{vipExchange}}"
        show="{{showVipExchange}}"
        orderPageId="{{orderPageId}}"
        buriedObj="{{buriedObj}}"
        buyCouponWithOrderFlag="{{buyCouponWithOrderFlag}}"
        bind:widgetEvent="onWidgetEvent">
</vip-exchange>

