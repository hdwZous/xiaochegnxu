"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function o(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}}(),_get=function e(t,a,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(o):void 0:null!==(n=Object.getPrototypeOf(t))?e(n,a,o):void 0},_index=require("../../../../../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_indexWeapp=require("../../../../../npm/@jd/djmp/common-t/js/taroapi/index.weapp.js"),_memberModuleScssMap=require("./member.module.scss.map.js"),_memberModuleScssMap2=_interopRequireDefault(_memberModuleScssMap),_indexWeapp2=require("../../../../../npm/@jd/djmp/common-t/js/bi/index.weapp.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}_temp2=_class=function(){function r(){var e,t;_classCallCheck(this,r);for(var a=arguments.length,o=Array(a),n=0;n<a;n++)o[n]=arguments[n];return(e=t=_possibleConstructorReturn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o)))).$usedState=["$compid__272","$compid__273","marqueeData","headData","_$_$anonymousState__temp","vipFlag","style","anonymousState__temp2","cardImg","firMon","secondMon","showMore","userCardType"],t.goToHelp=function(e){e.stopPropagation(),t.setState({showMore:!1});(0,_indexWeapp2.clickReport)({create_time:new Date,click_id:"clickRule",click_par:{site:"up"}}),(0,_indexWeapp.navigateToBySelf)("/pages/vpayMember-t/instructions/index?page=question","findpage"==t.$router.params.channel?"openNewWebview":"")},t.onBuyList=function(){t.setState({showMore:!1}),(0,_indexWeapp.navigateTo)("/pages/vpayMember-t/envelopesRecord/index")},t.customComponents=["MarqueeVip"],_possibleConstructorReturn(t,e)}return _inherits(r,_index.Component),_createClass(r,[{key:"_constructor",value:function(e){_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"_constructor",this).call(this,e),this.state={showMore:!1},this.$$refs=[]}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e,t=this.$prefix,a=(0,_index.genCompid)(t+"$compid__272"),o=(0,_index.genCompid)(t+"$compid__273"),n=this.__props,r=n.userCardType,p=n.headData,i=n.vipFlag,n=n.marqueeData,r=this.setCardName(r),s=0,c=0,t=(p&&p.saveMoney&&(s=-1<p.saveMoney.indexOf(".")?p.saveMoney.split(".")[0]:p.saveMoney,c=-1<p.saveMoney.indexOf(".")?p.saveMoney.split(".")[1]:0),0==i&&(e=void 0,e=this._createMoreData(t+"sFWkzsEsGy")(),n&&n.length&&_index.propsManager.set({bgcolor:"white",data:n},a)),this._createMoreData(t+"GBlvmLvkFo")());return 3==i&&n&&n.length&&_index.propsManager.set({bgcolor:"black",data:n},o),Object.assign(this.__state,{$compid__272:a,$compid__273:o,marqueeData:n,headData:p,_$_$anonymousState__temp:e,vipFlag:i,style:_memberModuleScssMap2.default,anonymousState__temp2:t,cardImg:r,firMon:s,secondMon:c}),this.__state}},{key:"_createMoreData",value:function(e){var a=this;return function(){var e=a.state.showMore,t=a.props.vipFlag;return a.anonymousFunc0=function(){return a.setState({showMore:!1})},{style:_memberModuleScssMap2.default,vipFlag:t,showMore:e}}}},{key:"toExchangePage",value:function(){var e=this.props.vipFlag;this.setState({showMore:!1});(0,_indexWeapp2.clickReport)({create_time:new Date,click_id:"click_codepage",click_par:{type:{1:"open",0:"notOpen",3:"past "}[e]}}),"findpage"==this.$router.params.channel?(0,_indexWeapp.navigateToBySelf)("/pages/vpayMember-t/exchangePage/index?fromPage=appTab&vipFlag="+e,"openNewWebview"):(0,_indexWeapp.navigateTo)("/pages/vpayMember-t/exchangePage/index?vipFlag="+e)}},{key:"showMoreFn",value:function(){var e=this.state.showMore,t=this.props.vipFlag;(0,_indexWeapp2.clickReport)({create_time:new Date,click_id:"clickMore",click_par:{type:{1:"open",0:"notOpen",3:"past "}[t]}}),this.setState({showMore:!e})}},{key:"setCardName",value:function(e){var t=this.props.vipFlag,a={1:"https://storage.360buyimg.com/wximg/member/week-c.png",2:"https://storage.360buyimg.com/wximg/member/t-month-c.png",3:"https://storage.360buyimg.com/wximg/member/text-card.png",4:"https://storage.360buyimg.com/wximg/member/rent-month.png",5:"https://storage.360buyimg.com/wximg/member/t-season-c.png",6:"https://storage.360buyimg.com/wximg/member/t-year-c.png"};return 0<e&&a[e]?(3==t?{1:"https://storage.360buyimg.com/wximg/member/week-o.png",2:"https://storage.360buyimg.com/wximg/member/month-card.png",3:"https://storage.360buyimg.com/wximg/member/test-card-o.png",4:"https://storage.360buyimg.com/wximg/member/rent-month-overtime.png",5:"https://storage.360buyimg.com/wximg/member/season-card.png",6:"https://storage.360buyimg.com/wximg/member/year-card.png"}:a)[e]:"https://storage.360buyimg.com/wximg/vpayMember/month_card_icon_5.png"}},{key:"toReNew",value:function(){var e=(this.props||{}).headData,e=e&&e.renewalToastText,e=(e&&(0,_indexWeapp.showToast)({title:e||"抱歉~您的续费周期已达上限，暂不能续费!"}),this.props),t=e.vipFlag,e=e.userCardType,a=((0,_indexWeapp2.clickReport)({create_time:new Date,click_id:"clickOpen",click_par:{site:"up",type:{1:"open",0:"notOpen",3:"past "}[t]}}),""),a="findpage"==this.$router.params.channel?e?"payFrom=appTab&vipFlag="+t+"&userCardType="+e+"&h5=#newPay":"payFrom=appTab&vipFlag="+t+"&h5=#newPay":e?"vipFlag="+t+"&userCardType="+e+"&h5=#newPay":"vipFlag="+t+"&h5=#newPay";(0,_indexWeapp.navigateToBySelf)("/pages/vpayMember-t/packageSelection/index?"+a,"findpage"==this.$router.params.channel?"openNewWebview":"")}},{key:"jumpToCouponTab",value:function(e){var t=this.props,a=t.userCardType,t=t.vipFlag,o=((0,_indexWeapp2.clickReport)({create_time:new Date,click_id:"redPackage"==e?"clickRedPacket":"clickBonus",click_par:{type:{1:"open",0:"notOpen",3:"past "}[t]}}),this.$router.params.channel),o=void 0===o?"":o;(0,_indexWeapp.navigateToBySelf)("/pages/vpayMember-t/couponTab/index?vipFlag="+t+"&pageType="+e+"&userCardType="+a+"&channel="+o,"findpage"==o?"openNewWebview":"")}},{key:"onClickToRecord",value:function(){(0,_indexWeapp.navigateToBySelf)("/pages/vpayMember-t/envelopesRecord/index","findpage"==this.$router.params.channel?"openNewWebview":"")}},{key:"gotoNotice",value:function(e){(0,_indexWeapp2.clickReport)({click_id:"click_vipallowance",click_par:{type:e}}),(0,_indexWeapp.navigateToBySelf)("/pages/vpayMember-t/introductionPage/index","findpage"==vthis.$router.params.channel?"openNewWebview":"")}},{key:"anonymousFunc0",value:function(e){}}]),r}(),_class.$$events=["toReNew","jumpToCouponTab","showMoreFn","toExchangePage","onBuyList","goToHelp","anonymousFunc0"],_class.multipleSlots=!0,_class.$$componentPath="pages/vpayMember-t/home/components/memberBoxNew/index";var MemberBox=_temp2;exports.default=MemberBox,Component(require("../../../../../npm/@tarojs/taro-weapp/index.js").default.createComponent(MemberBox));