(wx.webpackJsonp=wx.webpackJsonp||[]).push([[3],[,,function(o,e,t){"use strict";t.d(e,"b",function(){return n}),t.d(e,"a",function(){return r});function j(e){f();var t=Object(l.getStorageSync)("address_info"),n=(a=Object(l.getStorageSync)("login_info")).openId,r=a.o2o_m_h5_sid,a=a.PDJ_H5_PIN,o="",p="",s={};try{var i=(s=Object(l.getSystemInfoSync)()).system.split(" "),o=i[0],p=i[1]}catch(e){}var i=new Date,d=e.create_time&&e.create_time.getTime()||i.getTime(),c=Object(g.a)("historyPage")||[],u=e.testTag||Object(g.a)("testTag"),c=(u&&0<u.length&&u.forEach(function(e,t){Date.now()-e.startTime>e.duration&&u.splice(t,1)}),[{"cur_path":c[1]&&c[1].path||"","ref_path":c[0]&&c[0].path||"","cur_page":c[1]&&c[1].name||"","is_test":0,"log_data_type":e.log_data_type,"session_id":r,"ep":e.ep||"","page_name":c[1]&&c[1].name||"","ref_page_name":c[0]&&c[0].name||"","device_id":h(),"poi_select":t.poi,"lat_select":t.latitude,"lng_select":t.longitude,"city_name_select":t.cityName,"lng_pos":t.longitude||"","lat_pos":t.latitude||"","channel_name":e.business||Object(g.a)("business")||"","app_name":"wx_xcx","app_version":"3.5.2","wechat_version":s.version,"create_time":d,"visit_time":i.getTime(),"os":o,"os_ver":p,"openId":n,"brand":s.brand,"model":s.model,"click_par":e.click_par||"","ext_par":{"fontSizeSetting":s.fontSizeSetting,"SDKVersion":s.SDKVersion,"language":s.language,"adcode":t.adcode||""},"page_par":e.page_par||"","user_id":a,"store_id":e.store_id||"","sku_id":e.sku_id||"","order_id":e.order_id||"","click_id":e.click_id||"","testtag":JSON.stringify(u)}]);"wechat_app_pv"==e.log_data_type&&(getApp().globalData.globalCurrentPageNameObj={"currentPageName":c[0].page_name||""}),wx.request({"url":"https://log-o2o.jd.com/v1/logging","data":{"kafka topic":"topic_daojia_wechat_app","logType":"show"===e.log_data_type?e.log_data_type:"daojia_wechat","json":JSON.stringify(c)},"method":"POST","header":{"Content-Type":"application/x-www-form-urlencoded","Cookie":"cart_uuid="+h(),"sid":r},"success":function success(e){},"fail":function fail(e){}})}var l=t(0),g=t(3),h=function getDeviceId(){var e=Object(l.getStorageSync)("uuId");if(!e){for(var t=[],n="0123456789abcdef",r=0;r<36;r++)t[r]=n.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=n.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",e=t.join(""),Object(l.setStorageSync)("uuId",e)}return e},a={"pages/home/home":"home","pages/store/index":"storeinfo","pages/tabBar/orderlist/index":"myorderlist","pages/order/orderdetail/index":"myorderdetail","pages/settlement/settlement":"settlement","pages/coupon/person-coupon":"couponslist","pages/searchAbout/search/search":"store_search","pages/searchAbout/search-result/search-result":"search_results","pages/searchAbout/storeSearchResult/storeSearchResult":"store_searchresult","pages/channel/channel":"channel","pages/shareGift/shareGift":"sharegift","pages/shareGift/coupon":"sharegift_cash","pages/tabBar/easyGo/easyGo":"EasyGoHome","pages/easyGo/shoppingCart/index":"EasyGoShopCar","pages/easyGo/paySuccess/paySuccess":"EasyGoVerificationCode","pages/easyGo/orderFinish/index":"EasyGoOrderSuccess","pages/tabBar/person/person":"myinfo","pages/coupon/voucherlist":"voucherlist","pages/coupon/push-coupon":"push_coupon","pages/redPacketFission/redPacketFission":"reward","pages/order/orderstatus/index":"order_status","pages/newLogin/login/login":"log_register","pages/activity/homeFocus/index":"activitypage","pages/worldcup/index":"worldcup_home","pages/worldcup/select-game":"worldcup_select_game","pages/worldcup/guess-history":"worldcup_guess_history","pages/worldcup/cup-coin":"worldcup_cup_coin","pages/worldcup/coupon":"worldcup_coupon","pages/worldcup/add-records":"worldcup_add_records","pages/worldcup/rank":"worldcup_rank","pages/worldcup/shared-game":"worldcup_shared","pages/order/paySuccess/index":"ordersuccess","pages/activity/store/index":"storeactivity","pages/groupBuy/groupList/index":"CollageSale","pages/groupBuy/groupBuyDetail/index":"CollageGoodsInfo","pages/groupBuy/paySuccess/index":"CollageResult&&CollagePaySuccess","pages/groupBuy/join/index":"CollageJoin","pages/groupBuy/orderInfo/index":"CollageOrderDetail","pages/groupBuy/confirmOrder/index":"CollageOrderConfirm","pages/groupBuy/chooseStore/index":"ChangeStoreAddress","pages/groupBuy/collection/myCollectionDetail/index":"CollageOrderInfo","pages/address/home/index":"select_address","pages/address/search/index":"poi_search_lst","pages/address/map/index":"current_address_list","pages/address/createOrEdit/index":"new_address","pages/settlement/remarkPage/remarkPage":"OrderNote","pages/order/ordergoods/index":"OrderGoodsList","pages/bargain/fuel/index":"CutDownHelp","pages/bargain/cutGoodList/index":"CutDownGoods","pages/bargain/launch/index":"CutDownDetail","pages/personSecond/pay-result/pay-result":"ordersuccess_offline","pages/inviteFriends/index":"sharegift_invite","pages/personSecond/feedback/feedback":"AdviceNote","pages/medicineMan/choose/index":"drugUserList","pages/order/addOrRenewMember/index":"ShopMemberPay","pages/coupon/voucher/index":"getcoupon_offline","pages/coupon/storeList/index":"SelectAddressOffline","pages/lottery/list/index":"LuckyBy0List","pages/lottery/detail/index":"LuckyBy0Detail","pages/lottery/userList/index":"LuckyBy0UserList","pages/h5/index":"webView","pages/groupBuy/oldInviteNew/detail/index":"OldNewCollageGoodsInfo","pages/groupBuy/oldInviteNew/result/index":"OldNewCollageInfoLaunch","pages/groupBuy/oldInviteNew/fuel/index":"OldNewCollageInfoJoin","pages/friendHelp/detail/index":"HelpFriendInfo","pages/friendHelp/list/index":"FriendsHelpList","pages/friendHelp/launch/index":"MyLaunchHelpInvite","pages/signInLand/index":"APPSignInShare","pages/groupBuy/groupOrder/index":"mygroupbuy","pages/product/index":"productDetail","pages/punch-t/home/index":"PunchCardsEarly","pages/punch-t/account/index":"MyBounty","pages/bean-t/index":"FreshBeanManor","pages/farm-t/home/index":"activityEgg","pages/farm-t/record/index":"PageMyExchange","pages/farm-t/storelist/index":"PageChooseShop","pages/tabBar/signIn-t/index":"PageSignIn","pages/signIn-t/record/index":"SignRecord","pages/signIn-t/taskList/index":"SignTask","pages/signIn-t/newCustomerBenefit/index":"SignNewCustomer","pages/signIn-t/secondKillList/index":"SignSecondKillList","pages/beansExchange-t/exchangeDetail/index":"ExchangeDetailPage","pages/beansExchange-t/myExchange/index":"MyExchangePage","pages/phoneCharge-t/index":"phoneCharge","pages/phoneCharge-t/rechargeList/index":"rechargeList","pages/phoneCharge-t/rechargeDetail/index":"rechargeDetail","pages/phoneCharge-t/payResult/index":"payResult","pages/vpayMember-t/home/index":"newvippage","pages/vpayMember-t/instructions/index":"PaidMemberHelp","pages/vpayMember-t/taskPage/index":"PaidMemberTask","pages/vpayMember-t/discountList/index":"Redenvelopepage","pages/vpayMember-t/couponTab/index":"VIPrednewpage","pages/vpayMember-t/renew/index":"renewpage","pages/hackOrder-t/detail/index":"hackOrderDetail","pages/hackOrder-t/launch/index":"hackOrderLaunch","pages/differentIndustry-t/index":"vipCooperatepage","pages/differentIndustry-t/yili/index":"yiliVipCooperatepage","pages/differentIndustry-t/exchangePage/index":"vip_code_cooperatepage","pages/vpayMember-t/exchangePage/index":"vip_codepage","pages/winner-t/coupon_sku/index":"winnerCouponSku","pages/winner-t/coupon_collection/index":"winnerCouponCollection","pages/winner-t/coupon_repurchase/index":"winnerCouponRepurchase","pages/portal-t/advert_jump_store/index":"portalAdvertJumpStore","pages/winner-t/winner_share_product/index":"winnerShareProduct","pages/winner-t/winner_share_product_search/index":"winnerShareProductSearch"},f=function updateCurrentAndPreviousPage(){try{var e=Object(g.a)("historyPage")||[],t=getCurrentPages(),n=t[t.length-1]&&t[t.length-1].route||"",r=!0;(r=e[1]&&e[1].path===n?!1:r)&&(e.length?e.shift({"name":"","path":""}):e.push({"name":"","path":""}),e.push({"name":a[n]||"","path":n||""}),Object(g.d)("historyPage",e))}catch(e){}},n=function pvReport(e){wx.showShareMenu({"withShareTicket":!0}),setTimeout(function(){e.log_data_type="wechat_app_pv",j(e)},50)},r=function clickReport(e){e.log_data_type="wechat_app_click",j(e)}},function(i,e,t){"use strict";t.d(e,"d",function(){return setGlobalData}),t.d(e,"a",function(){return getGlobalData}),t.d(e,"b",function(){return getLoginInfo}),t.d(e,"c",function(){return c});var e=t(1),r=t.n(e),e=t(0),n=t.n(e),a=t(4);function _asyncToGenerator(e){return function(){var s=e.apply(this,arguments);return new Promise(function(a,o){return function step(e,t){try{var n=s[e](t),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){step("next",e)},function(e){step("throw",e)});a(r)}("next")})}}var o={"env":"prod","pin":"","deviceId":"","inviterId":"","inviterToken":"","isOnline":!1,"business":"","testTag":{},"historyPage":[]};function setGlobalData(e,t){o[e]=t}function getGlobalData(e,t){return o[e]}function getLoginInfo(){try{var e=n.a.getStorageSync("login_info");return e&&e.o2o_m_h5_sid?(setGlobalData("loginInfo",e),setGlobalData("pin",e.PDJ_H5_PIN),setGlobalData("mobile",e.PDJ_H5_MOBILE),o.isOnline=!0):(o.loginInfo={},o.pin="",o.mobile="",o.isOnline=!1)}catch(e){return console.log(e),console.log("获取login_info失败"),o.isOnline=!1}}s=_asyncToGenerator(r.a.mark(function _callee(){var t,n;return r.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.mobile)return e.abrupt("return",t);e.next=3;break;case 3:return e.next=5,Object(a.o)({"djpin":o.pin});case 5:if("ok"!==(n=e.sent).status)return e.abrupt("return");e.next=8;break;case 8:return e.abrupt("return",n.content.mobile);case 9:case"end":return e.stop()}},_callee,this)}));var s,c=function getMobile(){return s.apply(this,arguments)}},function(u,e,t){"use strict";t.d(e,"o",function(){return w}),t.d(e,"n",function(){return x}),t.d(e,"k",function(){return b}),t.d(e,"h",function(){return v}),t.d(e,"b",function(){return S}),t.d(e,"m",function(){return C}),t.d(e,"c",function(){return k}),t.d(e,"g",function(){return I}),t.d(e,"j",function(){return P}),t.d(e,"i",function(){return T}),t.d(e,"l",function(){return O}),t.d(e,"a",function(){return j}),t.d(e,"d",function(){return G}),t.d(e,"e",function(){return L}),t.d(e,"f",function(){return getCommissionByCategory});var e=t(1),n=t.n(e),r=t(5);function _asyncToGenerator(e){return function(){var s=e.apply(this,arguments);return new Promise(function(a,o){return function step(e,t){try{var n=s[e](t),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){step("next",e)},function(e){step("throw",e)});a(r)}("next")})}}a=_asyncToGenerator(n.a.mark(function _callee(t){return n.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.get("/v1/djUser/user/info",t));case 1:case"end":return e.stop()}},_callee,this)}));var a,o,s,i,c,p,d,l,g,h,f,_,m,y,w=function getUserInfo(e){return a.apply(this,arguments)},x=(_asyncToGenerator(n.a.mark(function _callee2(t){return n.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/hot/poster/sku",t));case 1:case"end":return e.stop()}},_callee2,this)})),o=_asyncToGenerator(n.a.mark(function _callee3(t){return n.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.get("/hot/poster/sku/id",t));case 1:case"end":return e.stop()}},_callee3,this)})),function getSKU(e){return o.apply(this,arguments)}),b=(s=_asyncToGenerator(n.a.mark(function _callee4(t){return n.a.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/v1/coupon/queryCouponPackage",t));case 1:case"end":return e.stop()}},_callee4,this)})),function getPreCoupons(e){return s.apply(this,arguments)}),v=(i=_asyncToGenerator(n.a.mark(function _callee5(t){return n.a.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/v1/coupon/receive",t));case 1:case"end":return e.stop()}},_callee5,this)})),function getCoupons(e){return i.apply(this,arguments)}),S=(c=_asyncToGenerator(n.a.mark(function _callee6(t){return n.a.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.get("/v1/map/JdCity/getAddressByLL",t));case 1:case"end":return e.stop()}},_callee6,this)})),function getAddressDetail(e){return c.apply(this,arguments)}),C=(p=_asyncToGenerator(n.a.mark(function _callee7(t){return n.a.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/v1/coupon/receiveRePurchase",t));case 1:case"end":return e.stop()}},_callee7,this)})),function getRepurchase(e){return p.apply(this,arguments)}),k=(d=_asyncToGenerator(n.a.mark(function _callee8(t){return n.a.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/v1/goods/bannerList",t));case 1:case"end":return e.stop()}},_callee8,this)})),function getBannerList(e){return d.apply(this,arguments)}),I=(l=_asyncToGenerator(n.a.mark(function _callee9(t){return n.a.wrap(function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/v1/goods/commissionSkuList",t));case 1:case"end":return e.stop()}},_callee9,this)})),function getCommissionSkuList(e){return l.apply(this,arguments)}),P=(g=_asyncToGenerator(n.a.mark(function _callee10(t){return n.a.wrap(function _callee10$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/v1/goods/matchSkuIdList",t));case 1:case"end":return e.stop()}},_callee10,this)})),function getMatchSkuIdList(e){return g.apply(this,arguments)}),T=(h=_asyncToGenerator(n.a.mark(function _callee11(){return n.a.wrap(function _callee11$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.get("/v1/system/getHotShareSystemSetting",{"settingType":1}));case 1:case"end":return e.stop()}},_callee11,this)})),function getHotShareSystemSetting(){return h.apply(this,arguments)}),O=(f=_asyncToGenerator(n.a.mark(function _callee12(t){return n.a.wrap(function _callee12$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/qr/code",t));case 1:case"end":return e.stop()}},_callee12,this)})),function getQrCode(e){return f.apply(this,arguments)}),j=(_=_asyncToGenerator(n.a.mark(function _callee13(t){return n.a.wrap(function _callee13$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.post("/hot/poster/generation",t));case 1:case"end":return e.stop()}},_callee13,this)})),function generationPost(e){return _.apply(this,arguments)}),G=(m=_asyncToGenerator(n.a.mark(function _callee14(t){return n.a.wrap(function _callee14$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.get("/v1/getBindPromoteTaskLocationId",t));case 1:case"end":return e.stop()}},_callee14,this)})),function getBindPromoteTaskLocationId(e){return m.apply(this,arguments)}),L=(y=_asyncToGenerator(n.a.mark(function _callee15(t){return n.a.wrap(function _callee15$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.b.get("/goods/commission/category",t));case 1:case"end":return e.stop()}},_callee15,this)})),function getCategory(e){return y.apply(this,arguments)});function getCommissionByCategory(e){return r.b.post("/goods/commission/byCategory",e)}},function(s,e,t){"use strict";var i=t(0),r=t.n(i);function request(e){return r.a.request({"url":e.url,"data":e.data,"method":e.method.toUpperCase()}).then(function(e){var t=e.statusCode,e=e.data;if(200<=t&&t<300)return e;throw r.a.showModal({"title":"提示","content":"网络请求错误，状态码"+t}),new Error("网络请求错误，状态码"+t)})}var c={"get":function get(e,t){return request({"method":"GET","url":e,"data":t})},"post":function post(e,t){return request({"method":"POST","url":e,"data":t})}},n=t(3),u="https://inviter.imdada.cn";function igcRequest(e){var t=/^http(s?)/.test(e.url)?e.url:u+e.url;return r.a.request({"url":t,"data":e.data,"header":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json;charset=UTF-8","appName":"appName","uuid":"uid","Verification-Hash":"monitorYou","User-Id":Object(n.a)("inviterId"),"User-Token":Object(n.a)("inviterToken")||"123"},"method":e.method.toUpperCase()}).then(function(e){var t=e.statusCode,e=e.data;if(200<=t&&t<300)return e.status,e;throw r.a.showModal({"title":"提示","content":"网络请求错误，状态码"+t}),new Error("网络请求错误，状态码"+t)})}var p={"get":function igc_request_get(e,t){return igcRequest({"method":"GET","url":e,"data":t})},"post":function igc_request_post(e,t,n){return igcRequest({"method":"POST","url":e,"data":t,"headers":n})}},d="https://openapi.imdada.cn";function macRequest(e){var t=/^http(s?)/.test(e.url)?e.url:d+e.url;return r.a.request({"url":t,"data":e.data,"method":e.method.toUpperCase()}).then(function(e){var t=e.statusCode,n=e.data;if(200<=t&&t<300)return 0!=+n.code&&r.a.showToast({"title":e.data.msg+"~"||!1,"icon":"none","mask":!0,"duration":3e3}),n;throw r.a.showModal({"title":"提示","content":"网络请求错误，状态码"+t}),new Error("网络请求错误，状态码"+t)})}var l={"get":function mac_request_get(e,t){return macRequest({"method":"GET","url":e,"data":t})},"post":function mac_request_post(e,t){return console.log("url",e),macRequest({"method":"POST","url":e,"data":t})}},a=(r.a.getSystemInfoSync().platform,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),g="https://daojia.jd.com",h="https://prepdjm.jd.com",f="https://testpdjm.jd.com",_="http://localhost:3001",o={"channel":function getChannel(){return"wx_xcx"}(),"appName":"paidaojia","appVersion":"5.0.0","platCode":"H5","globalPlat":"2","signKey":"12fd3c962b96f22e9d57dbab0a2329b7"};function urlFormFormat(e){var t,n="";for(t in e)n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&";return n.slice(0,n.length-1)}function djRequest(e){var t=/^http(s?)/.test(e.url)?e.url:function getBaseUrl(e){switch(e){case"local":return _;case"test":return f;case"pre":return h;default:return g}}(Object(n.a)("env"))+e.url;return r.a.request({"url":t,"data":e.data,"timeout":5e3,"headers":{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},"method":e.method.toUpperCase()}).then(function(e){var t=e.statusCode,n=e.data;if(200<=t&&t<300)return 0!==Number(n.code)&&r.a.showToast({"title":e.data.errorMsg+"~"||!1,"icon":"none","mask":!0,"duration":3e3}),n;throw r.a.showModal({"title":"提示","content":"网络请求错误，状态码"+t}),new Error("网络请求错误，状态码"+t)})}var m={"get":function dj_request_get(e){var t=a({},o,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{"body":JSON.stringify(t.body)});return e=e.includes("?")?e+"&":e+"?",djRequest({"method":"GET","url":e+=urlFormFormat(t)})},"post":function dj_request_post(e,t){return djRequest({"method":"POST","url":e,"data":urlFormFormat(t=a({},o,t,{"body":JSON.stringify(t.body)}))})},"o2oPost":function o2oPost(e,t){return t=a({},o,t,{"body":JSON.stringify(t.body)}),e=e.includes("?")?e+"&":e+"?",djRequest({"method":"POST","url":e+=urlFormFormat(t),"params":t})}};t.d(e,"d",function(){return c}),t.d(e,"b",function(){return p}),t.d(e,"c",function(){return l}),t.d(e,"a",function(){return m})},function(e,t,n){"use strict";n.d(t,"a",function(){return getCodeInfo}),n.d(t,"b",function(){return loginByCode}),n.d(t,"c",function(){return storeIndexSearch});var r=n(5);function getCodeInfo(e){return r.a.get("/client?_jdrandom="+ +new Date,{"functionId":"inviter/code/getCodeInfo","body":e})}function loginByCode(e){return r.a.get("/client?_jdrandom="+ +new Date,{"functionId":"xapp/loginbycode","isNeedDealError":!0,"code":e})}function storeIndexSearch(e){return r.a.o2oPost("https://gw-o2o.jddj.com/client",{"functionId":"storeIndexSearch/searchPost","body":{"key":e.key||"","orgCode":e.orgCode,"storeId":e.storeId,"pageName":e.pageName||"igc"}})}}]]);