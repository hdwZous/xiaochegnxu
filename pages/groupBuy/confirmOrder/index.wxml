<block wx:if='{{!showEmpty}}'>
    <view class="comfirm-order-bg">
        <view class="scrollCont">
            <!-- 到店自提 【1、自提拼团 2、常规拼团 3、预售团 】 -->
            <view class="take-goods" wx:if="{{groupType==1&&address!=null}}">
                <view class="take-title">
                    <text>{{address.data.extractTimeTitle}}：{{address.data.extractTimeTip}}</text>
                </view>
                <view class="line border-bottom"></view>
                <view class="take-address-info" data-store-id="{{storeId}}" data-org-code="{{orgCode}}" data-sku-id="{{goodsInfo.data.skuId}}" data-promotion-id="{{groupPromotionId}}" bindtap="changeAddress">
                    <view class="store">
                        <text class="store-name">
                            {{address.data.storeTitle}}：{{address.data.storeName}}
                        </text>
                        <text class="modify"></text>
                    </view>
                    <view class="address-info">
                        <text class="details ellipsis">{{address.data.storeAddress}}</text>
                        <text class="distance" wx:if="{{address.data.storeDistance}}">
                            {{address.data.storeDistance/1000}}km
                        </text>
                    </view>
                    <view class="open-time">
                        <tetx>
                            {{address.data.storeOpenTimeTitle}}：{{address.data.storeOpenTime}}
                        </tetx>
                    </view>
                </view>
            </view>
            <!-- 常规团和预售团信息 -->
            <view wx:if="{{(groupType==2 || groupType==3) && receiptAddress!=null}}" class="receipt-address flex-col">
                <view class="receipt-address-title flex-row" data-type="{{receiptAddress.data.type}}" data-address-Id="{{receiptAddress.data.addressVo&&receiptAddress.data.addressVo.addressId?receiptAddress.data.addressVo.addressId:''}}" data-store-Id="{{address&&address.data?address.data.storeId:''}}" catchtap="goAddress">
                    <view class="receipt-address-left flex-none">
                        <!-- * type=1 展示地址信息； -->
                        <!-- * type=2 新建收获地址； -->
                        <!-- * type=3 新建收货地址（已有地址均不在配送范围)； -->
                        <!-- * type=4 选择收货地址； -->
                        <!-- * type=5 新建收货地址（已有地址均不在配送范围)并且地址列表数量达到20个了； -->
                        <block wx:if="{{receiptAddress.data.type==1}}">
                            <view class="receipt-address-detail ellipsis">
                                {{receiptAddress.data.addressVo.addressName ||""}}
                            </view>
                            <view class="receipt-address-contact">
                                <text class="receipt-address-name">
                                    {{receiptAddress.data.addressVo.name}}
                                </text>
                                <text>{{receiptAddress.data.addressVo.phone}}</text>
                            </view>
                        </block>
                        <block wx:if="{{receiptAddress.data.type==2||receiptAddress.data.type==3||receiptAddress.data.type==5}}">
                            <view class="receipt-address-detail">
                                {{receiptAddress.data.title}}
                            </view>
                            <view class="receipt-address-warn">{{receiptAddress.data.desc}}</view>
                        </block>
                        <block wx:if="{{receiptAddress.data.type==4}}">
                            <view class="receipt-address-detail">
                                {{receiptAddress.data.title}}
                            </view>
                        </block>
                        <view wx:if="{{remark}}" class="remark">{{remark}}</view>
                    </view>
                    <view wx:if="{{groupMode!=1||isLeader}}">
                        <view class="receipt-address-right"></view>
                    </view>
                </view>
                <view class="line border-bottom"></view>
                <view class="receipt-address-tips flex-row">
                    <view class="receipt-address-tag {{address.data.distributionType==1?'blue':'grey'}} flex-none">
                        <text>{{address.data.distributionType==1?"达达快送":"商家自送"}}</text>
                    </view>
                    <view wx:if="{{groupType==2}}" class="receipt-address-type flex-auto">
                        {{address.data.extractTimeTip||""}}
                    </view>
                    <block wx:else>
                        <view class="receipt-address-type deliver-time flex-auto" bindtap="onDeliverTimeClick">
                            {{deliverTime.data.nonPushTimeText||""}}
                        </view>
                        <view wx:if="{{groupMode!=1||isLeader}}" class="deliver-time-blue-right"></view>
                    </block>
                </view>
            </view>
            <!-- 商品信息 -->
            <view>
                <goods fromPositon="groupBuy-comfirmOrder" skuName="{{goodsInfo.data.name}}" skuImgUrl="{{goodsInfo.data.img}}" storeName="{{goodsInfo.data.storeName}}" basicPrice="{{goodsInfo.data.basicPrice}}" actPrice="{{goodsInfo.data.promotionPrice}}" totalMembers="{{goodsInfo.data.totalMembers}}" productPrice="{{moneyInfo.data}}" groupType="{{groupType}}" promotionId="{{groupPromotionId}}" orgCode="{{orgCode}}" storeId="{{storeId}}" skuId="{{groupSkuId}}" groupMode="{{groupMode}}"  bind:pageEvent="goDetailInfo"></goods>
            </view>
            <!-- 自提拼团流程 -->
            <view class="pre-sale flex-col" wx:if="{{groupType==1}}">
                <view class="text">自提拼团流程</view>
                <view class="img" wx:if="{{presaleImage.height}}">
                    <image src="https://storage.360buyimg.com/wximg/groupbuy/openGroup_store.png" style="width:{{presaleImage.width}}px;height:{{presaleImage.height}}px" mode="widthFix" />
                </view>
            </view>
            <!-- 拼团流程 -->
            <view class="pre-sale flex-col" wx:elif="{{groupType==2}}">
                <view class="text" wx:if="{{groupMode==1}}">团长代收流程</view>
                <view class="text" wx:else>拼团流程</view>
                <view class="img" wx:if="{{presaleImage.height}}">
                    <image wx:if="{{groupMode==1}}" src="https://storage.360buyimg.com/wximg/groupbuy/deliver_to_leader_rule.png" style="width:{{presaleImage.width}}px;height:{{presaleImage.height}}px" mode="widthFix" />
                    <image wx:else src="https://storage.360buyimg.com/wximg/groupbuy/openGroup_default.png" style="width:{{presaleImage.width}}px;height:{{presaleImage.height}}px" mode="widthFix" />
                </view>
            </view>
            <!-- 预售团流程 -->
            <view class="pre-sale flex-col" wx:elif="{{groupType==3}}">
                <view class="text">预售团流程</view>
                <view class="img" wx:if="{{presaleImage.height}}">
                    <image wx:if="{{groupMode==1}}" src="https://storage.360buyimg.com/wximg/groupbuy/presell_deliver_to_leader_rule.png" style="width:{{presaleImage.width}}px;height:{{presaleImage.height}}px" mode="widthFix"></image>
                    <image wx:else src="https://storage.360buyimg.com/wximg/groupbuy/presale.png" style="width:{{presaleImage.width}}px;height:{{presaleImage.height}}px" mode="widthFix"></image>
                </view>
            </view>
            <!-- 关注店铺 -->
            <!-- 关注门店 -->
            <view wx:if="{{showAttentionModal}}">
                <attention-store storeId="{{storeId}}" recommendObj="{{recommendObj}}" />
            </view>
            <!-- 留言 -->
            <view class="remark-cont flex-row" hidden="{{groupMode==1&&!isLeader}}">
                <view class="input-key">备注</view>
                <view class="input-text flex-row">
                    <input class="input  ellipsis" type="text" placeholder-class="input-placeholder" bindtap="goToRemark" placeholder="请填写备注信息" value="{{remarkText}}" disabled="{{true}}" />
                    <view class="receipt-address-right"></view>
                </view>
            </view>
        </view>
        <!-- 支付信息 -->
        <view class="pay">
            <text class="pay-text">实付款</text>
            <text class="icon">￥</text>
            <text class="money">{{totalMoney}}</text>
            <view class="pay-btn">
                立即支付
                <button  bindtap="getUserInfo"></button>
            </view>
        </view>
    </view>
    <!-- dialog -->
    <dialog showDialog="{{showDialog}}" titleText="确认提货门店" confirmText="确认" cancelText="修改" bind:clickCancel="hideDialog" bind:clickConfirm="submitGroupOrder">
        <view>
            <view wx:if="{{address.data.storeName}}" class="ellipsis" style="max-width:420rpx;margin:20rpx auto 0;height:42rpx;font-size:30rpx;color:rgba(51,51,51,1);line-height:42rpx;text-align: center">
                {{address.data.storeTitle}}：{{address.data.storeName}}
            </view>
            <view wx:if="{{address.data.storeAddress}}" class="ellipsis" style="max-width:420rpx;margin:8rpx auto 0;height:36rpx;font-size:26rpx;color:rgba(153,153,153,1);line-height:36rpx;text-align: center">
                {{address.data.storeAddress}}
            </view>
        </view>
    </dialog>
    <!-- 时间选择器 -->
    <mp-picker show="{{showPicker}}" promiseDateRespItems="{{deliverTime.data.promiseDateRespItems}}" bind:pickerEvent="pickerEvent" bind:onLogEvent="onLogEvent" fromPostion="grounpBuy-confirmOrder"></mp-picker>
</block>
<block wx:else>
    <default fromPositon='grounpBuy-confirmOrder' type="{{type}}" btnText="{{btnText}}" tips="{{tips}}" src="{{src}}" buriedObj="{{recommendObj}}" bind:defaultBtnEvent="onDefaultBtnEvent" fromPostion="grounpBuy-confirmOrder"></default>
</block>