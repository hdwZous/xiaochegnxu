"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initNewerGiftLottie=exports.initRedBagLottie=exports.initUpgradeLottie=exports.initTomorrowLottie=exports.initUpgrade=exports.initleafAni=exports.initWaterAni=void 0,exports.initLottie=initLottie;var _indexWeapp=require("./lottieJs/index.weapp.js"),_indexWeapp2=_interopRequireDefault(_indexWeapp),_indexWeapp3=require("../../npm/@jd/djmp/common-t/js/storage/index.weapp.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var initWaterAni=exports.initWaterAni=function(){return new Promise(function(i,e){var o=void 0;wx.createSelectorQuery().selectAll("#kettle_case").node(function(e){var t;e&&0<e.length&&e[0].node&&(t=(e=e[0].node).getContext("2d"),_indexWeapp2.default.setup(e),o=_indexWeapp2.default.loadAnimation({loop:!1,autoplay:!1,path:"https://storage.360buyimg.com/wximg/orchard/data/jiaoz.json",rendererSettings:{context:t}}),i(o),o.addEventListener("complete",function(){o.stop()}))}).exec()})},initleafAni=exports.initleafAni=function(){return new Promise(function(o,e){var a=void 0;wx.createSelectorQuery().selectAll("#leafAni").node(function(e){var t,i;e&&0<e.length&&e[0].node&&(t=(e=e[0].node).getContext("2d"),i=getApp(),t.scale(i.globalData.systemInfo.pixelRatio,i.globalData.systemInfo.pixelRatio),0!=i.globalData.systemInfo.pixelRatio?(e.width=474*i.globalData.systemInfo.pixelRatio,e.height=426*i.globalData.systemInfo.pixelRatio):(e.width=474,e.height=426),_indexWeapp2.default.setup(e),console.log("lottie-----",_indexWeapp2.default),(a=_indexWeapp2.default.loadAnimation({loop:!1,autoplay:!1,path:"https://storage.360buyimg.com/wximg/orchard/data/leaf.json",rendererSettings:{context:t}})).setSpeed(4),o(a))}).exec()})},initUpgrade=exports.initUpgrade=function(){return new Promise(function(o,e){var a=void 0;wx.createSelectorQuery().selectAll("#upgradeAni").node(function(e){var t,i;e&&0<e.length&&e[0].node&&(t=(e=e[0].node).getContext("2d"),i=getApp(),t.scale(i.globalData.systemInfo.pixelRatio,i.globalData.systemInfo.pixelRatio),0!=i.globalData.systemInfo.pixelRatio?(e.width=472*i.globalData.systemInfo.pixelRatio,e.height=864*i.globalData.systemInfo.pixelRatio):(e.width=472,e.height=864),_indexWeapp2.default.setup(e),a=_indexWeapp2.default.loadAnimation({loop:!1,autoplay:!1,path:"https://storage.360buyimg.com/wximg/orchard/data/upgrade.json",rendererSettings:{context:t}}),o(a),a.addEventListener("complete",function(){a.stop()}))}).exec()})};function initLottie(){for(var e=(0,_indexWeapp3.getStorageSync)("orchard_init"),o=void 0,o="string"==typeof e?JSON.parse(e):JSON.parse(JSON.stringify(e)),t=0;t<o.length;t++)!function(i){wx.createSelectorQuery().selectAll("#orchard_i").node(function(e){var t;e&&0<e.length&&e[0].node&&(t=(e=e[0].node).getContext("2d"),_indexWeapp2.default.setup(e),_indexWeapp2.default.loadAnimation({loop:!1,autoplay:!1,path:o[i].pic,rendererSettings:{context:t}}))}).exec()}(t)}var initTomorrowLottie=exports.initTomorrowLottie=function(e){},initUpgradeLottie=exports.initUpgradeLottie=function(e){},initRedBagLottie=exports.initRedBagLottie=function(r){return new Promise(function(e,t){var i,o,a=(0,_indexWeapp3.getStorageSync)("orchard_init"),n=void 0,a=(n=a?"string"==typeof a?JSON.parse(a):JSON.parse(JSON.stringify(a)):n)&&n[1]&&n[1].pic||"https://storage.360buyimg.com/wximg/orchard/data/init/redbag.json";r.node&&(i=(n=r.node).getContext("2d"),o=getApp(),i.scale(o.globalData.systemInfo.pixelRatio,o.globalData.systemInfo.pixelRatio),0!=o.globalData.systemInfo.pixelRatio?(n.width=600*o.globalData.systemInfo.pixelRatio,n.height=700*o.globalData.systemInfo.pixelRatio):(n.width=600,n.height=700),_indexWeapp2.default.setup(n),e(_indexWeapp2.default.loadAnimation({loop:!1,autoplay:!1,path:a,rendererSettings:{context:i}})))})},initNewerGiftLottie=exports.initNewerGiftLottie=function(n){return new Promise(function(e,t){var i,o,a;n.node&&(o=(i=n.node).getContext("2d"),a=getApp(),o.scale(a.globalData.systemInfo.pixelRatio,a.globalData.systemInfo.pixelRatio),0!=a.globalData.systemInfo.pixelRatio?(i.width=600*a.globalData.systemInfo.pixelRatio,i.height=700*a.globalData.systemInfo.pixelRatio):(i.width=600,i.height=700),_indexWeapp2.default.setup(i),e(_indexWeapp2.default.loadAnimation({loop:!1,autoplay:!1,path:"https://storage.360buyimg.com/wximg/orchard/data/init/newerGift.json",rendererSettings:{context:o}})))})};