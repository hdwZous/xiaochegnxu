(wx.webpackJsonp=wx.webpackJsonp||[]).push([[9],{69:function(o,e,t){"use strict";(function(o){t.d(e,"a",(function(){return goToByCouponId}));var a=t(5),i=t(18),n=t(27),r=function singleCouponTreadyFun(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.request)({functionId:"coupon/singleCouponTready",body:JSON.stringify(o),method:"GET"})};function goToByCouponId(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,t=o.couponId,i=o.code,n=o.passThroughParam;!n&&i&&(n={code:i}),r({couponGoSource:e,couponId:t,passThroughParam:n}).then((function(e){0==e.code?jumpCase(Object(a.a)(Object(a.a)({},e.result),o)):wx.showToast({title:e.msg||"网络开小差，请稍后重试",icon:"none",duration:1500})})).catch((function(o){wx.showToast({title:o.msg||"网络开小差，请稍后重试",icon:"none",duration:1500})}))}function jumpCase(o){console.log("jumpCase",o);var e=o.to,t=o.longitude,i=void 0===t?"":t,r=o.latitude,s=void 0===r?"":r,u=o.cityId,c=void 0===u?"":u,d=o._homeToStoreList,p=void 0!==d&&d,g=o.params,h=void 0===g?{}:g,m=(o.code,h||{}),l=m.limitId,T=void 0===l?"":l,v=m.storeId,w=void 0===v?"":v,I=m.orgCode,f=void 0===I?"":I,x=m.jumpType,y=void 0===x?"":x,b=m.skuId,C=void 0===b?"":b;if(e){var j="";"storeList"===e?(j="/pages/purchTicket/purchTicketsStoreList/storeList?promotionInfoId="+T+"&jumpType="+y+"&longitude="+i+"&latitude="+s+"&cityId="+c,wx.navigateTo({url:j})):"goodsList"===e?(j="/pages/purchTicket/purchTickets/purchTickets?stationNo="+w+"&couponId="+T+"&longitude="+i+"&latitude="+s+"&orgCode="+f,wx.navigateTo({url:j})):"store"===e?(j="/pages/store/index?storeId="+(w||"")+"&orgCode="+(f||"")+"&skuId="+(C||"")+"&couponId="+(T||"")+"&longitude="+(i||"")+"&latitude="+(s||"")+"cityId="+(c||""),wx.navigateTo({url:j})):"home"===e?p?wx.navigateTo({url:"/pages/nearbyStore/index"}):wx.switchTab({url:"/pages/home/home"}):"couponGoodsList"===e&&h&&h.passThroughParam&&h.passThroughParam.code?(j="/pages/purchTicket/couponGo/index".concat(function parseParams(o){o.params=Object(a.a)(Object(a.a)({},o.params),o.params.passThroughParam);var e="";o.userAction&&(e=encodeURIComponent(o.userAction));var t="";for(var i in o.params){if("isAddCart"==i){var n=o.params[i]+"";o.params[i]="true"==n||""}t+="&"+i+"="+(o.params[i]||"")}return t="{}"==JSON.stringify(o.params)?"?userAction="+e:"?"+t.slice(1)+"&userAction="+e}(o)),wx.navigateTo({url:j})):wx.switchTab({url:"/pages/home/home"})}else"home"==o.defaultJump_?Object(n.a)({to:"home"}):wx.showToast({icon:"none",title:"附近没有门店耶~换个地方再试试",duration:2e3})}}).call(this,t(13).window)}}]);