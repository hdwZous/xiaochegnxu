(wx.webpackJsonp=wx.webpackJsonp||[]).push([[18],{"15":function(e,t,n){e.exports=n.p+"pages/winner-t/coupon_sku/index.wxml"},"37":function(e,t,n){e.exports={"winnerCouponSku":"index-module__winnerCouponSku___2QeUK","banner":"index-module__banner___3Xb5a","couponAside":"index-module__couponAside___3ridR","bottomAside":"index-module__bottomAside___1MBsy","winnerCouponLayout":"index-module__winnerCouponLayout___2nDv6"}},"64":function(e,t,n){"use strict";n(15)},"92":function(n,e,t){"use strict";t.r(e);t(64);var e=t(1),f=t.n(e),p=t(0),m=t.n(p),g=t(6),b=t(2),h=t(3),e=t(37),l=t.n(e),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e};function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0!==o){if("value"in o)return o.value;o=o.get;return void 0!==o?o.call(n):void 0}if(null!==(o=Object.getPrototypeOf(e)))return A(o,t,n)}var o;function _asyncToGenerator(e){return function(){var a=e.apply(this,arguments);return new Promise(function(r,i){return function step(e,t){try{var n=a[e](t),o=n.value}catch(e){return void i(e)}if(!n.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});r(o)}("next")})}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}getApp().globalData.qrcode.business="153",Object(h.d)("business","153");(function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(WinnerCouponSKU,p["Component"]),e(WinnerCouponSKU,[{"key":"_constructor","value":function _constructor(e){A(WinnerCouponSKU.prototype.__proto__||Object.getPrototypeOf(WinnerCouponSKU.prototype),"_constructor",this).call(this,e),this.$$refs=new m.a.RefsArray}},{"key":"componentDidShow","value":function componentDidShow(){"WEAPP"===m.a.getEnv()&&this.init()}},{"key":"componentDidMount","value":function componentDidMount(){"WEB"===m.a.getEnv()&&this.init()}},{"key":"_createData","value":function _createData(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.$prefix,t=Object(p.genCompid)(e+"$compid__32"),t=u(t,2),n=t[0],t=t[1],o=Object(p.genCompid)(e+"$compid__33"),o=u(o,2),r=o[0],o=o[1],e=Object(p.genCompid)(e+"$compid__34"),e=u(e,2),i=e[0],e=e[1],a=this.__state,s=a.isLogin,c=(a.isLoading,a.params);a.sameTip,a.limitTip;return s&&p.propsManager.set({"query":c,"navigateTo":m.a.navigateTo},t,n),s&&p.propsManager.set({"params":c,"showTip":this.showTip,"handleLoading":this.handleLoading},o,r),s&&p.propsManager.set({"query":c},e,i),Object.assign(this.__state,{"$compid__32":t,"$compid__33":o,"$compid__34":e,"styles":l.a}),this.__state}}]),o=e=WinnerCouponSKU,e.$$events=[],e.$$componentPath="pages/winner-t/coupon_sku/index";e=o;function WinnerCouponSKU(){var e,_,d=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WinnerCouponSKU);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=_=_possibleConstructorReturn(this,(e=WinnerCouponSKU.__proto__||Object.getPrototypeOf(WinnerCouponSKU)).call.apply(e,[this].concat(n)))).$usedState=["$compid__32","$compid__33","$compid__34","styles","isLoading","isLogin","sameTip","limitTip","params"],_.config={"navigationBarTitleText":"京东到家","component":!0},_.options={"addGlobalClass":!0},_.state={"params":{},"isLoading":!0,"sameTip":"","limitTip":"","isLogin":!1},_.init=_asyncToGenerator(f.a.mark(function _callee(){var t,n,o,r,i,a,s,c,p,u,l;return f.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(n=_.$router.params,t=n.scene,a=n.inviterId,s=n.shopId,c=n.taskId,p=n.orgCode,u=n.skuId,n.locationId,n=_.$router.params,(o=Object(h.b)())||(Object(b.a)({"create_time":new Date,"click_id":"winnerCouponToLogin","click_par":n}),m.a.navigateTo({"url":"/pages/newLogin/login/login?type=46&business=153"})),_.setState({"isLogin":o}),!(a&&s&&c&&p&&u)){e.next=9;break}Object(b.a)({"create_time":new Date,"click_id":"winnerCouponGetCodeFromUrl","click_par":_.$router.params}),e.next=26;break;case 9:return console.log(t),o=m.a.getLaunchOptionsSync(),r=o.scene,e.next=13,Object(g.a)({"qrCodeId":t});case 13:if(i=e.sent,0!==Number(i.code))return m.a.showModal({"title":"提示","content":"小程序码解码失败"}),Object(b.a)({"create_time":new Date,"click_id":"winnerCouponGetCodeErr","click_par":_.$router.params}),e.abrupt("return");e.next=18;break;case 18:if(a=i.result.paramText,(n=a&&JSON.parse(a)||{}).wxScene=r,c=(s=n).inviterId,p=s.shopId,u=s.orgCode,l=s.skuId,c&&p&&u&&l){e.next=26;break}return m.a.showModal({"title":"提示","content":"链接异常，请重新扫码进入"}),Object(b.a)({"create_time":new Date,"click_id":"winnerCouponUrlErr","click_par":n}),e.abrupt("return");case 26:Object(h.d)("inviterId",n.inviterId),_.setState({"params":n}),Object(b.b)({"page_par":n});case 29:case"end":return e.stop()}},_callee,d)})),_.showTip=function(e,t){_.setState({"sameTip":e,"limitTip":t})},_.handleLoading=function(){_.setState({"isLoading":!1})},_.customComponents=["LoadingComponent","WinnerSKUInfo","WinnerCouponGroup","WinnerCouponProducts"],_possibleConstructorReturn(_,e)}Component(t(0).default.createComponent(e,!0))}},[[92,0,1,2,3]]]);