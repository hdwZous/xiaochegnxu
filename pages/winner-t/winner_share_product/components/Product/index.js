(wx.webpackJsonp=wx.webpackJsonp||[]).push([[22],{"10":function(e,t,o){e.exports={"product":"index-module__product___1ODIN","tag":"index-module__tag___113UU","text":"index-module__text___lX6qr","amount":"index-module__amount___2eKlL","picBox":"index-module__picBox___3QFV5","pic":"index-module__pic___1zLA2","content":"index-module__content___1kYdA","title":"index-module__title___32PFu","ivt_box":"index-module__ivt_box___2NRm-","product_tag":"index-module__product_tag___AcsLw","ivt":"index-module__ivt___1KeDd","bottomBar":"index-module__bottomBar___3oBqz","price_box":"index-module__price_box___mYiDC","price":"index-module__price___1EdKz","originalPrice":"index-module__originalPrice___3EVAE","bottomRight":"index-module__bottomRight___27gWn","downloadButton":"index-module__downloadButton___rG92e","shareButton":"index-module__shareButton___3ABoy","shareButtonContent":"index-module__shareButtonContent___3dgab","shareIcon":"index-module__shareIcon___3TAzq","shareButton_gray":"index-module__shareButton_gray___1i8lU"}},"107":function(n,e,t){"use strict";t.r(e);t(82);var e=t(1),x=t.n(e),e=t(0),b=t.n(e),y=t(4),w=t(2),o=t(10),i=t.n(o),o=function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e};function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0!==n){if("value"in n)return n.value;n=n.get;return void 0!==n?n.call(o):void 0}if(null!==(n=Object.getPrototypeOf(e)))return q(n,t,o)}function _asyncToGenerator(e){return function(){var i=e.apply(this,arguments);return new Promise(function(r,a){return function step(e,t){try{var o=i[e](t),n=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(n).then(function(e){step("next",e)},function(e){step("throw",e)});r(n)}("next")})}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(Product,e["Component"]),o(Product,[{"key":"_constructor","value":function _constructor(e){q(Product.prototype.__proto__||Object.getPrototypeOf(Product.prototype),"_constructor",this).call(this,e),this.$$refs=new b.a.RefsArray}},{"key":"_createData","value":function _createData(){var e=this,t=(this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{},this.$prefix,this.__props),o=t.product,n=(t.index,t.params),t=(t.showDownLoad,o.commissionAmountTextArr=o.commissionAmountText?o.commissionAmountText.split("\n"):[],this.anonymousFunc0=function(){return 0!==o.stockCount&&e.showPic()},1!==Number(n.platformType)?[""+i.a.shareButton,""+(0===o.stockCount&&i.a.shareButton_gray)].join(" "):null),r=1!==Number(n.platformType)&&o.discountMsg,a=1!==Number(n.platformType),n=1!==Number(n.platformType);return Object.assign(this.__state,{"anonymousState__temp":t,"anonymousState__temp2":r,"anonymousState__temp3":a,"anonymousState__temp4":n,"styles":i.a,"product":o}),this.__state}},{"key":"anonymousFunc0","value":function anonymousFunc0(e){}}]),o=e=Product,e.$$events=["anonymousFunc0"],e.defaultProps={"product":{},"index":0,"picInfo":{},"params":{},"showDownLoad":function showDownLoad(){}},e.$$componentPath="pages/winner-t/winner_share_product/components/Product/index";e=o;function Product(){var e,f,h=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Product);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return(e=f=_possibleConstructorReturn(this,(e=Product.__proto__||Object.getPrototypeOf(Product)).call.apply(e,[this].concat(o)))).$usedState=["anonymousState__temp","anonymousState__temp2","anonymousState__temp3","anonymousState__temp4","styles","product","picInfo","params","showDownLoad","index"],f.showPic=_asyncToGenerator(x.a.mark(function _callee(){var t,o,n,r;return x.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return n=f.props,t=n.product,o=n.picInfo,n=n.params,e.next=3,f.getPic();case 3:(r=e.sent)&&(Object(w.a)({"create_time":new Date,"click_id":"winnerShareProductShowPic","click_par":{"params":n,"picInfo":o,"product":t}}),f.props.showDownLoad(r));case 5:case"end":return e.stop()}},_callee,h)})),f.getPic=_asyncToGenerator(x.a.mark(function _callee2(){var t,o,n,r,a,i,c,p,d,l,m,s,u,_;return x.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.props,t=n.product,o=n.picInfo,n=n.params,r=n.inviterId,a=n.storeId,i=n.taskId,c=n.orgCode,p=n.locationId,d=o.showType,l=o.single,m=o.couponUrl,o.imageUrl,b.a.showLoading("图片加载中.."),0===Number(d))return e.next=7,Object(y.l)({"paramMap":{"inviterId":r,"shopId":a,"taskId":i,"skuId":t.skuId,"source":"poster","orgCode":n.orgCode,"locationId":p},"page":l,"url":m});e.next=25;break;case 7:if("ok"===(s=e.sent).status)return e.next=11,Object(y.a)({"inviterId":r,"shopId":a,"taskId":i,"orgCode":c,"qrCodeUrl":s.content,"skuIds":[""+t.skuId]});e.next=21;break;case 11:if("ok"===(u=e.sent).status)return b.a.hideLoading(),e.abrupt("return",u.content);e.next=17;break;case 17:Object(w.a)({"create_time":new Date,"click_id":"winnerShareProductGetPicError","click_par":{"params":n,"resP":u}});case 18:b.a.hideLoading(),e.next=23;break;case 21:Object(w.a)({"create_time":new Date,"click_id":"winnerShareProductGetQrCodeError","click_par":{"params":n,"res":s}}),b.a.hideLoading();case 23:e.next=35;break;case 25:return e.next=27,Object(y.a)({"inviterId":r,"shopId":a,"taskId":i,"orgCode":c,"qrCodeUrl":"","skuIds":[""+t.skuId]});case 27:if("ok"===(_=e.sent).status)return b.a.hideLoading(),e.abrupt("return",_.content);e.next=33;break;case 33:Object(w.a)({"create_time":new Date,"click_id":"winnerShareProductGetPicError","click_par":{"params":n,"resP":_}}),b.a.hideLoading();case 35:case"end":return e.stop()}},_callee2,h)})),f.customComponents=[],_possibleConstructorReturn(f,e)}Component(t(0).default.createComponent(e))},"32":function(e,t,o){e.exports=o.p+"pages/winner-t/winner_share_product/components/Product/index.wxml"},"82":function(e,t,o){"use strict";o(32)}},[[107,0,1,2,3]]]);