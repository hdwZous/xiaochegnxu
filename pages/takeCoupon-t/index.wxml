<block wx:if="{{$taroCompReady}}"><view><block wx:if="{{couponType == 'normalCoupon'}}"><view><view class="{{style.takeCoupon}}" bindtap="takeCouponHandle" style="{{anonymousState__temp8}}"><view class="{{style.rule}}" catchtap="_toRuleHandle">活动规则</view><block wx:if="{{!grabSucceed}}"><template is="renderHandle" data="{{...anonymousState__temp}}"></template></block><block wx:if="{{grabSucceed}}"><template is="renderCouponfloor" data="{{...anonymousState__temp2}}"></template></block></view><template is="renderPopup" data="{{...anonymousState__temp3}}"></template></view></block><block wx:if="{{couponType == 'weixinCoupon'}}"><view><view class="{{style.takeCoupon}}" style="{{anonymousState__temp9}}"><view class="{{style.rule}}" catchtap="_toRuleHandle">活动规则</view><template is="renderGetCouponButton" data="{{...anonymousState__temp4}}"></template><block wx:if="{{grabSucceed}}"><template is="renderCouponfloor" data="{{...anonymousState__temp5}}"></template></block></view><template is="renderPopup" data="{{...anonymousState__temp6}}"></template></view></block><block wx:if="{{isRuleDiaShow}}"><template is="renderRuleDia" data="{{...anonymousState__temp7}}"></template></block><block wx:if="{{isDefault}}"><default compid="{{$compid__31}}"></default></block></view></block>
<template name="renderGetCouponButton"><block><view><block wx:if="{{!isLogin}}"><view bindtap="_goToLogin" class="{{style.getCouponButtonIsNoLogin}}">点击领取</view></block><block wx:if="{{isLogin && isUserGetWxCoupon}}"><view><send-coupon send_coupon_params="{{send_coupon_params}}" send_coupon_merchant="{{send_coupon_merchant}}" suggest_immediate_use="{{false}}" sign="{{sign}}" bindsendcoupon="onSendcoupon" binduserconfirm="onUserconfirm" __fn_onSendcoupon="{{true}}" __fn_onUserconfirm="{{true}}"><view class="{{style.getCouponWxButton}}">点击领取</view></send-coupon></view></block><block wx:if="{{isLogin && !isUserGetWxCoupon}}"><view class="{{style.getCouponButtonBox}}"><block wx:if="{{isShowMessage == true}}"><view class="{{style.takeCouponHint}}">{{isUserGetWxCouponMessage}}</view></block><view class="{{style.getCouponButton}}" bindtap="getWxCouponToast"><text>{{isUserGetWxCouponBtnText}}</text></view></view></block></view></block></template>
<template name="renderHandle"><block><view class="{{style.renderHandle}}"><block wx:if="{{grabLose}}"><view class="{{style.takeCouponHint}}">{{errorMsg}}</view></block><view class="{{style.takeCouponBtn}}"><text>{{btnText}}</text></view></view></block></template>
<template name="renderCouponfloor"><block><view class="{{style.couponfloor}}"><view class="{{style.flootTitle}}"><view class="{{style.title}}">领取成功</view><block wx:if="{{length > 2}}"><view class="{{style.couponCount}}" catchtap="_showPopup">全部{{length}}张券</view></block></view><template is="renderCoupon" data="{{...item.$loopState__temp11}}" wx:for="{{loopArray7}}" wx:for-item="item" wx:for-index="_anonIdx2"></template></view></block></template>
<template name="renderCoupon"><block><view class="{{style.coupon}}"><block wx:if="{{coupon.isOverlay}}"><view class="{{style.couponTag}}">可叠加</view></block><view class="{{style.couponMoney}}"><text class="{{style.symbol}}">¥</text>{{coupon.quota}}</view><view class="{{style.couponContent}}"><view class="{{style.couponTitle}}">{{coupon.showName}}</view><view class="{{style.couponlimit}}">{{coupon.threshold}}</view><view class="{{style.couponDate}}">{{coupon.couponBeginTime}}-{{coupon.couponEndTime}}</view></view><view class="{{style.goCoupon}}" catchtap="_toCouponbuy" data-e-tap-so="this" data-e-tap-a-a="{{coupon}}"><image src="https://storage.360buyimg.com/wximg/takeCoupon/goCoupon.png" class="{{style.goCouponImage}}"></image></view></view></block></template>
<template name="renderPopup"><block><view class="{{style.popup}}" style="{{anonymousState__temp14}}"><view class="{{style.popupTitle}}"><view class="{{style.title}}">全部优惠券</view><view class="{{style.close}}" catchtap="_closePopup">x</view></view><scroll-view scroll-y="{{true}}" class="{{style.scrollView}}"><template is="renderCoupon" data="{{...item.$loopState__temp13}}" wx:for="{{loopArray8}}" wx:for-item="item" wx:for-index="_anonIdx4"></template></scroll-view></view></block></template>
<template name="renderRuleDia"><block><rule-dia compid="{{$compid__32}}"></rule-dia></block></template>
