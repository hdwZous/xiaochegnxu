<view class='wrapper' catchtap="elementTracker">
  <search-box fromSource="{{fromSource}}" searchKey="{{searchKey}}" curStoreId="{{curStoreId}}" channelId="{{channelId}}" showValue="{{showValue}}" pageId="{{recommendObj.pageIdFirstPage}}" currentPageName="{{recommendObj.currentPageName}}" prePageName="{{recommendObj.prePageName}}" recommendObj="{{recommendObj}}" bind:getSearch="getSearch" bind:showSuggestionList="showSuggestionList"></search-box>
  <view class="marTop56">
    <!-- 搜索历史 -->
    <view
      class='history-search'
      wx:if="{{!showSuggestion && historySearch.length > 0}}"
      style="padding-top: 32rpx"
    >
      <view class='type'>
        <text style="font-weight:bold;" aria-label="搜索历史.下方是搜索过的关键词" aria-role='text'>搜索历史</text>
        <text class='clear' catchtap="clearHistorySearch" aria-label="清空搜索历史" aria-role='button'>清除搜索历史</text>
      </view>
      <view class="history-words ellipsis-two-line">
        <view class="word" wx:for="{{historySearch}}" wx:key="index" wx:for-item="item" bindtap="handleHistorySearch" data-id="{{item.keyWord}}" aria-role='link' aria-label="搜索词.{{item.keyWord}}">
          <text aria-hidden="true" class="search_text">{{item.keyWord}}</text>
        </view>
      </view>
    </view>
    <!-- 热门搜索 -->
    <view class='history-search' wx:if="{{!showSuggestion &&hotSearch.length > 0}}">
      <view class='type'>
        <text style="font-weight:bold;" aria-label="热门搜索.下方是大家搜索最多的推荐词" aria-role='text'>搜索发现</text>
      </view>
      <view class="history-words ellipsis-two-line">
        <view class="word search_list" wx:for="{{hotSearch}}" wx:key="index" wx:for-item="item" bindtap="handleHotAndSearch" data-id="{{item.hotWords}}" data-user-action="{{item.userAction}}" data-trace-id="{{traceId}}" data-page-id='{{recommendObj.pageIdFirstPage}}' data-current-page-name='{{recommendObj.currentPageName}}' data-pre-page-name='{{recommendObj.prePageName}}' data-tagtype="{{item.keyType}}" style="background:{{item.backgroundColor}}" data-item="{{item}}" aria-role="link" aria-label="搜索词.{{item.hotWords}}">
          <image aria-hidden="true" src="{{item.wordIcon}}" style="width:28rpx;height:28rpx;margin-right:8rpx;display:inline-block;position:relative;top:-2rpx;" wx:if="{{item.wordIcon}}" />
          <text aria-hidden="true" style="color:{{item.wordColor}}" class="search_text">{{item.hotWords}}</text>
        </view>
      </view>
    </view>
    <!-- 榜单 -->
    <block wx:if="{{!showSuggestion && searchFloorList && searchFloorList.length}}">
      <view class="rank__wrapper">
        <rank-box
          searchFloorList="{{searchFloorList}}"
          traceId="{{rankTraceId}}"
          buriedObj="{{recommendObj}}"
        />
      </view>
    </block>
  </view>
</view>
