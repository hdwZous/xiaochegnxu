require("../runtime"),require("../vendors"),(wx["webpackJsonp/pages/vpaymember_t/"]=wx["webpackJsonp/pages/vpaymember_t/"]||[]).push([[15],{16:function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"C",(function(){return a})),n.d(t,"l",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"m",(function(){return s})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"q",(function(){return f})),n.d(t,"L",(function(){return _})),n.d(t,"i",(function(){return g})),n.d(t,"G",(function(){return m})),n.d(t,"K",(function(){return h})),n.d(t,"I",(function(){return y})),n.d(t,"F",(function(){return v})),n.d(t,"p",(function(){return x})),n.d(t,"b",(function(){return j})),n.d(t,"w",(function(){return O})),n.d(t,"k",(function(){return I})),n.d(t,"A",(function(){return S})),n.d(t,"B",(function(){return N})),n.d(t,"J",(function(){return w})),n.d(t,"y",(function(){return k})),n.d(t,"a",(function(){return T})),n.d(t,"z",(function(){return P})),n.d(t,"n",(function(){return C})),n.d(t,"u",(function(){return L})),n.d(t,"v",(function(){return J})),n.d(t,"x",(function(){return B})),n.d(t,"E",(function(){return F})),n.d(t,"t",(function(){return G})),n.d(t,"r",(function(){return M})),n.d(t,"s",(function(){return E})),n.d(t,"M",(function(){return W})),n.d(t,"D",(function(){return R})),n.d(t,"H",(function(){return D})),n.d(t,"o",(function(){return V}));var i=n(2),o=function api_nearbystore_list(e){return Object(i.a)({functionId:"vip/store/nearList",body:e})},a=function get_purchasePage_info(e){return Object(i.a)({functionId:"pay/vip/purchasePage",method:"POST",body:JSON.stringify(e)})},r=function api_plus_vipPurchase(e){return Object(i.a)({functionId:"pay/vip/purchase",body:e})},c=function api_buy_record(e){return Object(i.a)({functionId:"pay/vip/record",body:e||{}})},u=function api_convertCouponCheck(e){return Object(i.a)({functionId:"vip/convertCouponCheck",method:"POST",body:JSON.stringify(e)})},d=function api_convertCoupon(e){return Object(i.a)({functionId:"vip/convertCoupon",method:"POST",body:JSON.stringify(e)})},s=function api_undoExchange(e){return Object(i.a)({functionId:"vip/exchange/undo",method:"POST",body:JSON.stringify(e)})},p=function api_allowanceList(e){return Object(i.a)({functionId:"pay/vip/allowance/detail",body:e||{}})},l=function api_exchangeconCheck(e){return Object(i.a)({functionId:"pay/vip/exchange/check",body:e||{}})},b=function api_exchangeconFirm(e){return Object(i.a)({functionId:"pay/vip/exchange/confirm",body:e||{}})},f=function discountListCont(e){return Object(i.a)({functionId:"pay/vip/red/packet/discount",body:e||{}})},_=function tabContentFun(e){return Object(i.a)({functionId:"pay/vip/red/packet/tab",body:e||{}})},g=function api_getCouponData(e){return Object(i.a)({functionId:"vip/exchange/queryPageList",body:e||{}})},m=function protocolFun(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)({functionId:"pay/vip/protocol",body:e})},h=function storeInfoFun(e){return Object(i.a)({functionId:"pay/vip/store",method:"POST",body:JSON.stringify(e)})},y=function queryPayStatusFun(e){return console.log(JSON.stringify(e),"------参数"),Object(i.a)({functionId:"tx/core/queryPayStatus",body:JSON.stringify(e)})},v=function payModesFun(e){return Object(i.a)({functionId:"pay/cashier/pay-modes",method:"POST",body:JSON.stringify(e)})},x=function directPayFun(e){return Object(i.a)({functionId:"pay/cashier/direct-pay",method:"POST",body:JSON.stringify(e),isNeedDealError:1})},j=function abStrategyFun(){return Object(i.a)({functionId:"pay/cashier/ab-strategy",method:"POST"})},O=function getPayInfoFun(e){return Object(i.a)({functionId:"pay/cashier/get-pay-info",method:"POST",body:e})},I=function api_plus_main_new(e){return Object(i.a)({functionId:"pay/vip/main-page",method:"POST",body:e})},S=function getVenuePageFun(e){return Object(i.a)({functionId:"pay/vip/venuePage",method:"GET",body:JSON.stringify(e)})},N=function getVenueReceiveFun(e){return Object(i.a)({functionId:"pay/vip/venueReceive",method:"POST",body:JSON.stringify(e)})},w=function showMoreFun(e){return Object(i.a)({functionId:"pay/vip/showMore",method:"GET",body:JSON.stringify(e)})},k=function getRights(e){return Object(i.a)({functionId:"vip/benefit/all",method:"GET",body:JSON.stringify(e)})},T=function abProductList(e){return Object(i.a)({functionId:"vip/ab/product-list",method:"GET",body:JSON.stringify(e)})},P=function getSharePic(e){return Object(i.a)({functionId:"vip/share/image",method:"GET",body:JSON.stringify(e)})},C=function api_vip_goods_list(e){return Object(i.a)({functionId:"vip/sku/vipPrice",method:"POST",body:e})},L=function getNearBigCouponList(e){return Object(i.a)({functionId:"vip/member/price/nearList",method:"POST",body:JSON.stringify(e)})},J=function getNearBigCouponListMore(e){return Object(i.a)({functionId:"vip/member/price/loadMore",method:"POST",body:JSON.stringify(e)})},B=function getQueryStatusForV(e){return Object(i.a)({functionId:"vip/contract/queryStatusForV",method:"GET",body:JSON.stringify(e)})},F=function noticeResult(e){return Object(i.a)({functionId:"vip/contract/noticeResult",method:"GET",body:JSON.stringify(e)})},G=function getContractInfoPage(e){return Object(i.a)({functionId:"vip/contract/infoPage",method:"GET",body:JSON.stringify(e)})},M=function getContractCancel(e){return Object(i.a)({functionId:"vip/contract/cancel",method:"GET",body:JSON.stringify(e)})},E=function getContractHistoryState(e){return Object(i.a)({functionId:"vip/contract/historyState",method:"GET",body:JSON.stringify(e)})},W=function vipMarket(e){return Object(i.a)({functionId:"vip/market/orderGuide",method:"GET",body:JSON.stringify(e),isNeedDealError:1})},R=function layerIndex(e){return Object(i.a)({functionId:"vip/layer/index",method:"GET",body:JSON.stringify(e)})},D=function queryPageList(e){return Object(i.a)({functionId:"vip/exchange/queryPageList",method:"GET",body:JSON.stringify(e)})},V=function dealButton(e){return Object(i.a)({functionId:"pay/vip/dealButton",method:"POST",body:JSON.stringify(e)})}},20:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));var i=n(4),o=n(3),a=n.n(o),r=function navigateTo(e){var t=e.url;return(t.indexOf("testpdjm.jd.com")>-1||t.indexOf("prepdjm.jd.com")>-1||t.indexOf("daojia.jd.com")>-1||t.indexOf("prepdj-three.jddj.com")>-1)&&(t="/pages/"+t.split("/pages/")[1]),a.a.navigateTo({url:t})},c=function postMsgUpdateV(){i.c&&_isCompatible(String(i.a),String("8.6.0"))>=0&&(i.d?i.h&&e.webkit.messageHandlers.MobileNavi.postMessage({method:"updateVPlusPage",callBackName:null,callBackId:null}):i.b&&e.djJava.closeWebview&&e.djJava.updateVPlusPage())},u=function closeWebView(){i.c&&_isCompatible(String(i.a),String("8.6.0"))>=0&&(i.d?i.h&&e.webkit.messageHandlers.MobileNavi.postMessage({method:"closeWebview",callBackName:null,callBackId:null}):i.b&&e.djJava.closeWebview&&e.djJava.closeWebview())};function _isCompatible(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var i=0;i<n;i++){var o=parseInt(e[i]),a=parseInt(t[i]);if(o>a)return 1;if(o<a)return-1}return 0}}).call(this,n(11).window)},200:function(e,t,n){"use strict";n.r(t);n(68);var i=n(13),o=n(11),a=n(42),r=n(5);o.container.get(o.SERVICE_IDENTIFIER.Hooks).initNativeApiImpls=[i.c.initNativeApi];var c={pages:["pages/index/index"],subPackages:[{root:"pages/vipChannel-t/",pages:["index"],independent:!0},{root:"pages/merchant-t/",pages:["agreement/index"],independent:!0},{root:"pages/vpaymember_t/",pages:["home/index","memberGoods/index","packageSelection/index","rightsInstruction/index","memberDay/index","couponTab/index","couponTabNew/index","exchangePage/index","instructions/index","envelopesRecord/index","bountyList/index","discountList/index","manageRenew/index","payResult/index","toVPlusCenterPage/index"],independent:!0},{root:"pages/test-t/",pages:["hy/index"]}],permission:{"scope.userLocation":{desc:"你的位置信息将用获取最近的门店信息"}},plugins:{loginPlugin:{version:"1.5.1",provider:"wxefe655223916819e"},"live-player-plugin":{version:"1.3.5",provider:"wx2b03c6e691cd7370"}},window:{backgroundTextStyle:"light",navigationBarBackgroundColor:"#fff",navigationBarTitleText:"WeChat",navigationBarTextStyle:"black"}};o.window.__taroAppConfig=c;class App extends r.Component{render(){return this.props.children}}Object(a.a)(App,r,r.default,c);var u=n(223).default;Page(Object(o.createPageConfig)(u,"pages/vpaymember_t/rightsInstruction/index",{},{navigationBarBackgroundColor:"#000000",navigationBarTextStyle:"white",navigationBarTitleText:"会员专享权益"}||{}))},223:function(e,t,n){"use strict";n.r(t);var i=n(30),o=n(22),a=n(39),r=n(6),c=n(7),u=n(15),d=n(8),s=n(9),p=n(10),l=n(5),b=n(3),f=n.n(b),_=n(16),g=n(1),m=n(33),h=n(54),y=n(71),v=n.n(y),x=n(14),j=n(0),O=function(e){Object(d.a)(IMG,e);var t=Object(s.a)(IMG);function IMG(e){var n;return Object(r.a)(this,IMG),(n=t.call(this,e)).state={webpsrc:""},n._refresh="",n}return Object(c.a)(IMG,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.src,t=this.getImgType(e);this.setState({webpsrc:t})}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.props.src;if(e!=this._refresh){this._refresh=e;var t=this.getImgType(e);this.setState({webpsrc:t})}}},{key:"isJdHost",value:function isJdHost(e){return/^https:\/\/(img\d{2}|m)\.360buyimg\.com/.test(e)}},{key:"isJPG",value:function isJPG(e){return/\.(jpg|jpeg|png)$/i.test(e)}},{key:"isSupportWebp",value:function isSupportWebp(){return!0}},{key:"getImgType",value:function getImgType(e){var t=e;return this.isJdHost(e)&&this.isJPG(e)&&this.isSupportWebp()&&(t=e+"!q70.webp"),t}},{key:"render",value:function render(){var e=this.state.webpsrc,t=this.props,n=t.className,i=void 0===n?{}:n,o=t.id,a=void 0===o?"":o,r=t.name,c=void 0===r?"":r,u=(t.style,t.mode),d=void 0===u?"scaleToFill":u,s=t.lazyLoad,p=void 0===s||s,l=t.key,b=void 0===l?"":l,f=t.hidden,_=void 0===f?"":f,m=t.animation,h=void 0===m?"":m,y=(t.onClick,t.alt),v=void 0===y?"京东到家":y,x=t.width,O=void 0===x?"":x,I=t.height,S=void 0===I?"":I,N=t.webp,w=void 0===N||N,k=t.styletxt,T=void 0===k?"":k,P=t.onLoad;return Object(j.jsx)(g.c,{onLoad:P,id:a,className:i,name:c,style:T,mode:d,lazyLoad:p,hidden:_,src:e,animation:h,alt:v,width:O,height:S,webp:w},b)}}]),IMG}(l.Component);Object(p.a)(O,"externalClasses",["my-class"]);var I=n(99),S=function(e){Object(d.a)(rightsInstruction,e);var t,n=Object(s.a)(rightsInstruction);function rightsInstruction(e){var t;return Object(r.a)(this,rightsInstruction),t=n.call(this,e),Object(p.a)(Object(u.a)(t),"params",void 0),Object(p.a)(Object(u.a)(t),"isLogin",void 0),t.params=f.a.getCurrentInstance().router.params,t.isLogin=!1,t.state={scrollLeft:0,dataList:[{icon:""},{icon:""},{icon:""},{icon:""},{icon:""},{icon:""},{icon:""},{icon:""},{icon:""}],current:0,openedData:{vipFlag:0}},t}return Object(c.a)(rightsInstruction,[{key:"componentDidMount",value:(t=Object(a.a)(Object(o.a)().mark((function _callee(){return Object(o.a)().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b;case 2:this.isLogin=e.sent,this.getRightsApi(),this.dealButtonApi();case 5:case"end":return e.stop()}}),_callee,this)}))),function componentDidMount(){return t.apply(this,arguments)})},{key:"componentDidShow",value:function componentDidShow(){Object(x.b)({page_name:"vip_rights",page_par:Object(i.a)({},this.params)})}},{key:"render",value:function render(){var e,t,n=this,i=this.state,o=i.scrollLeft,a=i.dataList,r=i.current,c=void 0===r?0:r,u=i.openedData,d={display:"inline-block",width:"80rpx",height:"80rpx",background:"#212329",borderRadius:"50%",marginBottom:"18rpx"},s=((null===(e=Object(b.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{}).channel,p=void 0===s?"":s,l=a[c]?(a[c].height||0)+"px":"";return Object(j.jsxs)(g.j,{className:v.a.bg,children:[Object(j.jsx)(g.j,{className:v.a.title_box,children:Object(j.jsx)(g.f,{scrollX:!0,className:v.a.list_box,scrollWithAnimation:!0,scrollLeft:o,children:a.map((function(e,t){return Object(j.jsx)(g.j,{id:"key"+t,className:v.a.list_box_item,children:Object(j.jsxs)(g.j,{className:v.a.list_item,onClick:n.clickCur.bind(n,t),children:[Object(j.jsx)(O,{className:v.a.item_icon,src:e.icon,onLoad:function onLoad(){},styletxt:d}),Object(j.jsx)(g.j,{className:v.a.txt,children:e.name}),Object(j.jsx)(g.j,{className:c==t?v.a.check:v.a.tag})]})},"key"+t)}))})}),Object(j.jsx)(g.j,{className:v.a.info_box,children:Object(j.jsx)(g.g,{className:v.a.content_swiper,current:c,onChange:this.onChange.bind(this),style:{height:l},children:a.map((function(e,t){return Object(j.jsx)(g.h,{className:v.a.content_swiper_item,children:Object(j.jsx)(g.c,{id:"img"+t,onLoad:function onLoad(e){n.imageLoad(t,e)},mode:"widthFix",className:v.a.content_swiper_img,src:e.descPicUrl})},t+"img")}))})}),null!=u&&u.dealButton?Object(j.jsx)(I.a,{channel:p,vipFlag:u.vipFlag,isLoginFlag:this.isLogin,data:{floorItem:u.dealButton}}):null]})}},{key:"dealButtonApi",value:function dealButtonApi(){var e=this;Object(h.a)().then((function(t){var n={longitude:t.longitude||"",latitude:t.latitude||"",cityId:t.cityId||t.areaCode||t.cityCode||t.code||t.RNuserCityId||"",userCardType:-1,requestor:"vplus-home",pageVersion:"V9"};Object(_.o)(n).then((function(t){0==t.code&&e.setState({openedData:t.result})}))}))}},{key:"getRightsApi",value:function getRightsApi(){var e=this,t=this.params,n=t.vpId,i=void 0===n?-1:n,o=t.type,a=void 0===o?1:o;Object(_.y)({vpId:i,type:a}).then((function(t){var n=t.code,i=t.result,o=void 0===i?[]:i;if("0"==n){var r=o.find((function(e,t){return e.index=t,e.type==a})),c=r&&r.index||0;e.setState({dataList:o,current:c})}})).catch((function(e){f.a.showToast({icon:"none",title:e&&e.msg||"请您稍后重试"});var t=setTimeout((function(){f.a.navigateBack(),clearTimeout(t)}),2e3)}))}},{key:"clickCur",value:function clickCur(e){this.setState({current:e})}},{key:"onChange",value:function onChange(e){var t=e.detail.current,n=t<=2?0:118*(t-2);console.log("left",n),this.setState({current:t,scrollLeft:n})}},{key:"imageLoad",value:function imageLoad(e,t){var n=this.state.dataList,i=t.detail,o=i.width,a=i.height,r=f.a.getSystemInfoSync().screenWidth,c=a*+((void 0===r?0:r)/o).toFixed(2);console.log(c,"imgHeight"),n[e].height=c,this.setState({dataList:n})}}]),rightsInstruction}(l.Component);t.default=S},49:function(e,t,n){e.exports={btn_fix_box:"index-module__btn_fix_box___2vEAP",btn_fix_box_tab:"index-module__btn_fix_box_tab___1r2oN",btmLogoBox:"index-module__btmLogoBox___8JxUt",mymove:"index-module__mymove___1XKCg",btmLogo:"index-module__btmLogo___3-Cit",btmLogoTxt:"index-module__btmLogoTxt___eT6OK",btnContNewPage:"index-module__btnContNewPage___H8Rt6",move:"index-module__move___34ogm",btn_leftWrap:"index-module__btn_leftWrap___22od0",btn_type:"index-module__btn_type___1diSV",btn_mon:"index-module__btn_mon___2PX2t",priceWord:"index-module__priceWord___2aiVI",btn_open:"index-module__btn_open___1Rt8i",btn_lable:"index-module__btn_lable___31wbR"}},71:function(e,t,n){e.exports={bg:"index-module__bg___2xVmq",title_box:"index-module__title_box___yt9al",list_box:"index-module__list_box___6e34O",list_box_item:"index-module__list_box_item___PWaK3",list_item:"index-module__list_item___319wu",item_icon:"index-module__item_icon___12j0P",txt:"index-module__txt___2wg88",tag:"index-module__tag___RGJU5",check:"index-module__check___2-bVl",info_box:"index-module__info_box___3Ie8j",content_swiper:"index-module__content_swiper___1moJs",content_swiper_item:"index-module__content_swiper_item___30xFZ",content_swiper_img:"index-module__content_swiper_img___1P-19"}},99:function(e,t,n){"use strict";var i=n(6),o=n(7),a=n(8),r=n(9),c=n(5),u=n(1),d=n(49),s=n.n(d),p=n(14),l=n(33),b=n(20),f=n(0),_=function(e){Object(a.a)(OpendBtnBox,e);var t=Object(r.a)(OpendBtnBox);function OpendBtnBox(){return Object(i.a)(this,OpendBtnBox),t.apply(this,arguments)}return Object(o.a)(OpendBtnBox,[{key:"render",value:function render(){var e=this.props,t=e.vipFlag,n=e.data,i=e.channel,o=n.floorItem,a=o.priceWord,r=o.cardName,c=o.tipText,d=o.userCardType,p=o.joinWord,l=void 0===p?"立即开通":p;return Object(f.jsx)(u.j,{className:[s.a.btn_fix_box,"findpage"==i?s.a.btn_fix_box_tab:""].join(" "),children:Object(f.jsxs)(u.j,{className:[s.a.btnContNewPage,1==t?"":s.a.move].join(" "),onClick:this.toOpen.bind(this,d),children:[1==t&&c?Object(f.jsxs)(u.j,{className:s.a.btmLogoBox,children:[Object(f.jsx)(u.j,{className:s.a.btmLogo}),Object(f.jsx)(u.j,{className:s.a.btmLogoTxt,children:c})]}):null,Object(f.jsxs)(u.j,{className:s.a.btn_leftWrap,children:[Object(f.jsxs)(u.i,{className:s.a.btn_mon,children:["￥",a]}),Object(f.jsxs)(u.i,{className:s.a.btn_type,children:["/",r]})]}),Object(f.jsx)(u.j,{className:s.a.btn_open,children:l}),c&&1!=t?Object(f.jsx)(u.j,{className:s.a.btn_lable,children:c}):null]})})}},{key:"toOpen",value:function toOpen(e){var t=this.props,n=t.isLoginFlag,i=t.vipFlag,o=t.jumpUrl,a=t.channel;if(n){Object(p.a)({page_name:"newvippage",create_time:new Date,click_id:"clickOpen",click_par:{type:{1:"open",0:"notOpen",3:"past "}[i],site:"down"}});var r="";r="findpage"==a?e?"payFrom=appTab&vipFlag=".concat(i,"&userCardType=").concat(e,"&h5=#newPay"):"payFrom=appTab&vipFlag=".concat(i,"&h5=#newPay"):e?"vipFlag=".concat(i,"&userCardType=").concat(e,"&h5=#newPay"):"vipFlag=".concat(i,"&h5=#newPay"),Object(b.b)({url:"/pages/vpaymember_t/packageSelection/index?".concat(r),type:"findpage"==a?"openNewWeb":""})}else Object(l.a)({localTargetUrl:o})}}]),OpendBtnBox}(c.default.Component);t.a=_}},[[200,0,17]]]);