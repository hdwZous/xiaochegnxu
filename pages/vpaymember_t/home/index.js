require("../runtime"),require("../vendors"),(wx["webpackJsonp/pages/vpaymember_t/"]=wx["webpackJsonp/pages/vpaymember_t/"]||[]).push([[2],[,,,,,,,,,,,,function(e,t,o){e.exports={"global-tip":"index-module__global-tip___QlHN8","body-tip-wrap":"index-module__body-tip-wrap___aPTCB","tip-wrap":"index-module__tip-wrap___22y4U","tip-box":"index-module__tip-box___T7YOL","tip-icon":"index-module__tip-icon___I7B8P","tip-icon-unLogin":"index-module__tip-icon-unLogin___1-jbT","tip-icon-noWifi":"index-module__tip-icon-noWifi___2dxuP","tip-icon-noLocation":"index-module__tip-icon-noLocation___I2R_R","tip-icon-noSearch":"index-module__tip-icon-noSearch___3tUE6","tip-icon-noShop":"index-module__tip-icon-noShop___2h2cU","tip-icon-noOpen":"index-module__tip-icon-noOpen___J1T3G","tip-icon-empty":"index-module__tip-icon-empty___xRFrr","tip-icon-close":"index-module__tip-icon-close___2ISFM","tip-icon-search":"index-module__tip-icon-search___yYaXq","tip-icon-nothing":"index-module__tip-icon-nothing___dw2s1","tip-icon-storeOffline":"index-module__tip-icon-storeOffline___1dgCh","tip-icon-searchFail":"index-module__tip-icon-searchFail___14dM7","tip-icon-noSearchBtn":"index-module__tip-icon-noSearchBtn___2nwf4","tip-message":"index-module__tip-message___1xNit",tipBtn:"index-module__tipBtn___3PI5b","search-tip-span":"index-module__search-tip-span___2I2as",android:"index-module__android___B49C3","tip-btn":"index-module__tip-btn___2puVF","msg-red-point":"index-module__msg-red-point___3Tr-v","msg-red-point-small":"index-module__msg-red-point-small___3ruUD","msg-red-point-num":"index-module__msg-red-point-num___2ivqG","reddot-server":"index-module__reddot-server___l5U76",tipText:"index-module__tipText___L-jUT"}},,,,function(e,t,o){"use strict";o.d(t,"j",(function(){return n})),o.d(t,"C",(function(){return s})),o.d(t,"l",(function(){return i})),o.d(t,"d",(function(){return c})),o.d(t,"f",(function(){return r})),o.d(t,"e",(function(){return l})),o.d(t,"m",(function(){return d})),o.d(t,"c",(function(){return _})),o.d(t,"g",(function(){return m})),o.d(t,"h",(function(){return u})),o.d(t,"q",(function(){return p})),o.d(t,"L",(function(){return b})),o.d(t,"i",(function(){return j})),o.d(t,"G",(function(){return h})),o.d(t,"K",(function(){return g})),o.d(t,"I",(function(){return x})),o.d(t,"F",(function(){return v})),o.d(t,"p",(function(){return O})),o.d(t,"b",(function(){return f})),o.d(t,"w",(function(){return y})),o.d(t,"k",(function(){return N})),o.d(t,"A",(function(){return C})),o.d(t,"B",(function(){return w})),o.d(t,"J",(function(){return I})),o.d(t,"y",(function(){return k})),o.d(t,"a",(function(){return T})),o.d(t,"z",(function(){return B})),o.d(t,"n",(function(){return P})),o.d(t,"u",(function(){return S})),o.d(t,"v",(function(){return L})),o.d(t,"x",(function(){return D})),o.d(t,"E",(function(){return M})),o.d(t,"t",(function(){return E})),o.d(t,"r",(function(){return R})),o.d(t,"s",(function(){return F})),o.d(t,"M",(function(){return A})),o.d(t,"D",(function(){return H})),o.d(t,"H",(function(){return G})),o.d(t,"o",(function(){return U}));var a=o(2),n=function api_nearbystore_list(e){return Object(a.a)({functionId:"vip/store/nearList",body:e})},s=function get_purchasePage_info(e){return Object(a.a)({functionId:"pay/vip/purchasePage",method:"POST",body:JSON.stringify(e)})},i=function api_plus_vipPurchase(e){return Object(a.a)({functionId:"pay/vip/purchase",body:e})},c=function api_buy_record(e){return Object(a.a)({functionId:"pay/vip/record",body:e||{}})},r=function api_convertCouponCheck(e){return Object(a.a)({functionId:"vip/convertCouponCheck",method:"POST",body:JSON.stringify(e)})},l=function api_convertCoupon(e){return Object(a.a)({functionId:"vip/convertCoupon",method:"POST",body:JSON.stringify(e)})},d=function api_undoExchange(e){return Object(a.a)({functionId:"vip/exchange/undo",method:"POST",body:JSON.stringify(e)})},_=function api_allowanceList(e){return Object(a.a)({functionId:"pay/vip/allowance/detail",body:e||{}})},m=function api_exchangeconCheck(e){return Object(a.a)({functionId:"pay/vip/exchange/check",body:e||{}})},u=function api_exchangeconFirm(e){return Object(a.a)({functionId:"pay/vip/exchange/confirm",body:e||{}})},p=function discountListCont(e){return Object(a.a)({functionId:"pay/vip/red/packet/discount",body:e||{}})},b=function tabContentFun(e){return Object(a.a)({functionId:"pay/vip/red/packet/tab",body:e||{}})},j=function api_getCouponData(e){return Object(a.a)({functionId:"vip/exchange/queryPageList",body:e||{}})},h=function protocolFun(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({functionId:"pay/vip/protocol",body:e})},g=function storeInfoFun(e){return Object(a.a)({functionId:"pay/vip/store",method:"POST",body:JSON.stringify(e)})},x=function queryPayStatusFun(e){return console.log(JSON.stringify(e),"------参数"),Object(a.a)({functionId:"tx/core/queryPayStatus",body:JSON.stringify(e)})},v=function payModesFun(e){return Object(a.a)({functionId:"pay/cashier/pay-modes",method:"POST",body:JSON.stringify(e)})},O=function directPayFun(e){return Object(a.a)({functionId:"pay/cashier/direct-pay",method:"POST",body:JSON.stringify(e),isNeedDealError:1})},f=function abStrategyFun(){return Object(a.a)({functionId:"pay/cashier/ab-strategy",method:"POST"})},y=function getPayInfoFun(e){return Object(a.a)({functionId:"pay/cashier/get-pay-info",method:"POST",body:e})},N=function api_plus_main_new(e){return Object(a.a)({functionId:"pay/vip/main-page",method:"POST",body:e})},C=function getVenuePageFun(e){return Object(a.a)({functionId:"pay/vip/venuePage",method:"GET",body:JSON.stringify(e)})},w=function getVenueReceiveFun(e){return Object(a.a)({functionId:"pay/vip/venueReceive",method:"POST",body:JSON.stringify(e)})},I=function showMoreFun(e){return Object(a.a)({functionId:"pay/vip/showMore",method:"GET",body:JSON.stringify(e)})},k=function getRights(e){return Object(a.a)({functionId:"vip/benefit/all",method:"GET",body:JSON.stringify(e)})},T=function abProductList(e){return Object(a.a)({functionId:"vip/ab/product-list",method:"GET",body:JSON.stringify(e)})},B=function getSharePic(e){return Object(a.a)({functionId:"vip/share/image",method:"GET",body:JSON.stringify(e)})},P=function api_vip_goods_list(e){return Object(a.a)({functionId:"vip/sku/vipPrice",method:"POST",body:e})},S=function getNearBigCouponList(e){return Object(a.a)({functionId:"vip/member/price/nearList",method:"POST",body:JSON.stringify(e)})},L=function getNearBigCouponListMore(e){return Object(a.a)({functionId:"vip/member/price/loadMore",method:"POST",body:JSON.stringify(e)})},D=function getQueryStatusForV(e){return Object(a.a)({functionId:"vip/contract/queryStatusForV",method:"GET",body:JSON.stringify(e)})},M=function noticeResult(e){return Object(a.a)({functionId:"vip/contract/noticeResult",method:"GET",body:JSON.stringify(e)})},E=function getContractInfoPage(e){return Object(a.a)({functionId:"vip/contract/infoPage",method:"GET",body:JSON.stringify(e)})},R=function getContractCancel(e){return Object(a.a)({functionId:"vip/contract/cancel",method:"GET",body:JSON.stringify(e)})},F=function getContractHistoryState(e){return Object(a.a)({functionId:"vip/contract/historyState",method:"GET",body:JSON.stringify(e)})},A=function vipMarket(e){return Object(a.a)({functionId:"vip/market/orderGuide",method:"GET",body:JSON.stringify(e),isNeedDealError:1})},H=function layerIndex(e){return Object(a.a)({functionId:"vip/layer/index",method:"GET",body:JSON.stringify(e)})},G=function queryPageList(e){return Object(a.a)({functionId:"vip/exchange/queryPageList",method:"GET",body:JSON.stringify(e)})},U=function dealButton(e){return Object(a.a)({functionId:"pay/vip/dealButton",method:"POST",body:JSON.stringify(e)})}},,,,function(e,t,o){"use strict";(function(e){o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return c})),o.d(t,"a",(function(){return r}));var a=o(4),n=o(3),s=o.n(n),i=function navigateTo(e){var t=e.url;return(t.indexOf("testpdjm.jd.com")>-1||t.indexOf("prepdjm.jd.com")>-1||t.indexOf("daojia.jd.com")>-1||t.indexOf("prepdj-three.jddj.com")>-1)&&(t="/pages/"+t.split("/pages/")[1]),s.a.navigateTo({url:t})},c=function postMsgUpdateV(){a.c&&_isCompatible(String(a.a),String("8.6.0"))>=0&&(a.d?a.h&&e.webkit.messageHandlers.MobileNavi.postMessage({method:"updateVPlusPage",callBackName:null,callBackId:null}):a.b&&e.djJava.closeWebview&&e.djJava.updateVPlusPage())},r=function closeWebView(){a.c&&_isCompatible(String(a.a),String("8.6.0"))>=0&&(a.d?a.h&&e.webkit.messageHandlers.MobileNavi.postMessage({method:"closeWebview",callBackName:null,callBackId:null}):a.b&&e.djJava.closeWebview&&e.djJava.closeWebview())};function _isCompatible(e,t){e=e.split("."),t=t.split(".");for(var o=Math.max(e.length,t.length);e.length<o;)e.push("0");for(;t.length<o;)t.push("0");for(var a=0;a<o;a++){var n=parseInt(e[a]),s=parseInt(t[a]);if(n>s)return 1;if(n<s)return-1}return 0}}).call(this,o(11).window)},function(e,t,o){e.exports={"coupon-box":"index-module__coupon-box___2q0Rd","coupon-box-not":"index-module__coupon-box-not___2K2om","coupon-img":"index-module__coupon-img___1GMgj","coupon-tag":"index-module__coupon-tag___3bBO5","coupon-tag-txt":"index-module__coupon-tag-txt___UGhGK","quota-box":"index-module__quota-box___3a_dQ","quota-box-quit":"index-module__quota-box-quit___Dj8TU","red-box":"index-module__red-box___22hAR","red-box-quota":"index-module__red-box-quota___2KQsQ","red-box-quit":"index-module__red-box-quit___3HE0i","red-box-txt":"index-module__red-box-txt___35lMb","red-img":"index-module__red-img___1K94Y","coupon-content":"index-module__coupon-content___31SpK","coupon-name":"index-module__coupon-name___1GIAM","coupon-cill":"index-module__coupon-cill___1jqCK","coupon-button-box":"index-module__coupon-button-box___1XAOa","coupon-button":"index-module__coupon-button___2fJq-","coupon-cancel":"index-module__coupon-cancel___1RhPn","coupon-change-box":"index-module__coupon-change-box___2PFHe","coupon-bling":"index-module__coupon-bling___3jH8R","coupon-change":"index-module__coupon-change___3Wo8d"}},,function(e,t,o){e.exports={noOpenBox:"member-module__noOpenBox___2zZ7c",title1:"member-module__title1___2D_ad",title2:"member-module__title2___3Br7p",rule:"member-module__rule___xlGD3",tit_mon:"member-module__tit_mon___39h14",tit_num:"member-module__tit_num___1bLDv",memberHeadBox:"member-module__memberHeadBox___P8Kxs",headLeftTop:"member-module__headLeftTop___1seJ7",headLeftTopFlex:"member-module__headLeftTopFlex___TCLm-",headLeftName:"member-module__headLeftName___1ocaU",headLeftTopLogo:"member-module__headLeftTopLogo___2MLbp",headLeftTopLogo2:"member-module__headLeftTopLogo2___3rVEY",headLeftTopTxt:"member-module__headLeftTopTxt___1ZfsL",headRtTop:"member-module__headRtTop___3dgOl",headLeftBtm:"member-module__headLeftBtm___29lVy",monTxt:"member-module__monTxt___2Fzuz",monNum:"member-module__monNum___jq0ij",monUnit:"member-module__monUnit___2YJSf",monUnitArrow:"member-module__monUnitArrow___1njpP",headRtBtm:"member-module__headRtBtm___1WqRE",memberHeadTime:"member-module__memberHeadTime___1wyJI",memberHeadOpenBtn:"member-module__memberHeadOpenBtn___2-crY",memberHeadInnerBox:"member-module__memberHeadInnerBox___2m6YD",memberHeadBoxOld:"member-module__memberHeadBoxOld___6Y3_6",boderRadius:"member-module__boderRadius___307xS",memberHeadAvatorBox:"member-module__memberHeadAvatorBox___3_etC",memberHeadAvator:"member-module__memberHeadAvator___nudln",memberHeadAvatorI:"member-module__memberHeadAvatorI___3sbPR",memberHeadInfo:"member-module__memberHeadInfo___7o6Ts",memberHeadName:"member-module__memberHeadName___3GQf7",memberHeadNameEll:"member-module__memberHeadNameEll___3-HKY",memberHeadCard:"member-module__memberHeadCard___34bHR",memberHeadMonBox:"member-module__memberHeadMonBox____5pLT",monBox:"member-module__monBox___1NQJ_",nowrap:"member-module__nowrap___29bGN",monPoint:"member-module__monPoint___YLmLV",memberHeadMore:"member-module__memberHeadMore___3lj7S",memberHeadMoreCir:"member-module__memberHeadMoreCir___uzxUO",memberHeadMoreWhite:"member-module__memberHeadMoreWhite___19QnJ",t_more_list_wrap:"member-module__t_more_list_wrap___17mSV",t_more_list:"member-module__t_more_list___2Hd0N",tran:"member-module__tran___2XNpL",t_more_ex:"member-module__t_more_ex___3WKTF",t_more_buyli:"member-module__t_more_buyli___FNrkr",t_more_qu:"member-module__t_more_qu___1llvg",t_line:"member-module__t_line___2TGy0"}},function(e,t,o){e.exports={store_info:"envelopesComponent-module__store_info___2Wf72",logo:"envelopesComponent-module__logo___13N3s",logoImg:"envelopesComponent-module__logoImg___1sbeF",logolabel:"envelopesComponent-module__logolabel___g8wFR",cartNum:"envelopesComponent-module__cartNum___2A7fv",logolabelRed:"envelopesComponent-module__logolabelRed___1F20R",logolabelGre:"envelopesComponent-module__logolabelGre___3ys3G",lineBox:"envelopesComponent-module__lineBox___suy8-",store_stars:"envelopesComponent-module__store_stars___2jhg6",month_sale:"envelopesComponent-module__month_sale___2fS6T",distance:"envelopesComponent-module__distance___2ijGB",timetxt:"envelopesComponent-module__timetxt___3DJCc",lineBox2:"envelopesComponent-module__lineBox2___3S_bO",lineBox2Mon:"envelopesComponent-module__lineBox2Mon___3RdqA",lineBox2Line:"envelopesComponent-module__lineBox2Line___3gKRS",lineBox2Monw:"envelopesComponent-module__lineBox2Monw___28CP2",lineBox2Exp:"envelopesComponent-module__lineBox2Exp___calRi",normal_delivery_dada:"envelopesComponent-module__normal_delivery_dada___1giWN",rest_delivery_dada:"envelopesComponent-module__rest_delivery_dada___1FkzR",delivery_self:"envelopesComponent-module__delivery_self___1ShGY",couponLineBox:"envelopesComponent-module__couponLineBox___1PafQ",couponItem:"envelopesComponent-module__couponItem___12e2S",labelBox:"envelopesComponent-module__labelBox___19N82",labeltxt:"envelopesComponent-module__labeltxt___C0E1M",labelBoxDesc:"envelopesComponent-module__labelBoxDesc___3Qdun",exchBoxNoExchange:"envelopesComponent-module__exchBoxNoExchange___20oLb",exchBoxExchange:"envelopesComponent-module__exchBoxExchange___2XVjt",exchBox:"envelopesComponent-module__exchBox___1Cppl",exchImgB:"envelopesComponent-module__exchImgB___2Eivu",exchImg:"envelopesComponent-module__exchImg___3a3LX",exchtxt:"envelopesComponent-module__exchtxt___22LMZ",exchMon:"envelopesComponent-module__exchMon___2m_ze",big:"envelopesComponent-module__big___2SfrJ",info:"envelopesComponent-module__info___1i-XM",store_name:"envelopesComponent-module__store_name___-3pcK",store_name_txt:"envelopesComponent-module__store_name_txt___2QitU",ratebox_gray:"envelopesComponent-module__ratebox_gray___1K4eB",rate:"envelopesComponent-module__rate___3z5mc",graybg:"envelopesComponent-module__graybg___2R7Un",ratebox:"envelopesComponent-module__ratebox___1KEJ9",img:"envelopesComponent-module__img___Wnfxo",ratebox_process:"envelopesComponent-module__ratebox_process___Wacn8",process:"envelopesComponent-module__process___17MZo",ratetxt:"envelopesComponent-module__ratetxt___BmacY",coupon:"envelopesComponent-module__coupon___3KgMm",pricebox:"envelopesComponent-module__pricebox___1DZdc",price:"envelopesComponent-module__price___2Uooo",priceUnit:"envelopesComponent-module__priceUnit___2uvms",priceTxt:"envelopesComponent-module__priceTxt___16Ufm",tips:"envelopesComponent-module__tips___1n8As",divLine:"envelopesComponent-module__divLine___1ygvJ",exchange:"envelopesComponent-module__exchange___S2btZ",number:"envelopesComponent-module__number___1uY55",buttonTxt:"envelopesComponent-module__buttonTxt___3l5lm"}},function(e,t,o){e.exports={"alert-box":"poupEnvelopes-module__alert-box___2Nr_H",close:"poupEnvelopes-module__close___2qEDt",close_find:"poupEnvelopes-module__close_find___rc1fR",alert_box_wrap:"poupEnvelopes-module__alert_box_wrap___3GuPm",title:"poupEnvelopes-module__title___34M1f",couponBox:"poupEnvelopes-module__couponBox___3nSEh",leftCouponBoxOld:"poupEnvelopes-module__leftCouponBoxOld___DinEh",leftCouponMon:"poupEnvelopes-module__leftCouponMon___3P97m",leftCouponUnit:"poupEnvelopes-module__leftCouponUnit___2pEPo",leftCouponLimit:"poupEnvelopes-module__leftCouponLimit___3Ut7j",leftCouponBox:"poupEnvelopes-module__leftCouponBox___3bkv0",marTop2:"poupEnvelopes-module__marTop2___3eHG1",leftCouponAllance:"poupEnvelopes-module__leftCouponAllance___4Ne2f",leftCouponAllanceStar:"poupEnvelopes-module__leftCouponAllanceStar___1kkNx",exchangeIMg:"poupEnvelopes-module__exchangeIMg___FzySL",rtRedBox:"poupEnvelopes-module__rtRedBox___xtac3",rtRedBoxNum:"poupEnvelopes-module__rtRedBoxNum___2WoSz",rtRedBoxUnit:"poupEnvelopes-module__rtRedBoxUnit___3Uz1d",rtRedBoxTxt:"poupEnvelopes-module__rtRedBoxTxt___1pATM",rtCouponBox:"poupEnvelopes-module__rtCouponBox___1hzjj",rtCouponLogoBox:"poupEnvelopes-module__rtCouponLogoBox___1o3rP",rtCouponLogo:"poupEnvelopes-module__rtCouponLogo___276ew","alert-box-bottom":"poupEnvelopes-module__alert-box-bottom___1GDAR","alert-box-btn":"poupEnvelopes-module__alert-box-btn___1y6fz",popBox:"poupEnvelopes-module__popBox___3ybBQ",popTit:"poupEnvelopes-module__popTit___1tOBd",popCouponBox:"poupEnvelopes-module__popCouponBox___1D-5v",popCouponLeft:"poupEnvelopes-module__popCouponLeft___3MZE7",popCouponUnit:"poupEnvelopes-module__popCouponUnit___A3uhN",popCouponRt:"poupEnvelopes-module__popCouponRt___1wLr8",popName:"poupEnvelopes-module__popName___WOXL5",popInfo:"poupEnvelopes-module__popInfo___Q2KnB",popBtn:"poupEnvelopes-module__popBtn___2hVFY",popCouponBox2:"poupEnvelopes-module__popCouponBox2___1VfNq","alert-box-wrap":"poupEnvelopes-module__alert-box-wrap___268ZA","alert-box-content-bottom-new":"poupEnvelopes-module__alert-box-content-bottom-new___1ykwY",couponName:"poupEnvelopes-module__couponName___2y355",couponType:"poupEnvelopes-module__couponType___kkywo",couponTime:"poupEnvelopes-module__couponTime___FRHta"}},,function(e,t,o){e.exports={mark:"index-module__mark___232ji",container:"index-module__container___1bEuj",storeMsg:"index-module__storeMsg___MJq5I",toStoreBtn:"index-module__toStoreBtn___3q6lf",close:"index-module__close___12T10",title:"index-module__title___wkkH2",subTitle:"index-module__subTitle___2-aGe",store_info:"index-module__store_info___1VodG",logo:"index-module__logo___2okIi",logoImg:"index-module__logoImg___Z_Tl2",info:"index-module__info___1Qrbg",store_name:"index-module__store_name___29Ueb",store_name_txt:"index-module__store_name_txt___2174N",right:"index-module__right___2rbKt",store_stars:"index-module__store_stars___e85A9",ratebox_gray:"index-module__ratebox_gray___3tfvH",rate:"index-module__rate___3y9EV",graybg:"index-module__graybg___3CSCb",ratebox:"index-module__ratebox___323uX",img:"index-module__img___1yk49",ratebox_process:"index-module__ratebox_process___1Vb8U",process:"index-module__process___1Q6Hm",ratetxt:"index-module__ratetxt___2yHCA",month_sale:"index-module__month_sale___1fCGv",coupon:"index-module__coupon___1MV4z",divLine:"index-module__divLine___1URa_",exchange:"index-module__exchange___2UMyq",number:"index-module__number___1uOKZ",buttonTxt:"index-module__buttonTxt___34mp8",priceCont:"index-module__priceCont___3e9ch",pricebox:"index-module__pricebox___1E41v",price:"index-module__price___umRYG",priceUnit:"index-module__priceUnit___3kMk1",priceTxt:"index-module__priceTxt___3cw4i",tips:"index-module__tips___3HSHJ"}},function(e,t,o){e.exports={"alert-box":"poupEnvelopes-module__alert-box___3ZV8M",close:"poupEnvelopes-module__close___YSJMQ",rtRedBox:"poupEnvelopes-module__rtRedBox___2gMrO",rtRedBoxNum:"poupEnvelopes-module__rtRedBoxNum___1PpuH",rtRedBoxUnit:"poupEnvelopes-module__rtRedBoxUnit___3u_MW",rtRedBoxTxt:"poupEnvelopes-module__rtRedBoxTxt___3TLPA",alert_box_wrap:"poupEnvelopes-module__alert_box_wrap___wq_4t",title:"poupEnvelopes-module__title___3Bfmm",subTitle:"poupEnvelopes-module__subTitle___qstYZ",couponBox:"poupEnvelopes-module__couponBox___2IrLs",leftCouponBox:"poupEnvelopes-module__leftCouponBox___1_nUF",marTop2:"poupEnvelopes-module__marTop2___17pQI",leftCouponMon:"poupEnvelopes-module__leftCouponMon___1dJbk",leftCouponAllance:"poupEnvelopes-module__leftCouponAllance___SLtnA",leftCouponAllanceStar:"poupEnvelopes-module__leftCouponAllanceStar___3F-Qw",exchangeIMg:"poupEnvelopes-module__exchangeIMg___23r_B",rtCouponBox:"poupEnvelopes-module__rtCouponBox___2MvUG",rtCouponLogoBox:"poupEnvelopes-module__rtCouponLogoBox___1gkG2",rtCouponLogo:"poupEnvelopes-module__rtCouponLogo___3dweR",leftCouponUnit:"poupEnvelopes-module__leftCouponUnit___3g7gA",leftCouponLimit:"poupEnvelopes-module__leftCouponLimit___Xz68g","alert-box-bottom":"poupEnvelopes-module__alert-box-bottom___3LpfW","alert-box-btn":"poupEnvelopes-module__alert-box-btn___2SExj","cancel-box-btn":"poupEnvelopes-module__cancel-box-btn___pUnfC","alert-box-wrap":"poupEnvelopes-module__alert-box-wrap___d4D8o","alert-box-content-bottom-new":"poupEnvelopes-module__alert-box-content-bottom-new___2yNpD",couponName:"poupEnvelopes-module__couponName___qbEh-",couponType:"poupEnvelopes-module__couponType___3qfml",couponTime:"poupEnvelopes-module__couponTime___2KLLi"}},,,,function(e,t,o){e.exports={vipMemberBox:"index-module__vipMemberBox___30R3h",month_cou_box:"index-module__month_cou_box___XnQOB",mou_title:"index-module__mou_title___1wSwZ",red:"index-module__red___3BuqF",des:"index-module__des___32yxF",cou_box:"index-module__cou_box___3VRt-",moneybox:"index-module__moneybox___1Ff-k",cou_money:"index-module__cou_money___3yUnB",cou_uint:"index-module__cou_uint___3Vsli",cou_chahao:"index-module__cou_chahao___2SnVP",limitWord:"index-module__limitWord___2Kdfm",layerIndexBox:"index-module__layerIndexBox___g6orb",layerIndexBtn:"index-module__layerIndexBtn___1LB0p",vipMemberBoxNotOpen:"index-module__vipMemberBoxNotOpen___20y5d",topTitBgBox:"index-module__topTitBgBox___f7JQH",topTitBg:"index-module__topTitBg___HMrKp",notopenContent:"index-module__notopenContent___1ClEF",notopenContentTrans:"index-module__notopenContentTrans___3oCTj",notopenContentTransOld:"index-module__notopenContentTransOld___3w9aq",bannerBox:"index-module__bannerBox___3yf1B",notopenInner:"index-module__notopenInner___25Jfk",noPding:"index-module__noPding___2qpey",defaultI:"index-module__defaultI___1ijFV",moreRightsTit:"index-module__moreRightsTit___2t4y8",rightsAreaFlex:"index-module__rightsAreaFlex___3kHv9",rightsAreaBox:"index-module__rightsAreaBox___PoqFT",noPadding:"index-module__noPadding___139Fy",rightsAreaImg:"index-module__rightsAreaImg___3sxLh",rightsNum:"index-module__rightsNum___389p0",SwipeContNew:"index-module__SwipeContNew___14jgV",mymove:"index-module__mymove___3qkiq"}},,function(e,t,o){e.exports={loading:"index-module__loading___2Il2F",loadSize:"index-module__loadSize___3_zN-",loaderWrap:"index-module__loaderWrap___1PH_Q",loader:"index-module__loader___mMqg3"}},,function(e,t,o){e.exports={wrap:"index-module__wrap___3b_yE",hide:"index-module__hide___1uJrW",case:"index-module__case___3i4KY",content:"index-module__content___1259D",close:"index-module__close___Dbzja"}},,function(e,t,o){e.exports={pdTopAndBtm:"member-module__pdTopAndBtm___34YOa",rightsBox:"member-module__rightsBox___1J3EJ",rightsTitImg:"member-module__rightsTitImg___2LlZX",rightsTitImg2:"member-module__rightsTitImg2___3ddao",rightsTit:"member-module__rightsTit___23akW",rightsChildBox:"member-module__rightsChildBox___yZbKH",child_item:"member-module__child_item___3y_pj",child_item_img:"member-module__child_item_img___2sBWn",rightsBoxRow:"member-module__rightsBoxRow___3Kjt3",child_item_txt:"member-module__child_item_txt___1rF2K",child_item_info:"member-module__child_item_info___nIsOL",child_item_info_txt:"member-module__child_item_info_txt___1x0ZO"}},,,,,,function(e,t,o){e.exports={vipPage:"index-module__vipPage___2hNPd",oldStyle:"index-module__oldStyle___sv5ZK",conponBox:"index-module__conponBox___2krBE",allanceBox:"index-module__allanceBox___2PKLv",allanceAreaTit:"index-module__allanceAreaTit___KwGh1",allanceRate:"index-module__allanceRate___3DrOi",allanceItemIner:"index-module__allanceItemIner___1h0PI",over:"index-module__over___2ihdD",notOver:"index-module__notOver___VY7v-",allanceTxt:"index-module__allanceTxt___5tJll",allanceItem:"index-module__allanceItem___3JcnG",allanceInfo:"index-module__allanceInfo___3hN3A",allanceNum:"index-module__allanceNum___1J9mQ",whiteLine:"index-module__whiteLine___36vFs",hasOverFlag:"index-module__hasOverFlag___BWFrz",txt:"index-module__txt___a5CCe",allanceRateLine:"index-module__allanceRateLine___1Rr28",allanceExBox:"index-module__allanceExBox___1xBen",title:"index-module__title___2KtGm",subTitle:"index-module__subTitle___1c8Fq",allanceList:"index-module__allanceList___1zqaS",heightFix:"index-module__heightFix___1bWDi",heightAuto:"index-module__heightAuto___twkaa",goodsWrapMar:"index-module__goodsWrapMar___WOeZh",SwipeContNew:"index-module__SwipeContNew___3DnAO",loadMore:"index-module__loadMore___3UuvG",loadMoreIMgTrans:"index-module__loadMoreIMgTrans___13N0w",loadMoreIMg:"index-module__loadMoreIMg___QMwZ8"}},,,,,function(e,t,o){e.exports={btn_fix_box:"index-module__btn_fix_box___2vEAP",btn_fix_box_tab:"index-module__btn_fix_box_tab___1r2oN",btmLogoBox:"index-module__btmLogoBox___8JxUt",mymove:"index-module__mymove___1XKCg",btmLogo:"index-module__btmLogo___3-Cit",btmLogoTxt:"index-module__btmLogoTxt___eT6OK",btnContNewPage:"index-module__btnContNewPage___H8Rt6",move:"index-module__move___34ogm",btn_leftWrap:"index-module__btn_leftWrap___22od0",btn_type:"index-module__btn_type___1diSV",btn_mon:"index-module__btn_mon___2PX2t",priceWord:"index-module__priceWord___2aiVI",btn_open:"index-module__btn_open___1Rt8i",btn_lable:"index-module__btn_lable___31wbR"}},function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(8),i=o(9),c=o(1),r=o(34),l=o.n(r),d=o(5),_=o(0),m=function(e){Object(s.a)(Loading,e);var t=Object(i.a)(Loading);function Loading(e){var o;return Object(a.a)(this,Loading),(o=t.call(this,e)).state={loadImg:"https://storage.360buyimg.com/wximg/common/loading.gif"},o}return Object(n.a)(Loading,[{key:"render",value:function render(){var e=this.state.loadImg;return this.props.selfStyle?Object(_.jsx)(c.j,{className:l.a.loaderWrap,children:Object(_.jsx)(c.j,{className:l.a.loader})}):Object(_.jsx)(c.j,{className:l.a.loading,children:Object(_.jsx)(c.c,{className:l.a.loadSize,src:e})})}}]),Loading}(d.default.Component);t.a=m},,,,,,,function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(8),i=o(9),c=o(1),r=o(5),l=o(36),d=o.n(l),_=o(0),m=function(e){Object(s.a)(Pop,e);var t=Object(i.a)(Pop);function Pop(){return Object(a.a)(this,Pop),t.apply(this,arguments)}return Object(n.a)(Pop,[{key:"render",value:function render(){var e=null,t=this.props.defineSelf;return this.props.isNeedCloseIcon||(e=Object(_.jsx)(c.j,{className:d.a.close,onClick:this.onClosePop.bind(this)})),Object(_.jsx)(c.j,{className:"".concat(d.a.wrap," ").concat(this.props.isShow?"":d.a.hide," "),onClick:this.onClosePop.bind(this),children:Object(_.jsxs)(c.j,{className:d.a.case,onClick:this.onClickPop.bind(this),children:[t?Object(_.jsx)(c.j,{children:this.props.children}):Object(_.jsx)(c.j,{className:d.a.content,style:{background:this.props.bgColor?this.props.bgColor:"#fff"},children:this.props.children}),e]})})}},{key:"onClosePop",value:function onClosePop(e){console.log("===onClosePop===",e),e.stopPropagation(),this.props.onPopEvent({type:"close"})}},{key:"onClickPop",value:function onClickPop(e){e.stopPropagation(),this.props.onPopEvent({type:"content",params:{}})}}]),Pop}(r.Component);t.a=m},,,function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return v}));var a=o(6),n=o(7),s=o(15),i=o(8),c=o(9),r=o(10),l=o(5),d=o(33),_=o(3),m=o.n(_),u=o(19),p=o.n(u),b=o(1),j=o(61),h=o(12),g=o.n(h),x=(o(4),o(0)),v=function(e){Object(i.a)(Tip,e);var t=Object(c.a)(Tip);function Tip(e){var o;return Object(a.a)(this,Tip),o=t.call(this,e),Object(r.a)(Object(s.a)(o),"handlerReload",(function(){o.props.handlerReload&&o.props.handlerReload()})),o}return Object(n.a)(Tip,[{key:"goLogin",value:function goLogin(){var e=this.props.jumpUrl;e?Object(d.a)({localTargetUrl:e}):Object(d.a)({localTargetUrl:"/pages/vpaymember_t/home/index?latitude=".concat(this.props.latitude||"","&longitude=").concat(this.props.longitude||"","&cityId=").concat(this.props.cityId)})}},{key:"getMsg",value:function getMsg(){var e=this.props,t=e.msg,o=e.type;return t||{unLogin:"您还没有登录",noWifi:"网络开小差，请稍后再试哦~[0001]",noSearch:"没有找到符合的商品[0001]",noShop:"附近暂无商家[0001]",noOpen:"当前城市未开通服务[0001]",close:"关闭当前页"}[o]}},{key:"closeWb",value:function closeWb(){m.a.navigateBack({delta:3})}},{key:"render",value:function render(){var e=this.props,t=e.type,o=e.customClass,a=e.btnText,n=e.btnHref,s=e.style,i=e.msg;return Object(x.jsx)(b.j,{className:"".concat(g.a["tip-wrap"]," ").concat(o),style:s,children:Object(x.jsxs)(b.j,{className:g.a["tip-box"],children:[Object(x.jsx)(b.j,{className:"".concat(g.a["tip-icon"]," ").concat(g.a["tip-icon-"+t])}),Object(x.jsx)(b.j,{className:g.a["tip-message"],children:i||"网络开小差，请稍后再试哦~"}),"close"==t?Object(x.jsx)(b.j,{className:g.a.tipBtn,onClick:this.closeWb.bind(this),children:Object(x.jsx)(b.i,{className:g.a.tipText,children:a})}):Object(x.jsx)(j.a,{type:t,btnText:a,btnHref:n,handlerReload:this.handlerReload,goLogin:this.goLogin.bind(this)})]})})}}]),Tip}(l.default.Component);Object(r.a)(v,"propTypes",{msg:p.a.string,btnText:p.a.string,type:p.a.string.isRequired,customClass:p.a.string,handlerReload:p.a.func,btnHref:p.a.string}),Object(r.a)(v,"defaultProps",{msg:"",type:"",btnText:"",customClass:"",handlerReload:function handlerReload(){e&&e.location.reload()}})}).call(this,o(11).window)},function(e,t,o){"use strict";o.d(t,"a",(function(){return j}));var a=o(6),n=o(7),s=o(8),i=o(9),c=o(10),r=(o(3),o(1)),l=o(26),d=o(12),_=o.n(d),m=o(19),u=o.n(m),p=o(5),b=o(0),j=function(e){Object(s.a)(TipBtn,e);var t=Object(i.a)(TipBtn);function TipBtn(){return Object(a.a)(this,TipBtn),t.apply(this,arguments)}return Object(n.a)(TipBtn,[{key:"goLogin",value:function goLogin(){this.props.goLogin()}},{key:"render",value:function render(){var e=this.props,t=e.type,o=e.btnText,a=e.btnHref;return"unLogin"===t?Object(b.jsx)(r.j,{className:_.a.tipBtn,onClick:this.goLogin.bind(this),children:Object(b.jsx)(r.i,{className:_.a.tipText,children:"立即登录"})}):"noWifi"===t?Object(b.jsx)(r.j,{className:_.a.tipBtn,onClick:this.props.handlerReload,children:Object(b.jsx)(r.i,{className:_.a.tipText,children:"重新加载"})}):"noLocation"===t?Object(b.jsx)(r.j,{className:_.a.tipBtn,onClick:function onClick(){return Object(l.a)({to:"home"})},children:Object(b.jsx)(r.i,{className:_.a.tipText,children:"手动搜索地址"})}):"noShop"===t||"noOpen"===t||"empty"===t?Object(b.jsx)(r.j,{className:_.a.tipBtn,onClick:function onClick(){return Object(l.a)({to:a||"home"})},children:Object(b.jsx)(r.i,{children:o||"回首页"})}):"search"===t?Object(b.jsx)(r.i,{className:_.a["search-tip-span"],children:"换个关键词试试吧"}):"close"===t?Object(b.jsx)(r.i,{className:_.a["search-tip-span"],children:o}):Object(b.jsx)(r.j,{className:_.a.tipBtn,onClick:function onClick(){return Object(l.a)({to:a||"home"})},children:Object(b.jsx)(r.i,{className:_.a.tipText,children:o||"返回首页"})})}}]),TipBtn}(p.Component);Object(c.a)(j,"propTypes",{btnText:u.a.string,type:u.a.string.isRequired,handlerReload:u.a.func,btnHref:u.a.string}),Object(c.a)(j,"defaultProps",{msg:"",type:"",btnText:"",customClass:"",handlerReload:function handlerReload(){}})},,function(e,t,o){e.exports={mou_title:"index-module__mou_title___mWsXA",marTop:"index-module__marTop___RjO69",bigCou_box:"index-module__bigCou_box___3OnYV",coupon:"index-module__coupon___1Uuvs",outArea:"index-module__outArea___1mnON",logoBox:"index-module__logoBox___38mAB",logo:"index-module__logo___28l-M",tit:"index-module__tit___3tsi_",up:"index-module__up___3IcCt",mon_box:"index-module__mon_box___2bGQB",star:"index-module__star___3Eiwu",unit:"index-module__unit___7tl8x",mon1:"index-module__mon1___1-CQI",mon2:"index-module__mon2___393LF",mon1Old:"index-module__mon1Old___133t_"}},,,,function(e,t,o){e.exports={vipDayBox:"member-module__vipDayBox___3VJlU",platformCoupon:"member-module__platformCoupon___X6VDT",item:"member-module__item___3T51O",titleBox:"member-module__titleBox___kZ0rS",title1:"member-module__title1___xh7yY",subT:"member-module__subT___2W_Ye",openMore:"member-module__openMore___2q6rt",couB:"member-module__couB___2rtqh",couponLimit:"member-module__couponLimit___ebMte",itemBox:"member-module__itemBox___2SDK2",price:"member-module__price___3j22F",yuan:"member-module__yuan___2m0a3",useRemark:"member-module__useRemark___3LHFm",descrip:"member-module__descrip___3-KbR",btnText:"member-module__btnText___2Jchg",btnTextDis:"member-module__btnTextDis___zAsTK",btnTextuse:"member-module__btnTextuse___32fOL",overIcon:"member-module__overIcon___22Pvp",progress:"member-module__progress___DSEXM",bar:"member-module__bar___3upj0",currentProgree:"member-module__currentProgree___3Vfbm",barText:"member-module__barText___1yo8t"}},,,,,,,function(e,t,o){e.exports={mou_title:"index-module__mou_title___32Od-",red:"index-module__red___tpPDO",des:"index-module__des___12fZS",vip_goods_box:"index-module__vip_goods_box___1qYu7",nopad:"index-module__nopad___1KuNY",vip_goods_layer:"index-module__vip_goods_layer___fdHru",vip_goods_btn:"index-module__vip_goods_btn___2RYEM",vip_goods_list_box:"index-module__vip_goods_list_box___3gGSf",defaultS:"index-module__defaultS___1MJ_s","taro-img":"index-module__taro-img___36Bgo",btn_fix_box:"index-module__btn_fix_box___2vIip",btn_fix_box_tab:"index-module__btn_fix_box_tab___rkgk2",btmLogoBox:"index-module__btmLogoBox___3Dn-E",mymove:"index-module__mymove___2zxBV",btmLogo:"index-module__btmLogo___zPiW7",btmLogoTxt:"index-module__btmLogoTxt___oodvF",btnContNewPage:"index-module__btnContNewPage___3hCoD",move:"index-module__move___xax0g",btn_leftWrap:"index-module__btn_leftWrap___1_BJA",btn_type:"index-module__btn_type___1DrDZ",btn_mon:"index-module__btn_mon___1-nFu",priceWord:"index-module__priceWord___MVtW_",btn_open:"index-module__btn_open___20yUb",btn_lable:"index-module__btn_lable___GPwY2"}},,,function(e,t,o){e.exports={goods:"member-module__goods___2k40i",goodsImageWrap:"member-module__goodsImageWrap___27BGB",goodsImage:"member-module__goodsImage___3QnbB",goodsName:"member-module__goodsName___Y_HOF",goodsPrice:"member-module__goodsPrice___2N3Kt",todayPrice:"member-module__todayPrice___3ft6i",VMTag:"member-module__VMTag___1d_Dj",origPrice:"member-module__origPrice___1xT5O",price:"member-module__price___1M7xZ",plusIcon:"member-module__plusIcon___IacNL",icon:"member-module__icon___3WKfQ"}},,,,,,,,,,function(e,t,o){e.exports={swiperArea:"member-module__swiperArea___2xUsh",top:"member-module__top___KMCRf",black:"member-module__black___3zz63",white:"member-module__white___3IDKb",swiperBox:"member-module__swiperBox___GQCS4",swiperImgBox:"member-module__swiperImgBox___UR_i3",swiperImg:"member-module__swiperImg___1cP4G",swiperTxt:"member-module__swiperTxt___13sge"}},,function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(8),i=o(9),c=o(5),r=o(3),l=o(1),d=o(38),_=o.n(d),m=o(14),u=o(20),p=o(0),b=function(e){Object(s.a)(RightsArea,e);var t=Object(i.a)(RightsArea);function RightsArea(e){var o;return Object(a.a)(this,RightsArea),(o=t.call(this,e)).state={},o}return Object(n.a)(RightsArea,[{key:"render",value:function render(){var e=this.props.type;return Object(p.jsx)(l.a,{children:"newStyle"==e?this.renderRights():this.renderRightsRow()})}},{key:"renderRights",value:function renderRights(){var e=this,t=this.props.data;return Object(p.jsxs)(l.j,{className:_.a.rightsBox,children:[Object(p.jsxs)(l.j,{className:_.a.rightsTit,children:[Object(p.jsx)(l.c,{className:_.a.rightsTitImg,src:"https://storage.360buyimg.com/wximg/member/rightsCir.png"}),"更多特权等您来拿",Object(p.jsx)(l.c,{className:_.a.rightsTitImg2,src:"https://storage.360buyimg.com/wximg/member/rightsCir.png"})]}),Object(p.jsx)(l.j,{className:_.a.rightsChildBox,children:t&&t.length?t.map((function(t,o){return Object(p.jsx)(l.j,{className:_.a.child_item,onClick:e.goRightsDetial.bind(e,t.type,t.vpId,t.floorTitle,"column"),children:Object(p.jsx)(l.c,{mode:"scaleToFill",className:_.a.child_item_img,src:t.floorImage})},"renderRights".concat(o))})):null})]})}},{key:"renderRightsRow",value:function renderRightsRow(){var e=this,t=this.props,o=t.data,a=t.hasPadding;return Object(p.jsxs)(l.j,{className:[_.a.rightsBoxRow,a?_.a.pdTopAndBtm:""].join(" "),children:[Object(p.jsxs)(l.j,{className:_.a.rightsTit,children:[Object(p.jsx)(l.c,{className:_.a.rightsTitImg,src:"https://storage.360buyimg.com/wximg/member/t-cir2.png"}),"会员专享权益",Object(p.jsx)(l.c,{className:_.a.rightsTitImg,src:"https://storage.360buyimg.com/wximg/member/t-cir1.png"})]}),Object(p.jsx)(l.f,{id:"rightsBoxScrollView",className:_.a.rightsChildBox,scrollX:!0,children:o&&o.length?o.map((function(t,o){return Object(p.jsxs)(l.j,{className:_.a.child_item,onClick:e.goRightsDetial.bind(e,t.type,t.vpId,t.name,"row"),children:[Object(p.jsx)(l.c,{mode:"scaleToFill",className:_.a.child_item_img,src:t.icon||t.url}),Object(p.jsx)(l.j,{className:_.a.child_item_txt,children:t.name}),t.floorSubTitleSplit&&t.floorSubTitleSplit.length?Object(p.jsx)(l.j,{className:_.a.child_item_info,children:t.floorSubTitleSplit.map((function(e,t){return Object(p.jsx)(l.i,{className:_.a.child_item_info_txt,style:{color:e.color},children:e.text},"iteminfo".concat(t))}))}):null]},"renderRights".concat(o))})):null})]})}},{key:"goRightsDetial",value:function goRightsDetial(e,t,o,a){var n,s,i=(null===(n=Object(r.getCurrentInstance)())||void 0===n||null===(s=n.router)||void 0===s?void 0:s.params)||{},c=this.props,l=c.vipFlag,d=c.pageName;Object(m.a)({page_name:d,create_time:new Date,click_id:"row"==a?"clickBall":"clickRight",click_par:{text:o,type:{1:"open",0:"notOpen",3:"past "}[l]}}),Object(u.b)({url:"/pages/vpaymember_t/rightsInstruction/index?vpId=".concat(t,"&type=").concat(e),type:"findpage"==i.channel?"openNewWeb":""})}}]),RightsArea}(c.default.Component);t.a=b},function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(15),i=o(8),c=o(9),r=o(10),l=o(3),d=o.n(l),_=o(5),m=o(16),u=o(14),p=o(1),b=o(25),j=o.n(b),h=o(35),g=o(69),x=o(0),v=function(e){Object(i.a)(PoupEnvelopes,e);var t=Object(c.a)(PoupEnvelopes);function PoupEnvelopes(e){var o,n,i;return Object(a.a)(this,PoupEnvelopes),i=t.call(this,e),Object(r.a)(Object(s.a)(i),"confirmExchange",(function(e){var t;e.preventDefault(),e.stopPropagation();var o=i.props,a=o.item,n=o.consumeCode,s=o.exchangeData;console.log("this.props",i.props.item);var c={exchangeId:s.id||"",pin:Object(h.a)("PDJ_H5_PIN")||Object(h.a)("pin")||Object(h.a)("PDJ_H5_JDPIN"),activityCode:(null==a||null===(t=a.bestExchangeCouponInfo)||void 0===t?void 0:t.activityCode)||"",consumeCode:n||"",grabChannel:"vip_index_page",platform:"H5",serviceVersion:"2",requestor:"vplus"};Object(m.e)(c).then((function(e){0==e.code?(d.a.showToast({title:e.msg||"兑换成功，快去下单吧～",icon:"none",duration:1500}),i.closeExchangePop(),i.props.type&&"allowance"==i.props.type&&Object(u.a)({page_name:"VIP_page_name",create_time:new Date,click_id:"clickButton",click_par:{type:"change",btnName:s.buttonTitle}}),i.refreshPage()):d.a.showToast({title:e.msg,icon:"none",duration:1500})})).catch((function(e){d.a.showToast({title:e.msg,icon:"none",duration:1500})})),Object(u.a)({create_time:new Date,click_id:"exchangeCouponVender",click_par:{isPaid:1}})})),Object(r.a)(Object(s.a)(i),"closeBtn",(function(){i.props.closeExchangePop()})),i.state={params:(null===(o=d.a.getCurrentInstance())||void 0===o||null===(n=o.router)||void 0===n?void 0:n.params)||{},showPop:!1,closePop:!1,popData:{activityCode:"",couponId:"",markState:""}},i}return Object(n.a)(PoupEnvelopes,[{key:"componentDidMount",value:function componentDidMount(){this.props.type&&"allowance"==this.props.type&&Object(u.a)({page_name:"VIP_page_name",create_time:new Date,click_id:"showLayer",click_par:{type:"change"}})}},{key:"render",value:function render(){var e=this.state,t=e.params,o=(e.showPop,e.closePop),a=this.props.exchangeData||{},n=a.sourcePackage,s=a.targetPackage,i=a.storeLogo,c=a.exchangeFlag;return Object(x.jsx)(p.a,{children:o?"":Object(x.jsxs)(p.j,{onClick:this.closeBtn.bind(this),className:j.a["alert-box"],children:[Object(x.jsxs)(p.j,{className:j.a.alert_box_wrap,children:[Object(x.jsx)(p.j,{className:j.a.title,children:"津贴兑换会员专享券"}),Object(x.jsxs)(p.j,{className:j.a.couponBox,children:[5==c||6==c?Object(x.jsxs)(p.j,{className:[j.a.leftCouponBox,6==c?"":j.a.marTop2].join(" "),children:[Object(x.jsx)(p.j,{className:j.a.leftCouponAllance,children:Object(x.jsx)(p.c,{className:j.a.leftCouponAllanceStar,src:"https://storage.360buyimg.com/wximg/member/allance-re.png"})}),Object(x.jsxs)(p.j,{className:j.a.leftCouponMon,children:[n.amount,"元津贴"]})]}):Object(x.jsxs)(p.j,{className:j.a.leftCouponBoxOld,children:[Object(x.jsxs)(p.j,{className:j.a.leftCouponMon,children:[n.amount,Object(x.jsx)(p.i,{className:j.a.leftCouponUnit,children:"元"})]}),Object(x.jsx)(p.j,{className:j.a.leftCouponLimit,children:n.limitRule||n.couponTypeDesc||"满29元可用"})]}),Object(x.jsx)(p.j,{className:j.a.exchangeIMg}),6==c?Object(x.jsxs)(p.j,{className:j.a.rtRedBox,children:[Object(x.jsxs)(p.j,{className:j.a.rtRedBoxNum,children:[s.amount,Object(x.jsx)(p.i,{className:j.a.rtRedBoxUnit,children:"元"})]}),Object(x.jsx)(p.j,{className:j.a.rtRedBoxTxt,children:"V+会员红包"})]}):Object(x.jsxs)(p.j,{className:j.a.rtCouponBox,children:[Object(x.jsx)(p.j,{className:j.a.rtCouponLogoBox,children:Object(x.jsx)(p.c,{className:j.a.rtCouponLogo,src:i||"https://storage.360buyimg.com/wximg/common/logo.jpg"})}),Object(x.jsxs)(p.j,{className:j.a.leftCouponMon,children:[s.amount,Object(x.jsx)(p.i,{className:j.a.leftCouponUnit,children:"元"})]}),Object(x.jsx)(p.j,{className:j.a.leftCouponLimit,children:5==c?s.couponTypeDesc:s.limitRule||"满29元可用"})]})]}),Object(x.jsx)(p.j,{className:j.a["alert-box-bottom"],children:Object(x.jsx)(p.j,{className:j.a["alert-box-btn"],onClick:this.confirmExchange.bind(this),children:5==c||6==c?"兑换会员专享券":"兑换红包"})})]}),Object(x.jsx)(p.j,{className:[j.a.close,"findpage"==t.channel?j.a.close_find:""].join(" "),onClick:this.closeBtn.bind(this)})]})})}},{key:"jumpToUrl",value:function jumpToUrl(){var e=this.state.popData||{},t=e.couponId,o=e.activityCode,a={markState:e.markState,code:o};Object(g.a)({couponId:t,code:o,passThroughParam:a})}},{key:"closeExchangePop",value:function closeExchangePop(){this.props.closeExchangePop()}},{key:"refreshPage",value:function refreshPage(){this.props.refreshPage()}}]),PoupEnvelopes}(_.default.Component);t.a=v},,,,,,,,,function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(8),i=o(9),c=o(5),r=o(1),l=o(49),d=o.n(l),_=o(14),m=o(33),u=o(20),p=o(0),b=function(e){Object(s.a)(OpendBtnBox,e);var t=Object(i.a)(OpendBtnBox);function OpendBtnBox(){return Object(a.a)(this,OpendBtnBox),t.apply(this,arguments)}return Object(n.a)(OpendBtnBox,[{key:"render",value:function render(){var e=this.props,t=e.vipFlag,o=e.data,a=e.channel,n=o.floorItem,s=n.priceWord,i=n.cardName,c=n.tipText,l=n.userCardType,_=n.joinWord,m=void 0===_?"立即开通":_;return Object(p.jsx)(r.j,{className:[d.a.btn_fix_box,"findpage"==a?d.a.btn_fix_box_tab:""].join(" "),children:Object(p.jsxs)(r.j,{className:[d.a.btnContNewPage,1==t?"":d.a.move].join(" "),onClick:this.toOpen.bind(this,l),children:[1==t&&c?Object(p.jsxs)(r.j,{className:d.a.btmLogoBox,children:[Object(p.jsx)(r.j,{className:d.a.btmLogo}),Object(p.jsx)(r.j,{className:d.a.btmLogoTxt,children:c})]}):null,Object(p.jsxs)(r.j,{className:d.a.btn_leftWrap,children:[Object(p.jsxs)(r.i,{className:d.a.btn_mon,children:["￥",s]}),Object(p.jsxs)(r.i,{className:d.a.btn_type,children:["/",i]})]}),Object(p.jsx)(r.j,{className:d.a.btn_open,children:m}),c&&1!=t?Object(p.jsx)(r.j,{className:d.a.btn_lable,children:c}):null]})})}},{key:"toOpen",value:function toOpen(e){var t=this.props,o=t.isLoginFlag,a=t.vipFlag,n=t.jumpUrl,s=t.channel;if(o){Object(_.a)({page_name:"newvippage",create_time:new Date,click_id:"clickOpen",click_par:{type:{1:"open",0:"notOpen",3:"past "}[a],site:"down"}});var i="";i="findpage"==s?e?"payFrom=appTab&vipFlag=".concat(a,"&userCardType=").concat(e,"&h5=#newPay"):"payFrom=appTab&vipFlag=".concat(a,"&h5=#newPay"):e?"vipFlag=".concat(a,"&userCardType=").concat(e,"&h5=#newPay"):"vipFlag=".concat(a,"&h5=#newPay"),Object(u.b)({url:"/pages/vpaymember_t/packageSelection/index?".concat(i),type:"findpage"==s?"openNewWeb":""})}else Object(m.a)({localTargetUrl:n})}}]),OpendBtnBox}(c.default.Component);t.a=b},,,function(e,t,o){e.exports={swiper:"index-module__swiper___m8JYP",img:"index-module__img___2b7i0",ImgBox:"index-module__ImgBox___2ayE3"}},function(e,t,o){e.exports={mou_title:"index-module__mou_title___2r0HV",red:"index-module__red___YW8pH",des:"index-module__des___iNM6U",defaultSBox:"index-module__defaultSBox___1AbGz",defaultS:"index-module__defaultS___2brDF","taro-img":"index-module__taro-img___qpZ7O"}},,,,function(e,t,o){"use strict";o(5);var a=o(1),n=o(21),s=o.n(n),i=o(0);t.a=function VCouponComp(e){return 5==e.exchangeType?Object(i.jsxs)(a.j,{className:1==e.state?s.a["coupon-box"]:s.a["coupon-box-not"],children:[Object(i.jsxs)(a.j,{className:s.a["coupon-img"],style:{background:"url(https://storage.360buyimg.com/wximg/member/quan2.png) no-repeat",backgroundSize:"100% 100%"},children:[e.cornerTag&&Object(i.jsx)(a.j,{className:s.a["coupon-tag"],children:Object(i.jsx)(a.j,{className:s.a["coupon-tag-txt"],children:e.cornerTag})}),e&&e.quota&&Object(i.jsxs)(a.j,{className:s.a["quota-box"],children:[e.quota,Object(i.jsx)(a.j,{className:s.a["quota-box-quit"],children:"元"})]})]}),Object(i.jsxs)(a.j,{className:s.a["coupon-content"],children:[Object(i.jsx)(a.j,{className:s.a["coupon-name"],children:e.name}),Object(i.jsx)(a.j,{className:s.a["coupon-cill"],children:e.limitRule})]}),1==e.state?Object(i.jsxs)(a.j,{className:s.a["coupon-button-box"],children:[Object(i.jsx)(a.j,{className:s.a["coupon-button"],onClick:function onClick(){return e.gotoUse(e)},children:"立即使用"}),Object(i.jsx)(a.j,{className:s.a["coupon-cancel"],onClick:function onClick(){return e.cancelUse(e)},children:"撤销兑换"})]}):Object(i.jsxs)(a.j,{className:s.a["coupon-change-box"],children:[Object(i.jsx)(a.c,{className:s.a["coupon-bling"],src:"https://storage.360buyimg.com/wximg/member/allance-re.png"}),Object(i.jsxs)(a.j,{className:s.a["coupon-change"],onClick:function onClick(){return e.gotoChange(e)},children:[e.cost,"津贴兑换"]})]})]}):6==e.exchangeType?Object(i.jsxs)(a.j,{className:1==e.state?s.a["coupon-box"]:s.a["coupon-box-not"],children:[Object(i.jsx)(a.j,{className:[s.a["coupon-img"],s.a["red-img"]].join(" "),style:{background:"url(https://storage.360buyimg.com/wximg/member/hong2.png) no-repeat",backgroundSize:"100% 100%"},children:e&&e.quota&&Object(i.jsxs)(a.j,{className:s.a["red-box"],children:[Object(i.jsxs)(a.j,{className:s.a["red-box-quota"],children:[e.quota,Object(i.jsx)(a.j,{className:s.a["red-box-quit"],children:"元"})]}),Object(i.jsx)(a.j,{className:s.a["red-box-txt"],children:e.quotaText})]})}),Object(i.jsxs)(a.j,{className:s.a["coupon-content"],children:[Object(i.jsx)(a.j,{className:s.a["coupon-name"],children:e.name}),Object(i.jsx)(a.j,{className:s.a["coupon-cill"],children:e.limitRule})]}),1==e.state?Object(i.jsxs)(a.j,{className:s.a["coupon-button-box"],children:[Object(i.jsx)(a.j,{className:s.a["coupon-button"],onClick:function onClick(){return e.gotoUse(e)},children:"立即使用"}),Object(i.jsx)(a.j,{className:s.a["coupon-cancel"],onClick:function onClick(){return e.cancelUse(e)},children:"撤销兑换"})]}):Object(i.jsxs)(a.j,{className:s.a["coupon-change-box"],children:[Object(i.jsx)(a.c,{className:s.a["coupon-bling"],src:"https://storage.360buyimg.com/wximg/member/allance-re.png"}),Object(i.jsxs)(a.j,{className:s.a["coupon-change"],onClick:function onClick(){return e.gotoChange(e)},children:[e.cost,"津贴兑换"]})]})]}):null}},function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(15),i=o(8),c=o(9),r=o(10),l=o(3),d=o.n(l),_=o(5),m=o(16),u=o(14),p=o(1),b=o(28),j=o.n(b),h=o(0),g=function(e){Object(i.a)(PoupEnvelopes,e);var t=Object(c.a)(PoupEnvelopes);function PoupEnvelopes(e){var o;return Object(a.a)(this,PoupEnvelopes),o=t.call(this,e),Object(r.a)(Object(s.a)(o),"confirmExchange",(function(e){e.preventDefault(),e.stopPropagation();var t=o.props.exchangeData,a={exchangeId:t.id,grabChannel:t.grabChannel};Object(m.m)(a).then((function(e){o.closeExchangePop(),0==e.code?(d.a.showToast({title:e.msg||"撤销成功",icon:"none",duration:1500}),Object(u.a)({page_name:"VIP_page_name",create_time:new Date,click_id:"clickButton",click_par:{type:"dismiss",btnName:"撤销兑换"}}),o.refreshPage()):d.a.showToast({title:e.msg,icon:"none",duration:1500})})).catch((function(e){d.a.showToast({title:e.msg,icon:"none",duration:1500})}))})),Object(r.a)(Object(s.a)(o),"closeBtn",(function(){o.props.closeExchangePop()})),o}return Object(n.a)(PoupEnvelopes,[{key:"componentDidMount",value:function componentDidMount(){Object(u.a)({page_name:"VIP_page_name",create_time:new Date,click_id:"showLayer",click_par:{type:"dismiss"}})}},{key:"render",value:function render(){var e=this.props.exchangeData||{},t=e.sourcePackage,o=e.targetPackage,a=e.title,n=e.subTitle,s=e.storeLogo,i=e.exchangeFlag;return console.log(i),Object(h.jsxs)(p.j,{onClick:this.closeBtn.bind(this),className:j.a["alert-box"],children:[Object(h.jsxs)(p.j,{className:j.a.alert_box_wrap,children:[Object(h.jsx)(p.j,{className:j.a.title,children:a}),Object(h.jsx)(p.j,{className:j.a.subTitle,children:n}),Object(h.jsxs)(p.j,{className:j.a.couponBox,children:[6==i?Object(h.jsxs)(p.j,{className:j.a.rtRedBox,children:[Object(h.jsxs)(p.j,{className:j.a.rtRedBoxNum,children:[t.amount,Object(h.jsx)(p.i,{className:j.a.rtRedBoxUnit,children:"元"})]}),Object(h.jsx)(p.j,{className:j.a.rtRedBoxTxt,children:"V+会员红包"})]}):Object(h.jsxs)(p.j,{className:j.a.rtCouponBox,children:[Object(h.jsx)(p.j,{className:j.a.rtCouponLogoBox,children:Object(h.jsx)(p.c,{className:j.a.rtCouponLogo,src:s||"https://storage.360buyimg.com/wximg/common/logo.jpg"})}),Object(h.jsxs)(p.j,{className:j.a.leftCouponMon,children:[t.amount,Object(h.jsx)(p.i,{className:j.a.leftCouponUnit,children:"元"})]}),Object(h.jsx)(p.j,{className:j.a.leftCouponLimit,children:t.limitRule||t.couponTypeDesc||"满29元可用"})]}),Object(h.jsx)(p.j,{className:j.a.exchangeIMg}),Object(h.jsxs)(p.j,{className:[j.a.leftCouponBox,4==i||6==i?"":j.a.marTop2].join(" "),children:[Object(h.jsx)(p.j,{className:j.a.leftCouponAllance,children:Object(h.jsx)(p.c,{className:j.a.leftCouponAllanceStar,src:"https://storage.360buyimg.com/wximg/member/allance-re.png"})}),Object(h.jsxs)(p.j,{className:j.a.leftCouponMon,children:[o.amount,"元津贴"]})]})]}),Object(h.jsxs)(p.j,{className:j.a["alert-box-bottom"],children:[Object(h.jsx)(p.j,{className:j.a["cancel-box-btn"],onClick:this.closeBtn.bind(this),children:"取消"}),Object(h.jsx)(p.j,{className:j.a["alert-box-btn"],onClick:this.confirmExchange.bind(this),children:"确认"})]})]}),Object(h.jsx)(p.j,{className:j.a.close,onClick:this.closeBtn.bind(this)})]})}},{key:"closeExchangePop",value:function closeExchangePop(){this.props.closeExchangePop()}},{key:"refreshPage",value:function refreshPage(){this.props.refreshPage()}}]),PoupEnvelopes}(_.default.Component);t.a=g},,,function(e,t,o){e.exports={merchantBox:"index-module__merchantBox___3dt_9",title:"index-module__title___3W-fU",checktxt:"index-module__checktxt___3dR3S",storeList:"index-module__storeList___2FDQ8",storeListBtm:"index-module__storeListBtm___1EYzI"}},,,,,,,,,,,,function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(8),i=o(9),c=o(1),r=o(102),l=o.n(r),d=o(5),_=o(0),m=function(e){Object(s.a)(Swipe,e);var t=Object(i.a)(Swipe);function Swipe(e){return Object(a.a)(this,Swipe),t.call(this,e)}return Object(n.a)(Swipe,[{key:"render",value:function render(){var e=this;console.error("banner-微众",this.props.imgArr);var t=this.props.imgArr||[],o=this.props.indicatorColor||"rgba(0, 0, 0, .3)",a=this.props.indicatorActiveColor||"#333333",n="boolean"!=typeof this.props.indicatorDots||this.props.indicatorDots,s="boolean"!=typeof this.props.indicatorDots||this.props.indicatorDots,i=this.props.interval||2e3,r=this.props.duration||500,d=this.props.current||0,m="boolean"!=typeof this.props.circular||this.props.indicatorDots,u=this.props.height||35,p=(this.props.form,{width:"100%",height:"".concat(u||"375px")});return t.length&&t.length>1?Object(_.jsx)(c.g,{indicatorColor:o,indicatorActiveColor:a,circular:m,current:d,duration:r,interval:i,indicatorDots:n,autoplay:s,onChange:this.onChange.bind(this),style:p,children:t.length>1?t.map((function(t,o){return Object(_.jsx)(c.h,{style:"width:100%;border-radius: 12px;overflow: hidden;",children:Object(_.jsx)(c.j,{className:l.a.ImgBox,children:"string"==typeof t?Object(_.jsx)(c.c,{mode:"widthFix",className:l.a.img,src:t}):Object(_.jsx)(c.c,{mode:"widthFix",className:l.a.img,src:t.bannerUrl,onClick:e.jumpPage.bind(e,t)})})},"swiper".concat(o))})):""}):this.renderOnlyOne()}},{key:"renderOnlyOne",value:function renderOnlyOne(){this.props.form;var e=this.props.height||35,t=this.props.imgArr&&this.props.imgArr[0];"".concat(e||"375px");return Object(_.jsx)(c.j,{children:"string"==typeof t?Object(_.jsx)(c.c,{mode:"widthFix",className:l.a.img,src:t}):Object(_.jsx)(c.c,{mode:"widthFix",className:l.a.img,src:t.bannerUrl,onClick:this.jumpPage.bind(this,t)})})}},{key:"onChange",value:function onChange(){}},{key:"jumpPage",value:function jumpPage(e){this.props.jumpPage(e)}}]),Swipe}(d.Component);t.a=m},function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(15),i=o(8),c=o(9),r=o(10),l=o(5),d=o(3),_=o.n(d),m=o(1),u=o(23),p=o.n(u),b=o(14),j=o(20),h=o(87),g=o.n(h),x=o(0),v=function(e){Object(i.a)(VipMarquee,e);var t=Object(c.a)(VipMarquee);function VipMarquee(e){return Object(a.a)(this,VipMarquee),t.call(this,e)}return Object(n.a)(VipMarquee,[{key:"render",value:function render(){var e=this.props,t=e.data,o=e.bgcolor,a=e.position;return Object(x.jsx)(m.j,{className:[g.a.swiperArea,g.a[o],a&&"top"==a?g.a.top:""].join(" "),children:Object(x.jsx)(m.g,{style:{height:"52px"},vertical:!0,interval:3e3,circular:!0,autoplay:!0,children:t.map((function(e,t){return Object(x.jsx)(m.h,{children:Object(x.jsxs)(m.j,{className:g.a.swiperBox,children:[Object(x.jsx)(m.j,{className:g.a.swiperImgBox,children:Object(x.jsx)(m.c,{className:g.a.swiperImg,mode:"widthFix",src:e.userIcon||"https://storage.360buyimg.com/wximg/member/dogD.png"})}),Object(x.jsxs)(m.j,{className:g.a.swiperTxt,children:[e.userPhone,"刚刚开通了会员"]})]})},"openedData"+t)}))})})}}]),VipMarquee}(l.default.Component),O=function(e){Object(i.a)(MemberBox,e);var t=Object(c.a)(MemberBox);function MemberBox(e){var o;return Object(a.a)(this,MemberBox),o=t.call(this,e),Object(r.a)(Object(s.a)(o),"goToHelp",(function(e){var t,a;null===(t=Object(d.getCurrentInstance)())||void 0===t||null===(a=t.router)||void 0===a||a.params;e.stopPropagation(),o.setState({showMore:!1});Object(b.a)({page_name:"newvippage",create_time:new Date,click_id:"clickRule",click_par:{site:"up"}}),_.a.navigateTo({url:"/pages/vpaymember_t/instructions/index"})})),Object(r.a)(Object(s.a)(o),"onBuyList",(function(){var e,t;null===(e=Object(d.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t||t.params;o.setState({showMore:!1}),_.a.navigateTo({url:"/pages/vpaymember_t/envelopesRecord/index"})})),o.state={showMore:!1},o}return Object(n.a)(MemberBox,[{key:"render",value:function render(){var e=this.props,t=e.userCardType,o=e.headData,a=e.vipFlag,n=e.marqueeData,s=e.showOldHead,i=this.setCardName(t);return console.log("showOldHead",s),0==a?Object(x.jsxs)(m.j,{className:p.a.noOpenBox,children:[n&&n.length?Object(x.jsx)(v,{bgcolor:"white",data:n}):"",Object(x.jsx)(m.j,{className:p.a.title1,children:o.topText||"开通v+会员"}),Object(x.jsxs)(m.j,{className:p.a.title2,children:[o.saveText,Object(x.jsx)(m.i,{className:p.a.tit_num,children:o.moneyText}),Object(x.jsx)(m.i,{className:p.a.tit_mon,children:o.unitText})]}),this.renderMore()]}):s&&0!=a?this.renderOldHead():Object(x.jsxs)(m.j,{className:p.a.memberHeadBox,onClick:this.closeMoreAlert.bind(this),children:[3==a&&n&&n.length?Object(x.jsx)(v,{position:"top",bgcolor:"black",data:n}):"",Object(x.jsxs)(m.j,{className:p.a.memberHeadInnerBox,children:[Object(x.jsxs)(m.j,{className:p.a.headLeftTop,children:[Object(x.jsxs)(m.j,{className:p.a.headLeftTopFlex,children:[Object(x.jsx)(m.c,{className:p.a.headLeftTopLogo,src:"https://storage.360buyimg.com/wximg/member/vHeadLog.png"}),Object(x.jsx)(m.j,{className:p.a.headLeftName,children:(null==o?void 0:o.userName)||"会员"}),Object(x.jsx)(m.c,{mode:"heightFix",className:p.a.headLeftTopLogo2,src:i})]}),Object(x.jsxs)(m.j,{className:p.a.headLeftTopTxt,children:["已累计节省",(null==o?void 0:o.saveMoney)||0,"元"]})]}),Object(x.jsx)(m.j,{className:p.a.headRtTop,children:this.renderMore()}),Object(x.jsxs)(m.j,{className:p.a.headLeftBtm,onClick:this.jumpToCouponTab.bind(this,"allowanceNew"),children:[Object(x.jsx)(m.j,{className:p.a.monTxt,children:"会员津贴"}),Object(x.jsx)(m.i,{className:p.a.monNum,children:(null==o?void 0:o.allowance)||0}),Object(x.jsx)(m.i,{className:p.a.monUnit,children:"元"}),Object(x.jsx)(m.i,{className:p.a.monUnitArrow,children:">"})]}),Object(x.jsxs)(m.j,{className:p.a.headRtBtm,children:[Object(x.jsx)(m.j,{className:p.a.memberHeadTime,children:null==o?void 0:o.expireTimeText}),Object(x.jsx)(m.j,{onClick:this.toReNew.bind(this),className:p.a.memberHeadOpenBtn,children:null==o?void 0:o.buyText})]})]})]})}},{key:"renderOldHead",value:function renderOldHead(){console.log("kkkk");var e=this.props,t=e.userCardType,o=e.headData,a=e.vipFlag,n=e.marqueeData,s=this.setCardName(t),i=0,c=0;return o&&o.saveMoney&&(i=o.saveMoney.indexOf(".")>-1?o.saveMoney.split(".")[0]:o.saveMoney,c=o.saveMoney.indexOf(".")>-1?o.saveMoney.split(".")[1]:0),Object(x.jsxs)(m.j,{className:p.a.memberHeadBoxOld,children:[this.renderMore(),3==a&&n&&n.length?Object(x.jsx)(v,{bgcolor:"black",data:n}):"",Object(x.jsxs)(m.j,{className:[p.a.memberHeadInnerBox,3==a?p.a.boderRadius:""].join(" "),children:[Object(x.jsxs)(m.j,{className:p.a.memberHeadAvatorBox,children:[Object(x.jsx)(m.j,{className:p.a.memberHeadAvator,children:Object(x.jsx)(m.c,{className:p.a.memberHeadAvatorI,src:o.userPicture||o.userIcon||"https://storage.360buyimg.com/wximg/member/dogD.png"})}),Object(x.jsxs)(m.j,{className:p.a.memberHeadInfo,children:[Object(x.jsxs)(m.j,{className:p.a.memberHeadName,children:[Object(x.jsx)(m.i,{className:p.a.memberHeadNameEll,children:o.userName||"v+会员"}),Object(x.jsx)(m.c,{mode:"heightFix",className:p.a.memberHeadCard,src:s})]}),Object(x.jsx)(m.j,{className:p.a.memberHeadTime,children:o.expireText||o.expireTime})]}),Object(x.jsx)(m.j,{onClick:this.toReNew.bind(this),className:p.a.memberHeadOpenBtn,children:o.renewalText||o.buyText})]}),Object(x.jsxs)(m.j,{className:p.a.memberHeadMonBox,children:[Object(x.jsxs)(m.j,{className:p.a.monBox,children:[Object(x.jsx)(m.j,{className:p.a.monTxt,children:"已累计节省"}),Object(x.jsx)(m.i,{className:p.a.monNum,children:i||0}),Object(x.jsx)(m.i,{className:p.a.monPoint,children:c?".".concat(c):""}),Object(x.jsx)(m.i,{className:p.a.monUnit,children:"元"})]}),Object(x.jsxs)(m.j,{className:p.a.monBox,onClick:this.jumpToCouponTab.bind(this,"redPackage"),children:[Object(x.jsx)(m.j,{className:p.a.monTxt,children:"会员红包"}),Object(x.jsx)(m.i,{className:p.a.monNum,children:o.allRedPacketNum||0}),Object(x.jsxs)(m.i,{className:p.a.monUnit,children:["张 ",">"]})]}),Object(x.jsxs)(m.j,{className:[p.a.monBox,p.a.nowrap].join(" "),onClick:this.jumpToCouponTab.bind(this,"allowance"),children:[Object(x.jsx)(m.j,{className:p.a.monTxt,children:"会员津贴"}),Object(x.jsx)(m.i,{className:p.a.monNum,children:o.allowance||0}),Object(x.jsx)(m.i,{className:p.a.monUnit,children:"个"})," ",Object(x.jsxs)(m.i,{className:p.a.monUnitArrow,children:[" "," >"]})]})]})]})]})}},{key:"renderMore",value:function renderMore(){var e=this,t=this.state.showMore,o=this.props,a=o.vipFlag,n=o.showOldHead;return Object(x.jsxs)(m.a,{children:[Object(x.jsx)(m.j,{className:p.a.memberHeadMore,onClick:this.showMoreFn.bind(this),children:[1,2,3].map((function(e,t){return Object(x.jsx)(m.j,{className:n?p.a.memberHeadMoreCir:p.a.memberHeadMoreWhite},"key".concat(t))}))}),t?Object(x.jsxs)(m.j,{className:p.a.t_more_list,children:[Object(x.jsx)(m.j,{className:p.a.tran}),Object(x.jsx)(m.j,{onClick:this.toExchangePage.bind(this),className:p.a.t_more_ex,children:"兑换会员"}),Object(x.jsx)(m.j,{className:p.a.t_line}),0!=a?Object(x.jsx)(m.j,{onClick:this.onBuyList.bind(this),className:p.a.t_more_buyli,children:"购买记录"}):"",0!=a?Object(x.jsx)(m.j,{className:p.a.t_line}):"",Object(x.jsx)(m.j,{onClick:this.goToHelp.bind(this),className:p.a.t_more_qu,children:"常见问题"})]}):null,t?Object(x.jsx)(m.j,{className:p.a.t_more_list_wrap,onClick:function onClick(){return e.setState({showMore:!1})}}):""]})}},{key:"closeMoreAlert",value:function closeMoreAlert(e){this.state.showMore&&this.setState({showMore:!1})}},{key:"showMoreFn",value:function showMoreFn(e){e.stopPropagation(),e.preventDefault();var t=this.state.showMore,o=this.props.vipFlag;Object(b.a)({page_name:"newvippage",create_time:new Date,click_id:"clickMore",click_par:{type:{1:"open",0:"notOpen",3:"past "}[o]}}),console.log("showmore-",t),this.setState({showMore:!t})}},{key:"toExchangePage",value:function toExchangePage(){var e,t,o=(null===(e=Object(d.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{},a=this.props.vipFlag;this.setState({showMore:!1});Object(b.a)({page_name:"newvippage",create_time:new Date,click_id:"click_codepage",click_par:{type:{1:"open",0:"notOpen",3:"past "}[a]}}),Object(j.b)({url:"/pages/vpaymember_t/exchangePage/index?vipFlag=".concat(a),type:"findpage"==o.channel?"openNewWeb":""})}},{key:"setCardName",value:function setCardName(e){var t=this.props.vipFlag,o={1:"https://storage.360buyimg.com/wximg/member/week-c.png",2:"https://storage.360buyimg.com/wximg/member/t-month-c.png",3:"https://storage.360buyimg.com/wximg/member/text-card.png",4:"https://storage.360buyimg.com/wximg/member/rent-month.png",5:"https://storage.360buyimg.com/wximg/member/t-season-c.png",6:"https://storage.360buyimg.com/wximg/member/t-year-c.png"},a="https://storage.360buyimg.com/wximg/vpayMember/month_card_icon_5.png";return e>0&&o[e]&&(a=3==t?{1:"https://storage.360buyimg.com/wximg/member/week-o.png",2:"https://storage.360buyimg.com/wximg/member/month-card.png",3:"https://storage.360buyimg.com/wximg/member/test-card-o.png",4:"https://storage.360buyimg.com/wximg/member/rent-month-overtime.png",5:"https://storage.360buyimg.com/wximg/member/season-card.png",6:"https://storage.360buyimg.com/wximg/member/year-card.png"}[e]:o[e]),a}},{key:"setCardsClassName",value:function setCardsClassName(e){var t="cardIcon";return 3!==e&&4!==e||(t="".concat(t).concat(e)),t}},{key:"toReNew",value:function toReNew(){var e,t,o=(null===(e=Object(d.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{},a=this.props||{},n=a.headData,s=a.userCardType,i=n&&n.renewalToastText;i&&_.a.showToast({icon:"none",title:i||"抱歉~您的续费周期已达上限，暂不能续费!"});var c=this.props.vipFlag;Object(b.a)({page_name:"newvippage",create_time:new Date,click_id:"clickOpen",click_par:{site:"up",type:{1:"open",0:"notOpen",3:"past "}[c]}}),"findpage"==o.channel?Object(j.b)({url:"/pages/vpaymember_t/packageSelection/index?payFrom=appTab&vipFlag=".concat(c,"&userCardType=").concat(s,"&h5=#newPay"),type:"findpage"==o.channel?"openNewWeb":""}):Object(j.b)({url:"/pages/vpaymember_t/packageSelection/index?vipFlag=".concat(c,"&userCardType=").concat(s,"&h5=#newPay"),type:"findpage"==o.channel?"openNewWeb":""})}},{key:"jumpToCouponTab",value:function jumpToCouponTab(e){var t,o,a=(null===(t=Object(d.getCurrentInstance)())||void 0===t||null===(o=t.router)||void 0===o?void 0:o.params)||{},n=this.props,s=n.userCardType,i=n.vipFlag;if(Object(b.a)({page_name:"newvippage",create_time:new Date,click_id:"redPackage"==e?"clickRedPacket":"clickBonus",click_par:{type:{1:"open",0:"notOpen",3:"past "}[i]}}),"findpage"==a.channel){var c="allowanceNew"==e?"couponTabNew":"couponTab";Object(j.b)({url:"/pages/vpaymember_t/".concat(c,"/index?vipFlag=").concat(i,"&pageType=").concat(e,"&userCardType=").concat(s,"&channel=").concat(a.channel),type:"openNewWeb"})}else{var r="allowanceNew"==e?"couponTabNew":"couponTab";Object(j.b)({url:"/pages/vpaymember_t/".concat(r,"/index?vipFlag=").concat(i,"&pageType=").concat(e,"&userCardType=").concat(s,"&channel=").concat(a.channel)})}}},{key:"onClickToRecord",value:function onClickToRecord(){var e,t,o=(null===(e=Object(d.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{};Object(j.b)({url:"/pages/vpaymember_t/envelopesRecord/index",type:"findpage"==o.channel?"openNewWeb":""})}}]),MemberBox}(l.default.Component);t.a=O},function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(8),i=o(9),c=o(5),r=o(3),l=o.n(r),d=o(1),_=o(74),m=o.n(_),u=o(33),p=o(77),b=o.n(p),j=o(26),h=o(14),g=o(0),x=function(e){Object(s.a)(Goods,e);var t=Object(i.a)(Goods);function Goods(e){var o;return Object(a.a)(this,Goods),(o=t.call(this,e)).state={},o}return Object(n.a)(Goods,[{key:"render",value:function render(){var e=this.props.goodsInfo;return Object(g.jsxs)(d.j,{className:b.a.goods,onClick:this.dealJump.bind(this,e,"toStore"),children:[Object(g.jsx)(d.j,{className:b.a.goodsImageWrap}),Object(g.jsx)(d.j,{className:b.a.goodsImage,style:{backgroundImage:"url(".concat(e.skuImg,")")}}),Object(g.jsx)(d.j,{className:b.a.goodsName,children:e.skuName}),Object(g.jsxs)(d.j,{className:b.a.goodsPrice,children:[Object(g.jsxs)(d.j,{className:b.a.todayPrice,children:["¥",e.majorPrice]}),e.vipPriceImg&&Object(g.jsx)(d.c,{className:b.a.VMTag,src:e.vipPriceImg})]}),Object(g.jsxs)(d.j,{className:b.a.origPrice,children:[Object(g.jsxs)(d.j,{className:b.a.price,children:["¥",e.minorPrice]}),Object(g.jsx)(d.j,{onClick:this.dealJump.bind(this,e,"addCar"),className:b.a.plusIcon,children:Object(g.jsx)(d.c,{className:b.a.icon,src:"https://storage.360buyimg.com/wximg/member/plusIcon.png"})})]})]})}},{key:"dealJump",value:function dealJump(e,t,o){var a=this.props,n=a.vipFlag,s=a.isLoginFlag,i=a.toLogin;s?1==n?("addCar"==t&&(o.preventDefault(),o.stopPropagation()),this.goToStore(e,t)):l.a.showToast({icon:"none",title:"开通会员可购买"}):i()}},{key:"goToStore",value:function goToStore(e,t){var o=e.storeId,a=e.orgCode,n=e.isH5,s=e.lat,i=void 0===s?"":s,c=e.lng,r=void 0===c?"":c,l=e.skuId,d=e.userAction,_=void 0===d?"":d;Object(h.a)({page_name:"newvippage",create_time:new Date,click_id:"click_add",click_par:{skuId:l,storeId:o}});var m={userAction:_,storeId:o||"",skuId:l||"",orgCode:a||"",longitude:r,latitude:i,needAnchorSku:"addCar"==t,addCart:"addCar"==t,needAddCar:"addCar"==t,needAddCart:"addCar"==t?1:0,isAddCart:"addCar"==t};Object(j.a)({type:1==n?"h5":"",to:"store",params:m})}}]),Goods}(c.default.Component),v=(o(4),function(e){Object(s.a)(VipGoodsBox,e);var t=Object(i.a)(VipGoodsBox);function VipGoodsBox(){return Object(a.a)(this,VipGoodsBox),t.apply(this,arguments)}return Object(n.a)(VipGoodsBox,[{key:"render",value:function render(){var e=this.props,t=e.vipGoodsList,o=e.isLoginFlag,a=e.vipFlag,n=e.vipGoodsListTotal,s=e.vipGoodsListObj,i="",c="";return s&&s.title&&(i=s.title.substring(0,s.title.length-4),c=s.title.substring(s.title.length-4)),t&&t.length?Object(g.jsxs)(d.j,{className:[m.a.vip_goods_box,1==a?m.a.nopad:""].join(" "),children:[s?Object(g.jsxs)(d.j,{className:m.a.mou_title,children:[i,Object(g.jsx)(d.i,{className:m.a.red,children:c}),Object(g.jsx)(d.i,{className:m.a.des,children:s&&s.secondTitle||""})]}):"",Object(g.jsx)(d.j,{className:m.a.vip_goods_list_box,children:t.map((function(e,t){return Object(g.jsx)(x,{vipFlag:a,isLoginFlag:o,toLogin:function toLogin(){return Object(u.a)()},goodsInfo:e},"vipGoodsList".concat(t))}))}),Object(g.jsx)(d.j,{className:m.a.vip_goods_layer,children:Object(g.jsx)(d.j,{className:m.a.vip_goods_btn,onClick:this.toGoodsList.bind(this),children:n<100?"查看更多特价商品 >":"查看".concat(n,"+特价商品 >")})})]}):Object(g.jsxs)(d.a,{children:[s?Object(g.jsxs)(d.j,{className:m.a.mou_title,children:[i,Object(g.jsx)(d.i,{className:m.a.red,children:c}),Object(g.jsx)(d.i,{className:m.a.des,children:s&&s.secondTitle||""})]}):"",Object(g.jsx)(d.c,{className:m.a.defaultS,mode:"aspectFit",src:"https://storage.360buyimg.com/wximg/member/vipgoodsDefault.png"})]})}},{key:"toGoodsList",value:function toGoodsList(){var e,t;null===(e=Object(r.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t||t.params;l.a.navigateTo({url:"/pages/vpaymember_t/memberGoods/index?vipFlag="+this.props.vipFlag})}}]),VipGoodsBox}(c.default.Component));t.a=v},,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(8),i=o(9),c=o(5),r=o(1),l=o(26),d=o(63),_=o.n(d),m=o(14),u=o(0),p=function(e){Object(s.a)(ExchangeShopCoupon,e);var t=Object(i.a)(ExchangeShopCoupon);function ExchangeShopCoupon(e){return Object(a.a)(this,ExchangeShopCoupon),t.call(this,e)}return Object(n.a)(ExchangeShopCoupon,[{key:"render",value:function render(){var e=this,t=this.props,o=t.data,a=t.shopQuata,n=t.needMarTop;return Object(u.jsxs)(r.a,{children:[Object(u.jsx)(r.j,{className:[_.a.mou_title,n?_.a.marTop:""].join(" "),children:"可支持兑换的商家"}),o&&o.length?Object(u.jsx)(r.f,{id:"shopsDataScrollView",onScrollToLower:this.loadmore.bind(this),scrollX:!0,className:_.a.bigCou_box,children:o.map((function(t,o){return Object(u.jsxs)(r.j,{onClick:e.jumpToSt.bind(e,t),className:_.a.coupon,children:[t&&t.ext?Object(u.jsx)(r.j,{className:_.a.outArea,children:t.ext}):null,Object(u.jsx)(r.j,{className:_.a.logoBox,children:Object(u.jsx)(r.c,{src:t.storeLogo,className:_.a.logo})}),Object(u.jsx)(r.j,{className:_.a.tit,children:t.storeName}),Object(u.jsxs)(r.j,{className:_.a.mon_box,children:[3==t.packageType?Object(u.jsxs)(r.j,{className:_.a.mon1,children:[Object(u.jsx)(r.c,{className:_.a.star,src:"https://storage.360buyimg.com/wximg/member/allance-re.png"}),t.exchangeNum,Object(u.jsx)(r.i,{className:_.a.unit})]}):Object(u.jsxs)(r.j,{className:_.a.mon1Old,children:[a,Object(u.jsx)(r.i,{className:_.a.unit,children:"元"})]}),Object(u.jsxs)(r.j,{className:_.a.mon2,children:[t.amount,Object(u.jsx)(r.i,{className:_.a.unit,children:t.amountUnit||t.quotaUnit})]})]})]},"exchangeData".concat(o))}))}):""]})}},{key:"loadmore",value:function loadmore(){this.props.loadMore()}},{key:"jumpToSt",value:function jumpToSt(e){var t=this.props.vipFlag;Object(m.a)({page_name:"newvippage",create_time:new Date,click_id:"clickRedPacket",click_par:{type:{1:"open",0:"notOpen",3:"past"}[t],storeId:e.storeId}}),Object(l.a)({to:"store",params:{storeId:e.storeId,orgCode:e.orgCode,skuId:e.skuId||"",needAnchorSku:!0}})}}]),ExchangeShopCoupon}(c.default.Component);t.a=p},function(e,t,o){"use strict";var a=o(6),n=o(7),s=o(8),i=o(9),c=o(5),r=o(1),l=o(103),d=o.n(l),_=o(0),m=function(e){Object(s.a)(AllowanceArea,e);var t=Object(i.a)(AllowanceArea);function AllowanceArea(e){return Object(a.a)(this,AllowanceArea),t.call(this,e)}return Object(n.a)(AllowanceArea,[{key:"render",value:function render(){var e=this.props.data.floorItem,t=e.allowanceTitle,o=e.allowanceSubTitle,a=e.allowanceImage,n="",s="";return t&&(n=t.substring(0,t.length-5),s=t.substring(t.length-5)),Object(_.jsxs)(r.j,{children:[Object(_.jsxs)(r.j,{className:[d.a.mou_title].join(" "),children:[n,Object(_.jsx)(r.i,{className:d.a.red,children:s}),Object(_.jsx)(r.i,{className:d.a.des,children:o})]}),Object(_.jsxs)(r.j,{className:d.a.defaultSBox,children:[" ",Object(_.jsx)(r.c,{mode:"scaleToFill",className:d.a.defaultS,src:a})]})]})}}]),AllowanceArea}(c.default.Component);t.a=m},,,,,,,,,,,,,,function(e,t,o){"use strict";var a=o(30),n=o(6),s=o(7),i=o(15),c=o(8),r=o(9),l=o(10),d=o(5),_=o(3),m=o.n(_),u=o(1),p=o(44),b=o.n(p),j=o(35),h=o(124),g=o(123),x=o(125),v=o(26),O=o(14),f=o(27),y=o.n(f),N=o(0),C=function(e){Object(c.a)(ReturnToStore,e);var t=Object(r.a)(ReturnToStore);function ReturnToStore(e){var o;return Object(n.a)(this,ReturnToStore),(o=t.call(this,e)).state={},o}return Object(s.a)(ReturnToStore,[{key:"render",value:function render(){var e=this.props,t=e.toStoreHide,o=e.item;return Object(N.jsxs)(u.j,{className:"".concat(y.a.returnToStore),hidden:t,children:[Object(N.jsx)(u.j,{className:y.a.mark}),Object(N.jsxs)(u.j,{className:y.a.container,children:[Object(N.jsxs)(u.j,{className:y.a.storeMsg,children:[Object(N.jsx)(u.j,{className:y.a.title,children:"恭喜您已开通会员"}),Object(N.jsx)(u.j,{className:y.a.subTitle,children:"还可兑换商家大额红包哦！"}),Object(N.jsxs)(u.j,{className:y.a.store_info,onClick:this.jumpStore.bind(this,o),children:[Object(N.jsx)(u.j,{className:y.a.logo,children:Object(N.jsx)(u.c,{className:y.a.logoImg,src:o.storeLogo})}),Object(N.jsxs)(u.j,{className:y.a.info,children:[Object(N.jsxs)(u.j,{className:y.a.store_name,children:[Object(N.jsxs)(u.i,{className:y.a.store_name_txt,children:[o.storeName," "]}),Object(N.jsx)(u.j,{className:y.a.right,children:" "})]}),Object(N.jsxs)(u.j,{className:y.a.store_stars,children:[Object(N.jsxs)(u.j,{className:y.a.ratebox_gray,children:[Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.graybg})}),Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.graybg})}),Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.graybg})}),Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.graybg})}),Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.graybg})})]}),Object(N.jsxs)(u.j,{className:y.a.ratebox_process,children:[o&&o.allStartNum&&o.allStartNum.map((function(e,t){return Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.process})},"key"+t)})),o.halfStartNum>0&&Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.process,style:"width:".concat(o.halfStartNum,"%")})})]}),Object(N.jsxs)(u.j,{className:y.a.ratebox,children:[Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.img})}),Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.img})}),Object(N.jsxs)(u.j,{className:y.a.rate,children:[Object(N.jsx)(u.j,{className:y.a.img})," "]}),Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.img,children:" "})}),Object(N.jsx)(u.j,{className:y.a.rate,children:Object(N.jsx)(u.j,{className:y.a.img,children:" "})})]}),Object(N.jsx)(u.j,{className:y.a.ratetxt,children:o.storeScore})]}),Object(N.jsx)(u.j,{className:y.a.month_sale,children:"月售".concat(o.monthSale||0)}),Object(N.jsxs)(u.j,{className:y.a.coupon,children:[Object(N.jsxs)(u.j,{className:y.a.priceCont,children:[Object(N.jsx)(u.j,{className:y.a.pricebox,children:Object(N.jsxs)(u.j,{className:y.a.price,children:[Object(N.jsx)(u.i,{className:y.a.priceUnit,children:"￥"}),Object(N.jsx)(u.i,{className:y.a.priceTxt,children:o.quota})]})}),Object(N.jsxs)(u.j,{className:y.a.tips,children:[" ",o.limitRule]})]}),Object(N.jsx)(u.j,{className:y.a.divLine}),Object(N.jsx)(u.j,{className:y.a.exchange,children:Object(N.jsx)(u.j,{className:y.a.number,children:"1张会员红包可兑换"})})]})]})]}),Object(N.jsx)(u.j,{className:y.a.toStoreBtn,onClick:this.jumpStore.bind(this,o),children:"去门店兑换"})]}),Object(N.jsx)(u.j,{className:y.a.close,onClick:this.close.bind(this,o)})]})]})}},{key:"close",value:function close(e){this.props.closePop(),Object(O.a)({create_time:new Date,click_id:"shut_storepop",click_par:{storeId:e.storeId||""}})}},{key:"jumpStore",value:function jumpStore(e){Object(v.a)({to:"store",params:{storeId:e.storeId||"",skuId:e.skuId||"",orgCode:e.orgCode||"",needAnchorSku:!0,addCart:!0,isAddCart:!0,needAddCar:!0}}),Object(O.a)({create_time:new Date,click_id:"click_storepop",click_par:{storeId:e.storeId||""}})}}]),ReturnToStore}(d.default.Component),w=o(16),I=o(89),k=o(54),T=o(67),B=o.n(T),P=o(69),S=function(e){Object(c.a)(VipDay,e);var t=Object(r.a)(VipDay);function VipDay(){return Object(n.a)(this,VipDay),t.apply(this,arguments)}return Object(s.a)(VipDay,[{key:"render",value:function render(){var e=this,t=this.props.couponInfoData;console.log("couponInfoData----",t);var o={2:"https://storage.360buyimg.com/wximg/member/hasUsed.png",4:"https://storage.360buyimg.com/wximg/member/hasNone.png",3:"https://storage.360buyimg.com/wximg/member/overtime.png"};return t&&t.floorItem&&t.floorItem.couponInfoResultList&&t.floorItem.couponInfoResultList.length?Object(N.jsxs)(u.j,{className:B.a.vipDayBox,children:[Object(N.jsxs)(u.j,{className:B.a.titleBox,children:[Object(N.jsx)(u.j,{className:B.a.title1,children:t.floorItem.title}),Object(N.jsx)(u.j,{className:B.a.subT,children:t.floorItem.subtitle}),Object(N.jsxs)(u.j,{onClick:this.toUseBtn.bind(this,t.floorItem.cmsUrl),className:B.a.openMore,children:[t.secondTitle||"查看更多"," > "," "]})]}),Object(N.jsx)(u.j,{className:B.a.couB,children:t&&t.floorItem&&t.floorItem.couponInfoResultList&&t.floorItem.couponInfoResultList.length&&t.floorItem.couponInfoResultList.map((function(a,n){return Object(N.jsxs)(u.j,{className:"".concat(B.a.itemBox," "),children:[4==a.state||3==a.state||2==a.state?Object(N.jsx)(u.j,{className:"".concat(B.a.overIcon),style:{backgroundImage:"url(".concat(o[a.state],")")}}):null,Object(N.jsxs)(u.j,{className:"".concat(B.a.price),children:[a.quota,Object(N.jsx)(u.i,{className:"".concat(B.a.yuan),children:"元"})]}),Object(N.jsxs)(u.j,{className:"".concat(B.a.useRemark),children:["满",a.minOrderAmount,"元可用"]}),Object(N.jsx)(u.j,{className:B.a.descrip,children:a.showName}),Object(N.jsx)(u.j,{onClick:e.clickBtn.bind(e,a,t.floorItem.comboId),className:[B.a.btnText,4===a.state||3===a.state||2===a.state?B.a.btnTextDis:"",1==a.state?B.a.btnTextuse:""].join(" "),children:e.getBtnText(a.state)})]},"couponInfo".concat(n))}))})]}):null}},{key:"getBtnText",value:function getBtnText(e){var t="立即领取",o={0:"立即领取",1:"去使用"};return o[e]&&(t=o[e]),t}},{key:"clickBtn",value:function clickBtn(e,t){if(console.log(e),0==e.state){var o=1==e.couponType?{merchantId:e.couponId}:{platCouponid:e.couponId};Object(O.a)({page_name:"newvippage",create_time:new Date,click_id:"clickGet",click_par:o}),this.getCoupon(e,t)}else 1===e.state&&Object(P.a)({couponId:e.couponId,code:e.activityCode},e.couponGoSource)}},{key:"getCoupon",value:function getCoupon(e,t){var o=this;console.log(e);var a={activityCode:e.activityCode,comboId:t,couponId:e.couponId,requestor:"vplus-home"};Object(w.B)(a).then((function(e){var t=e.code,a=e.msg,n=e.result,s=(e.message,n.codeInfoResult);0==t&&s&&n.success?(m.a.showToast({icon:"none",title:n.message||"领取成功"}),o.props.handleInit()):m.a.showToast({icon:"none",title:n.message||a||"领取失败"})})).catch((function(e){console.log(e),m.a.showToast({icon:"none",title:"领取失败"})}))}},{key:"couponState",value:function couponState(e){var t={2:"https://storage.360buyimg.com/wximg/vpay_member/hasUsed.png",4:"https://storage.360buyimg.com/wxmini/vpay_member/hasNone.png",3:"https://storage.360buyimg.com/wximg/member/overtime.png"},o="";return 2!=e&&3!=e&&4!=e||!t[e]||(o=t[e]),o}},{key:"toUseBtn",value:function toUseBtn(e){var t,o;null===(t=Object(_.getCurrentInstance)())||void 0===t||null===(o=t.router)||void 0===o||o.params;Object(O.a)({page_name:"newvippage",create_time:new Date,click_id:"clickGetMore",click_par:{}});var a=e.split("?")[1];m.a.navigateTo({url:"/pages/vpaymember_t/memberDay/index?"+a})}}]),VipDay}(d.default.Component),L=o(111),D=o.n(L),M=o(90),E=o(24),R=o.n(E),F=function(e){Object(c.a)(EnvelopesComponent,e);var t=Object(r.a)(EnvelopesComponent);function EnvelopesComponent(e){var o;return Object(n.a)(this,EnvelopesComponent),o=t.call(this,e),Object(l.a)(Object(i.a)(o),"config",{navigationBarTitleText:"V+会员"}),o.state={consumeCode:"",showPoup:!1,exchangePop:!1,exchangeData:{sourcePackage:{amount:"",limitRule:""},targetPackage:{amount:"",limitRule:""},title:"",subTitle:"",storeLogo:""}},o}return Object(s.a)(EnvelopesComponent,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var e=this,t=(this.props||{}).item,o=t||{},a=o.storeName,n=o.storeLogo,s=o.storeScore,i=void 0===s?5:s,c=o.monthSale,r=void 0===c?0:c,l=o.predictedTime,d=o.freightWords,_=o.freightDescForLine,m=o.distance,p=o.storeCouponTags,b=t.bestExchangeCouponInfo,j=b.takeState,h=b.exchangeType,g=this.state,x=g.showPoup,v=g.consumeCode,O=g.exchangeData;return Object(N.jsxs)(u.j,{className:R.a.store_info,children:[Object(N.jsxs)(u.j,{className:R.a.logo,onClick:this.jumpStore.bind(this,t),children:[Object(N.jsx)(u.c,{className:R.a.logoImg,src:n}),t.recommendTag?Object(N.jsx)(u.j,{className:[R.a.logolabel,"新店"==t.recommendTag?R.a.logolabelRed:R.a.logolabelGre].join(" "),children:t.recommendTag}):null,t.cartNum?Object(N.jsx)(u.j,{className:R.a.cartNum,children:t.cartNum}):null]}),Object(N.jsxs)(u.j,{className:R.a.info,children:[Object(N.jsx)(u.j,{className:R.a.store_name,onClick:this.jumpStore.bind(this,t),children:Object(N.jsxs)(u.i,{className:R.a.store_name_txt,children:[a," "]})}),Object(N.jsxs)(u.j,{className:R.a.lineBox,onClick:this.jumpStore.bind(this,t),children:[Object(N.jsxs)(u.j,{className:R.a.store_stars,children:[Object(N.jsxs)(u.j,{className:R.a.ratebox_gray,children:[Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.graybg})}),Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.graybg})}),Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.graybg})}),Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.graybg})}),Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.graybg})})]}),Object(N.jsxs)(u.j,{className:R.a.ratebox_process,children:[t&&t.allStartNum&&t.allStartNum.map((function(e,t){return Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.process})},"key"+t)})),t.halfStartNum>0&&Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.process,style:"width:".concat(t.halfStartNum,"%")})})]}),Object(N.jsxs)(u.j,{className:R.a.ratebox,children:[Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.img})}),Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.img})}),Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.img})}),Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.img,children:" "})}),Object(N.jsx)(u.j,{className:R.a.rate,children:Object(N.jsx)(u.j,{className:R.a.img,children:" "})})]}),Object(N.jsx)(u.j,{className:R.a.ratetxt,children:i})]}),r?Object(N.jsx)(u.j,{className:R.a.month_sale,children:"月售".concat(r)}):null,m?Object(N.jsx)(u.j,{className:R.a.distance,children:m}):null,l?Object(N.jsx)(u.j,{className:R.a.timetxt,children:l}):null]}),Object(N.jsxs)(u.j,{className:R.a.lineBox2,onClick:this.jumpStore.bind(this,t),children:[d?Object(N.jsx)(u.j,{className:R.a.lineBox2Mon,children:d}):null,_?Object(N.jsx)(u.j,{className:R.a.lineBox2Monw,children:_}):null,t.carrierTag?Object(N.jsx)(u.j,{className:R.a.lineBox2Exp,style:{borderColor:t.carrierTag.strokeColorCode,color:t.carrierTag.iconTextColorCode},children:t.carrierTag.iconText}):null]}),p&&p.length?Object(N.jsx)(u.j,{className:R.a.couponLineBox,children:p.map((function(o,a){return a<3&&Object(N.jsx)(u.j,{onClick:e.jumpStore.bind(e,t),style:{borderColor:o.outLineColor,backgroundColor:o.backgroundColor,color:o.frontColor},className:R.a.couponItem,children:o.words},"key".concat(a))}))}):null,t.tags&&t.tags.length&&t.tags.map((function(o,a){return 0==a&&Object(N.jsxs)(u.j,{className:R.a.labelBox,onClick:e.jumpStore.bind(e,t),children:[Object(N.jsx)(u.j,{style:{background:"linear-gradient(135deg,".concat(o.startColorCode," 0%,").concat(o.endColorCode," 100%)")},className:R.a.labeltxt,children:o.labelName}),Object(N.jsx)(u.j,{className:R.a.labelBoxDesc,children:e.filterTxt(o.labelDesc,"###",",")})]},"tags".concat(a))})),t.bestExchangeCouponInfo.amount?Object(N.jsxs)(u.j,{className:[R.a.exchBox,2==j?R.a.exchBoxNoExchange:R.a.exchBoxExchange].join(" "),onClick:2==j?this.exchangeEvent.bind(this,t):this.jumpStore.bind(this,t),children:[Object(N.jsx)(u.j,{className:R.a.exchImgB,children:Object(N.jsx)(u.c,{className:R.a.exchImg,src:"https://storage.360buyimg.com/wximg/member/vPluslogo.png"})}),Object(N.jsx)(u.j,{className:R.a.exchtxt,children:2==j?5==h||6==h?"兑换会员专享券":"兑换商家红包":"去下单"}),Object(N.jsxs)(u.j,{className:R.a.exchMon,children:["立省",Object(N.jsx)(u.j,{className:R.a.big,children:t.bestExchangeCouponInfo.amount}),t.bestExchangeCouponInfo.amountUnit," > "]})]}):""]}),!!x&&Object(N.jsx)(M.a,{exchangeData:O,item:t,consumeCode:v,closeExchangePop:this.closeExchangePop.bind(this),refreshPage:this.refreshPage.bind(this)})]})}},{key:"filterTxt",value:function filterTxt(e,t,o){return e&&e.length>0?e.split(t).join(o):e}},{key:"closeExchangePop",value:function closeExchangePop(){this.setState({showPoup:!1})}},{key:"refreshPage",value:function refreshPage(){this.props.refreshPage()}},{key:"exchangeEvent",value:function exchangeEvent(e,t){var o=(e||{}).storeId;t.preventDefault(),t.stopPropagation(),console.log("oooo00-----",e),2==e.bestExchangeCouponInfo.takeState?this.convertCouponCheck(e.bestExchangeCouponInfo,o,e.bestExchangeCouponInfo.id):this.jumpStore(e),Object(O.a)({page_name:"newvippage",create_time:new Date,click_id:"clickbigredpacket",click_par:{storeId:o,statusId:1==this.props.userCardType?"week":"month",activityCode:e.bestExchangeCouponInfo.activityCode||"",takeState:1==e.bestExchangeCouponInfo.takeState?"去门店":"兑换"}})}},{key:"jumpStore",value:function jumpStore(e){var t=e||{},o=t.orgCode,a=t.storeId,n=t.skuId,s=t.tab,i=void 0===s?1:s;Object(v.a)({to:"store",params:{storeId:a||"",skuId:n||"",orgCode:o||"",needAnchorSku:!0,addCart:!0,isAddCart:!0,needAddCar:!0}});Object(O.a)({page_name:"newvippage",click_id:"click_store",click_par:{storeid:a||"",tab:{1:"vip_keyonghongbao",2:"vip_jintieduihuan",3:"vip_daifafang"}[i]}})}},{key:"convertCouponCheck",value:function convertCouponCheck(e,t,o){var a=this,n=this.props.cityId;console.log("item---",e),Object(w.f)({exchangeId:o,cityId:n,pin:Object(j.a)("PDJ_H5_PIN")||Object(j.a)("pin")||Object(j.a)("PDJ_H5_JDPIN"),activityCode:e.activityCode,serviceVersion:2,consumeCode:"",grabChannel:"vip_index_page",platform:"H5",requestor:"vplus",storeId:t}).then((function(e){if("0"==e.code&&e.result.vip){var t=e&&e.result,n=t.sourcePackage,s=t.targetPackage,i=t.title,c=t.subTitle,r=t.storeLogo,l=t.exchangeFlag;a.setState({showPoup:!0,exchangeData:{title:i,subTitle:c,sourcePackage:n,targetPackage:s,storeLogo:r,exchangeFlag:l,id:o||""},consumeCode:n.activityCode}),Object(O.a)({page_name:"newvippage",create_time:new Date,click_id:"exchangeCouponWindowVender",click_par:{isPaid:1,result:e}})}})).catch((function(e){m.a.showToast({title:e.msg||"网络开小差，请稍后重试",icon:"none",duration:1500})})),Object(O.a)({page_name:"newvippage",create_time:new Date,click_id:"clickCouponVender",click_par:{isPaid:1,item:e}})}}]),EnvelopesComponent}(d.default.Component),A=function(e){Object(c.a)(MerchantEnvelopesNew,e);var t=Object(r.a)(MerchantEnvelopesNew);function MerchantEnvelopesNew(e){var o;return Object(n.a)(this,MerchantEnvelopesNew),(o=t.call(this,e)).state={showMore:!0},o}return Object(s.a)(MerchantEnvelopesNew,[{key:"render",value:function render(){var e=this,t=this.props,o=t.item,a=t.vipFlag,n=t.showMerchantMore,s=t.userCardType,i=(o||{}).floorItem;this.state.showMore;return i&&i.map((function(e){if(e.storeStar){for(var t,o=[],a=Math.floor(e.storeStar),n=0;n<a;n++)o[n]=n;t=e.storeStar%1>0?e.storeStar%1*100:0,e.allStartNum=o,e.halfStartNum=t}return e})),Object(N.jsxs)(u.j,{className:D.a.merchantBox,children:[Object(N.jsx)(u.j,{className:D.a.title,children:"精选会员商家 "}),Object(N.jsx)(u.j,{className:D.a.storeList,children:i&&i.map((function(t,o){return Object(N.jsx)(F,{item:t,vipFlag:a,userCardType:s,refreshPage:e.refreshPage.bind(e)},"EnvelopesComponent".concat(o))}))}),Object(N.jsx)(u.j,{className:D.a.storeListBtm,children:null!=n?n?"努力加载中...":"我也是有底线的~":""})]})}},{key:"refreshPage",value:function refreshPage(){this.props.refreshPage(1)}}]),MerchantEnvelopesNew}(d.default.Component),H=o(107),G=o(108),U=function(e){Object(c.a)(OpenedBox,e);var t=Object(r.a)(OpenedBox);function OpenedBox(e){var o;return Object(n.a)(this,OpenedBox),o=t.call(this,e),Object(l.a)(Object(i.a)(o),"pageCount",void 0),Object(l.a)(Object(i.a)(o),"switchMoreFlag",void 0),o.state={showMore:!1,allanceList:[],showPoup:!1,consumeCode:"",exchangeData:{sourcePackage:{amount:"",limitRule:""},targetPackage:{amount:"",limitRule:""},title:"",subTitle:"",storeLogo:"",exchangeFlag:1,buttonTitle:"",grabChannel:""},showCancelPoup:!1},o.pageCount=1,o.switchMoreFlag=!0,o}return Object(s.a)(OpenedBox,[{key:"render",value:function render(){var e=this,t=this.props,o=t.userCardType,n=t.toStoreHide,s=t.toStoreItem,i=t.merchantNewData,c=t.vipFlag,r=t.vipGoodsListTotal,l=t.vipGoodsList,d=t.isLoginFlag,_=t.showOldHead,m=t.openedData,p=t.handleInit,j=t.closePop,v=t.jumpPage,O=i.showMerchantMore,f=m.headData,y=m.bannerData,w=m.couponInfoData,k=m.vipRights,T=(m.btnData,m.aountInfoData),B=m.vipGoodsListObj,P=m.marqueeData,L=m.taskListObj,D=T&&T.floorItem?Object(a.a)(Object(a.a)({},f),T.floorItem):f,E=P&&P.floorItem?P.floorItem:[],R=this.state,F=R.showPoup,H=R.exchangeData,U=R.consumeCode,q=R.showCancelPoup,V=R.allanceList;return console.log("taskListObj",L),Object(N.jsxs)(u.a,{children:[f?Object(N.jsx)(h.a,{showOldHead:_,vipFlag:c,headData:D,userCardType:o,marqueeData:E}):"",Object(N.jsxs)(u.j,{className:[b.a.vipPage,_?b.a.oldStyle:""].join(" "),children:[k&&k.floorItem&&k.floorItem.length?Object(N.jsx)(I.a,{pageName:"newvippage",vipFlag:c,type:"nowrap",data:k.floorItem}):null,L?this.renderTask():"",y&&y.floorItem?Object(N.jsx)(u.j,{id:"vPlusBannerBox",className:b.a.SwipeContNew,children:Object(N.jsx)(g.a,{imgArr:y.floorItem,indicatorDots:y.floorItem&&y.floorItem.length>1,form:"vip",autoplay:!0,jumpPage:v.bind(this)})}):"",V&&V.length?this.renderAllanceEx():"",B?Object(N.jsx)(u.j,{className:b.a.goodsWrapMar,children:Object(N.jsx)(x.a,{vipGoodsListObj:B,vipGoodsListTotal:r,vipFlag:c,vipGoodsList:l,isLoginFlag:d})}):"",w?Object(N.jsx)(S,{couponInfoData:w,handleInit:p.bind(this)}):null,i&&i.floorItem&&i.floorItem.length?Object(N.jsx)(A,{vipFlag:c,showMerchantMore:O,item:i,userCardType:o,refreshPage:p.bind(this)}):null]}),n?null:Object(N.jsx)(C,{toStoreHide:n,item:s,closePop:j.bind(this)}),!!F&&Object(N.jsx)(M.a,{type:"allowance",showNew:!0,exchangeData:H,consumeCode:U,closeExchangePop:function closeExchangePop(){return e.setState({showPoup:!1})},refreshPage:this.refreshPage.bind(this)}),q&&Object(N.jsx)(G.a,{exchangeData:H,consumeCode:U,closeExchangePop:this.closeCancelUse.bind(this),refreshPage:this.refreshPage.bind(this)})]})}},{key:"refreshPage",value:function refreshPage(){this.props.handleInit(1)}},{key:"renderTask",value:function renderTask(){var e,t,o,a=this.props.openedData.taskListObj;return Object(N.jsxs)(u.j,{className:b.a.allanceBox,children:[Object(N.jsx)(u.j,{className:b.a.allanceAreaTit,children:(null==a||null===(e=a.floorItem)||void 0===e?void 0:e.secondTitle)||"下单解锁津贴 可获得额外奖励 最高得20元津贴"}),Object(N.jsx)(u.j,{className:b.a.allanceRate,children:null!=a&&null!==(t=a.floorItem)&&void 0!==t&&null!==(o=t.taskList)&&void 0!==o&&o.length?a.floorItem.taskList.map((function(e,t){return Object(N.jsxs)(u.j,{className:b.a.allanceItem,children:[Object(N.jsxs)(u.j,{className:[b.a.allanceItemIner,2==e.state?b.a.over:b.a.notOver].join(" "),children:[Object(N.jsxs)(u.j,{className:b.a.allanceInfo,children:["解锁",e.reward,"元津贴"]}),Object(N.jsx)(u.j,{className:b.a.allanceNum,children:e.reward})]}),Object(N.jsx)(u.j,{className:b.a.whiteLine,children:2==e.state?Object(N.jsx)(u.c,{className:b.a.hasOverFlag,src:"https://storage.360buyimg.com/wximg/member/vPHasOpend.png"}):""}),Object(N.jsxs)(u.j,{className:b.a.txt,children:["完成第",e.totalNum,"单"]})]},"keya".concat(t))})):""})]})}},{key:"renderAllanceEx",value:function renderAllanceEx(){var e=this,t=this.state,o=t.allanceList,n=t.showMore;return console.log("allanceList",o),Object(N.jsxs)(u.j,{className:b.a.allanceExBox,children:[Object(N.jsxs)(u.j,{children:[Object(N.jsx)(u.i,{className:b.a.title,children:"津贴兑换奖品"}),Object(N.jsx)(u.i,{className:b.a.subTitle,children:"丰富奖品等你来兑"})]}),Object(N.jsx)(u.j,{className:[b.a.allanceList,o.length>4?b.a.heightFix:b.a.heightAuto,n?b.a.heightAuto:b.a.heightFix].join(" "),children:o&&o.length?o.map((function(t,o){return Object(N.jsx)(u.j,{className:b.a.conponBox,children:Object(N.jsx)(H.a,Object(a.a)(Object(a.a)(Object(a.a)({},t),t.targetDesc),{},{gotoUse:e.gotoUse.bind(e,t),cancelUse:e.cancelUse.bind(e,t),gotoChange:e.gotoChange.bind(e,t)}))},"item".concat(o))})):null}),o.length>4?Object(N.jsxs)(u.j,{onClick:this.loadGiftsMore1.bind(this),className:b.a.loadMore,children:[n?"收起":"查看更多",Object(N.jsx)(u.c,{className:[n?b.a.loadMoreIMgTrans:b.a.loadMoreIMg].join(" "),src:"https://storage.360buyimg.com/wximg/common/arrow-bottom2.png"})]}):""]})}},{key:"gotoChange",value:function gotoChange(e){var t=this;Object(k.a)().then((function(o){var a,n,s;Object(w.f)({exchangeId:e.id,cityId:o.cityId||o.areaCode||o.cityCode||o.code||o.RNuserCityId||"",activityCode:(null===(a=e.targetDesc)||void 0===a?void 0:a.activityCode)||"",serviceVersion:2,consumeCode:"",grabChannel:"vip_index_page",platform:"H5",requestor:"vplus",storeId:(null===(n=e.targetDesc)||void 0===n||null===(s=n.params)||void 0===s?void 0:s.storeId)||""}).then((function(o){if(0==o.code&&o.result.vip){var a=o&&o.result,n=a.sourcePackage,s=a.targetPackage,i=a.title,c=a.subTitle,r=a.storeLogo,l=a.exchangeFlag;t.setState({showPoup:!0,exchangeData:{title:i,subTitle:c,sourcePackage:n,targetPackage:s,storeLogo:r,id:e.id||"",exchangeFlag:l,buttonTitle:"确定兑换",grabChannel:"vip_index_page"},consumeCode:n.activityCode})}})).catch((function(e){m.a.showToast({title:e.msg||"网络开小差，请稍后重试",icon:"none",duration:1500})}))})).catch((function(e){}))}},{key:"gotoUse",value:function gotoUse(e){var t=(null==e?void 0:e.targetDesc)||{},o=t.couponId,a=t.activityCode,n={markState:t.markState,code:a};Object(P.a)({couponId:o,code:a,passThroughParam:n})}},{key:"cancelUse",value:function cancelUse(e){console.log("cancelUse item :>> ",e),this.cancelCouponCheck(e)}},{key:"cancelCouponCheck",value:function cancelCouponCheck(e){var t=this;Object(k.a)().then((function(o){var a,n,s;console.log("item---撤销",e);var i,c,r={cityId:o.cityId,pin:Object(j.a)("PDJ_H5_PIN")||Object(j.a)("pin")||Object(j.a)("PDJ_H5_JDPIN"),activityCode:(null===(a=e.targetDesc)||void 0===a?void 0:a.activityCode)||"",serviceVersion:2,consumeCode:"",grabChannel:"vip_allowance_page",platform:"H5",requestor:"vplus",exchangeId:e.id,exchangeFlag:7};null!==(n=e.targetDesc)&&void 0!==n&&null!==(s=n.params)&&void 0!==s&&s.storeId&&(r.storeId=(null===(i=e.targetDesc)||void 0===i||null===(c=i.params)||void 0===c?void 0:c.storeId)||"");Object(w.f)(r).then((function(o){if(0==o.code&&o.result.vip){var a=o&&o.result,n=a.sourcePackage,s=a.targetPackage,i=a.title,c=a.subTitle,r=a.storeLogo,l=a.exchangeFlag;t.setState({exchangeData:{title:i,subTitle:c,sourcePackage:n,targetPackage:s,storeLogo:r,id:e.id||"",grabChannel:"vip_allowance_page",exchangeFlag:l,buttonTitle:"确定撤销兑换？"},consumeCode:n.activityCode,showCancelPoup:!0})}else m.a.showToast({title:"您的会员已过期，无法撤销兑换～",icon:"none"})})).catch((function(e){m.a.showToast({title:e.msg||"网络开小差，请稍后重试",icon:"none",duration:1500})}))})).catch((function(e){}))}},{key:"closeCancelUse",value:function closeCancelUse(){this.setState({showCancelPoup:!1})}},{key:"componentDidMount",value:function componentDidMount(){}},{key:"loadGiftsMore1",value:function loadGiftsMore1(){var e=this.state.showMore;this.setState({showMore:!e})}},{key:"loadGiftsMore",value:function loadGiftsMore(){var e=this;try{if(!this.switchMoreFlag)return;this.switchMoreFlag=!1,Object(w.H)({page:this.pageCount,size:20}).then((function(t){var o;(e.switchMoreFlag=!0,0==t.code)&&e.setState({allanceList:(null===(o=t.result)||void 0===o?void 0:o.list)||[]},(function(){console.log(e.state.allanceList)}))})).catch((function(t){e.switchMoreFlag=!0,console.log(t)}))}catch(e){this.switchMoreFlag=!0,console.log(e)}}}]),OpenedBox}(d.default.Component);t.a=U},,,function(e,t,o){"use strict";o.r(t);o(68);var a=o(13),n=o(11),s=o(42),i=o(5);n.container.get(n.SERVICE_IDENTIFIER.Hooks).initNativeApiImpls=[a.c.initNativeApi];var c={pages:["pages/index/index"],subPackages:[{root:"pages/vipChannel-t/",pages:["index"],independent:!0},{root:"pages/merchant-t/",pages:["agreement/index"],independent:!0},{root:"pages/vpaymember_t/",pages:["home/index","memberGoods/index","packageSelection/index","rightsInstruction/index","memberDay/index","couponTab/index","couponTabNew/index","exchangePage/index","instructions/index","envelopesRecord/index","bountyList/index","discountList/index","manageRenew/index","payResult/index","toVPlusCenterPage/index"],independent:!0},{root:"pages/test-t/",pages:["hy/index"]}],permission:{"scope.userLocation":{desc:"你的位置信息将用获取最近的门店信息"}},plugins:{loginPlugin:{version:"1.5.1",provider:"wxefe655223916819e"},"live-player-plugin":{version:"1.3.5",provider:"wx2b03c6e691cd7370"}},window:{backgroundTextStyle:"light",navigationBarBackgroundColor:"#fff",navigationBarTitleText:"WeChat",navigationBarTextStyle:"black"}};n.window.__taroAppConfig=c;class App extends i.Component{render(){return this.props.children}}Object(s.a)(App,i,i.default,c);var r=o(164).default;Page(Object(n.createPageConfig)(r,"pages/vpaymember_t/home/index",{},{navigationBarTitleText:"会员中心",navigationBarBackgroundColor:"#ffffff",navigationBarTextStyle:"black"}||{}))},,function(e,t,o){"use strict";o.r(t),function(e,a){var n=o(48),s=o(30),i=o(22),c=o(39),r=o(6),l=o(7),d=o(15),_=o(8),m=o(9),u=o(10),p=(o(113),o(5)),b=o(3),j=o.n(b),h=o(1),g=o(32),x=o.n(g),v=o(14),O=o(16),f=o(33),y=o(54),N=o(4),C=o(20),w=o(26),I=o(123),k=o(124),T=o(57),B=o(50),P=o(60),S=o(89),L=o(144),D=o(99),M=o(125),E=o(145),R=o(159),F=o(0),A=!0,H=!0,G=function(t){Object(_.a)(Index,t);var o,p,g=Object(m.a)(Index);function Index(e){var t;return Object(r.a)(this,Index),t=g.call(this,e),Object(u.a)(Object(d.a)(t),"pageCount",void 0),Object(u.a)(Object(d.a)(t),"jumpUrl",void 0),Object(u.a)(Object(d.a)(t),"userAction",void 0),Object(u.a)(Object(d.a)(t),"shouldGetShopFlag",void 0),Object(u.a)(Object(d.a)(t),"shouldGetAllanceExFlag",void 0),Object(u.a)(Object(d.a)(t),"childOpenedBox",void 0),Object(u.a)(Object(d.a)(t),"handleInit",(function(){t.pageCount=1,t.shouldGetShopFlag=!1,t.shouldGetAllanceExFlag=!1,Object(y.a)().then((function(e){t.getPlusMain(e)})).catch((function(e){t.setState({tipObj:{tipType:"noWifi",tipMsg:"未获取到地理位置"}})}))})),Object(u.a)(Object(d.a)(t),"getPlusMain",(function(e){var o,a,n=((null===(o=Object(b.getCurrentInstance)())||void 0===o||null===(a=o.router)||void 0===a?void 0:a.params)||{}).channel,s={longitude:e.longitude||"",latitude:e.latitude||"",cityId:e.cityId||e.areaCode||e.cityCode||e.code||e.RNuserCityId||"",userCardType:-1,requestor:"vplus-home",pageVersion:"V9",pointChannel:n};Object(O.k)(s).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.result;if(o.floorList&&0==o.floorList.length)t.setState({isLoading:!1,tipObj:{tipType:"noWifi",tipMsg:"活动结束啦，下次早点来哦~"}}),j.a.hideLoading();else{var a=s.longitude,n=s.latitude,i=s.cityId,c={isLoading:!1,vipFlag:o.vipFlag,addressObj:{longitude:a,latitude:n,cityId:i},tipType:"",tipMsg:"",tipsText:o.tipsText||"",userCardType:o.userCardType};t.dealData(o,s,c)}j.a.hideLoading()})).catch((function(e){console.log("api_plus_main_new-",e),t.setState({isLoading:!1,tipObj:{tipType:"noWifi",tipMsg:(e||{}).msg||""}}),j.a.hideLoading()}))})),t.state={addressObj:{},tipObj:{tipType:"",tipMsg:"",tipsText:""},isLoading:!0,userCardType:"",toStoreHide:!0,toStoreItem:{storeLogo:"",storeName:"",allStartNum:[],halfStartNum:0,storeScore:"0",monthSale:"0",quota:"0",limitRule:""},merchantNewData:{showMerchantMore:null,floorItem:[]},loadingStore:!1,openedData:{},notOpenData:{},vipGoodsList:[],isLoginFlag:!1,storeRpList:[],vipGoodsListTotal:0,shopQuata:"",showMoreFlag:!0,showRpListLoad:!0,vipFlag:0,showOldHead:!1,showSurprisePop:!1,surprisePopObj:{},rightsNum:1,storeRpImg:""},t.pageCount=1,t.jumpUrl="",t.shouldGetShopFlag=!1,t.shouldGetAllanceExFlag=!1,t}return Object(l.a)(Index,[{key:"throttle",value:function throttle(e){var t=arguments,o=this,a=null;return function(){a||(a=setTimeout((function(){e.apply(o,t),a=null}),200))}}},{key:"windScroll",value:function windScroll(){var t=this;a.onscroll=function(){var o=Object(c.a)(Object(i.a)().mark((function _callee(o){var a,n,s;return Object(i.a)().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(a=e.documentElement.scrollTop||e.body.scrollTop,n=e.documentElement.clientHeight||e.body.clientHeight,s=e.documentElement.scrollHeight||e.body.scrollHeight,!(a+n+200>=s)){o.next=16;break}if(!t.shouldGetShopFlag||!A){o.next=15;break}return A=!1,o.prev=6,o.next=9,t.throttle(t.getStoreList());case 9:A=!0,o.next=15;break;case 12:o.prev=12,o.t0=o.catch(6),A=!0;case 15:console.log("已触底",A,t.shouldGetShopFlag);case 16:case"end":return o.stop()}}),_callee,null,[[6,12]])})));return function(e){return o.apply(this,arguments)}}()}},{key:"componentDidShow",value:(p=Object(c.a)(Object(i.a)().mark((function _callee2(){var e,t,o,a,n;return Object(i.a)().wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return(o=(null===(e=Object(b.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{}).userAction&&(this.userAction=decodeURIComponent(o.userAction)),a="",o.userCardType&&(a=o.userCardType),n=!1,s.prev=5,s.next=8,Object(f.b)();case 8:n=s.sent,s.next=14;break;case 11:s.prev=11,s.t0=s.catch(5),n=!1;case 14:this.handleInit(),this.setState({isLoginFlag:n,userCardType:a}),Object(v.b)({page_name:"newvippage",create_time:new Date}),this.setReturnUrl();case 18:case"end":return s.stop()}}),_callee2,this,[[5,11]])}))),function componentDidShow(){return p.apply(this,arguments)})},{key:"componentDidHide",value:function componentDidHide(){a.onscroll=null}},{key:"setReturnUrl",value:function setReturnUrl(){var e,t,o=(null===(e=Object(b.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{},a="";for(var n in o)a=a+"&"+n+"="+o[n];a=a.substring(1),this.jumpUrl="/pages/vpaymember_t/home/index?".concat(a)}},{key:"componentDidMount",value:function componentDidMount(){var e,t,o=this;var a=(null===(e=Object(b.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{},n=a.payState,s=void 0===n?"":n,i=a.business,c=void 0===i?"":i,r=a.storeId,l=void 0===r?"":r,d=a.fromChannel,_=void 0===d?"":d;a.channel;getApp().globalData.qrcode.business=c,"paySuccess"==s&&j.a.showToast({icon:"none",title:"恭喜！您已开通会员 快去使用会员特权吧"}),_&&(j.a.showModal({title:"",content:"已开通V+会员，可享会员权益",confirmText:"查看权益",cancelText:"返回上级",success:function success(e){e.confirm?Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"clickLayer",click_par:{type:"viewRights"}}):e.cancel&&o.goBack()}}),Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"showLayer",click_par:{type:"viewRights"}})),"paySuccess"==s&&l&&""!=l&&(Object(O.K)({storeId:l||""}).then((function(e){if(0==e.code&&e.result){var t=e.result||{};if(t.storeStar){for(var a,n=[],s=Math.floor(t.storeStar),i=0;i<s;i++)n[i]=i;a=t.storeStar%1>0?t.storeStar%1*100:0,t.allStartNum=n,t.halfStartNum=a}o.setState({toStoreHide:!1,toStoreItem:t})}})).catch((function(e){console.error("storeInfoFun"+e)})),Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"show_storepop",click_par:{storeId:l}})),Object(O.D)({}).then((function(e){0==e.code&&e.result&&e.result.pic&&o.setState({showSurprisePop:!0,surprisePopObj:e.result})}))}},{key:"dealRightsNum",value:function dealRightsNum(e){var t=e.vipGoodsListObj,o=e.vipRights,a=1;try{if(t||o&&o.floorItem&&o.floorItem.length){if(t&&o&&o.floorItem&&o.floorItem.length)return void(a=3);a=!t&&o&&o.floorItem&&o.floorItem.length||t&&!(o&&o.floorItem&&o.floorItem.length)?2:1}}catch(e){console.log("error",e)}return a}},{key:"dealData",value:function dealData(e,t,o){var a,n,i=this;console.log(e);null===(a=Object(b.getCurrentInstance)())||void 0===a||null===(n=a.router)||void 0===n||n.params,this.state.isLoginFlag;var c,r={},l={},d="",_="",m=!1;try{var u={125:"bannerData",130:"vipCouppons",131:"allowanceData",301:"newHeadData",140:"shopsData",145:"vipRights",200:"btnData",210:"vipGoodsListObj",300:"headData",400:"marqueeData",401:"rightsOne",402:"rightsTwo",610:"headData",620:"aountInfoData",630:"bannerData",635:"couponInfoData",660:"couponPlusData",690:"vipRights",641:"taskListObj",671:"allanceExList"};e.floorList.map((function(t){0==e.vipFlag||3==e.vipFlag?r[u[t.floorType]]=t:1==e.vipFlag&&(l[u[t.floorType]]=t),210==t.floorType&&(m=!0),635==t.floorType&&(c=t.floorItem?t.floorItem:""),671==t.floorType&&(i.shouldGetAllanceExFlag=!0),700==t.floorType&&(i.shouldGetShopFlag=!0)}))}catch(e){console.log(e)}var p={};0!=e.vipFlag&&3!=e.vipFlag||(p.righsNum=this.dealRightsNum(r)),1==e.vipFlag?(l.newHeadData?(l.headData=l.newHeadData.floorItem,p=Object(s.a)({openedData:l,showOldHead:!1},o)):(l.headData&&l.headData.floorItem?l.headData=Object(s.a)(Object(s.a)({},e.topFloor),l.headData.floorItem):l.headData=e.topFloor,p=Object(s.a)({openedData:l,showOldHead:!0},o)),c&&c.couponInfoResultList&&c.couponInfoResultList.length&&c.couponInfoResultList.map((function(e){1==e.couponType?d+=e.couponId+",":_+=e.couponId+","})),Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"exchangeVipDay",click_par:{platCouponList:_,storeCouponList:d,type:"open"}})):r.newHeadData?(r.headData=r.newHeadData.floorItem,p=Object(s.a)({notOpenData:r,showOldHead:!1},o)):(r.headData=r.headData&&r.headData.floorItem?Object(s.a)(Object(s.a)({},e.topFloor),r.headData.floorItem):e.topFloor,p=Object(s.a)({notOpenData:r,showOldHead:!0},o)),this.setState(p,(function(){0})),this.shouldGetShopFlag&&(this.setState({loadingStore:!0}),setTimeout((function(){i.getStoreList()}),300)),this.shouldGetAllanceExFlag&&setTimeout((function(){i.childOpenedBox&&i.childOpenedBox.loadGiftsMore&&i.childOpenedBox.loadGiftsMore()}),300),r.shopsData?setTimeout((function(){i.getNearBigCouponFn("firstLoad",t)}),300):this.setState({showRpListLoad:!1}),m&&this.getGoodsList()}},{key:"postMessageToNative",value:function postMessageToNative(){for(var e=this,t=[],o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];s.forEach((function(o){"object"==Object(n.a)(e.getElePosition(o))&&t.push(e.getElePosition(o))})),console.log("坐标idPosition:",t),N.b&&a.djJava.setDispatchEventArea(JSON.stringify(t))}},{key:"getElePosition",value:function getElePosition(t){var o=e.getElementById(t);if(!o)return"";var a=o.clientLeft,n=this.getOffsetT(o);return{x1:a,y1:n,x2:a+screen.width,y2:n+o.offsetHeight}}},{key:"getOffsetT",value:function getOffsetT(e){for(var t=e.offsetTop,o=e.offsetParent;null!=o;)t+=o.offsetTop,o=o.offsetParent;return t}},{key:"getGoodsList",value:function getGoodsList(){var e=this;this.state.vipFlag;Object(O.n)({page:1,size:9}).then((function(t){0==t.code&&e.setState({vipGoodsList:t.result.skuVipPriceVos,vipGoodsListTotal:t.result.total})})).catch((function(e){console.log(e)}))}},{key:"getStoreList",value:function getStoreList(){var e=this,t=this.state.merchantNewData,o=t.showMerchantMore,a=t.floorItem,n=void 0===a?[]:a;if(!1!==o)try{if(!H)return;H=!1,console.log("开始加载更多精选商家"),Object(O.j)({pageCount:this.pageCount,pageVersion:"V9"}).then((function(t){if(H=!0,0==t.code){var o=1==e.pageCount?t.result.storeExtInfoList:n.concat(t.result.storeExtInfoList),a=!!t.result.storeExtInfoList.length&&t.result.showMore;e.pageCount++,e.setState({merchantNewData:{showMerchantMore:a,floorItem:o}})}e.setState({loadingStore:!1})})).catch((function(t){H=!0,e.setState({loadingStore:!1}),console.log(t)}))}catch(e){console.log(e)}}},{key:"onReachBottom",value:function onReachBottom(){console.log("走onReachBottom"),this.shouldGetShopFlag&&(console.log("加载更多精选商家"),this.getStoreList())}},{key:"goRule",value:function goRule(){var e,t,o=(null===(e=Object(b.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{};Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"clickRule",click_par:{site:"down"}}),Object(C.b)({url:"/pages/vpaymember_t/instructions/index?page=question",type:"findpage"==o.channel?"openNewWeb":""})}},{key:"toExchangePage",value:function toExchangePage(){var e,t,o=this.state.vipFlag,a=(null===(e=Object(b.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{};Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"clickButton",click_par:{text:"兑换会员",type:{1:"open",0:"notOpen",3:"past "}[o]}}),Object(C.b)({url:"/pages/vpaymember_t/exchangePage/index?vipFlag=".concat(o),type:"findpage"==a.channel?"openNewWeb":""})}},{key:"toOpen",value:function toOpen(e){var t,o,a=(null===(t=Object(b.getCurrentInstance)())||void 0===t||null===(o=t.router)||void 0===o?void 0:o.params)||{},n=this.state,s=n.isLoginFlag,i=n.vipFlag;if(s){Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"clickOpen",click_par:{type:{1:"open",0:"notOpen",3:"past "}[i],site:"down"}});var c="";c="findpage"==a.channel?e?"payFrom=appTab&vipFlag=".concat(i,"&userCardType=").concat(e,"&h5=#newPay"):"payFrom=appTab&vipFlag=".concat(i,"&h5=#newPay"):e?"vipFlag=".concat(i,"&userCardType=").concat(e,"&h5=#newPay"):"vipFlag=".concat(i,"&h5=#newPay"),Object(C.b)({url:"/pages/vpaymember_t/packageSelection/index?".concat(c),type:"findpage"==a.channel?"openNewWeb":""})}else Object(f.a)()}},{key:"getNearBigCouponFn",value:(o=Object(c.a)(Object(i.a)().mark((function _callee3(e,t){var o,a,n,s,c,r,l,d,_,m,u,p,j,h,g,x,v,f,y,N,C;return Object(i.a)().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(n=this.state,s=n.showMoreFlag,c=n.storeRpList,r=n.notOpenData,l=n.addressObj,d=n.shopQuata,m=(_=t||l).longitude,u=_.latitude,p=_.cityId,null===(o=Object(b.getCurrentInstance)())||void 0===o||null===(a=o.router)||void 0===a||a.params,s){i.next=5;break}return i.abrupt("return");case 5:if(j=r.btnData?r.btnData.redPacketId:"",i.prev=6,"more"!=e){i.next=13;break}return i.next=10,Object(O.v)({longitude:m,latitude:u,cityId:p,redPacketId:j,pageVersion:"V9"});case 10:i.t0=i.sent,i.next=16;break;case 13:return i.next=15,Object(O.u)({longitude:m,latitude:u,cityId:p,redPacketId:j,pageVersion:"V9"});case 15:i.t0=i.sent;case 16:0==(h=i.t0).code?(g=[],x=!1,v="","more"==e?(g=null!==(f=h.result)&&void 0!==f&&null!==(y=f.merchantsLoadMoreResult)&&void 0!==y&&y.length?c.concat(h.result.merchantsLoadMoreResult):c,x=!!h.result.merchantsLoadMoreResult.length):(null!==(N=h.result)&&void 0!==N&&null!==(C=N.storeRpList)&&void 0!==C&&C.length?g=h.result.storeRpList:v=h.result.picUrl,x=h.result.showMore),this.setState({storeRpList:g,showMoreFlag:x,shopQuata:"more"==e?d:h.result.quota,showRpListLoad:!1,storeRpImg:v},(function(){}))):this.setState({showRpListLoad:!1}),i.next=24;break;case 20:i.prev=20,i.t1=i.catch(6),this.setState({showRpListLoad:!1}),console.log("获取大额红包",i.t1);case 24:case"end":return i.stop()}}),_callee3,this,[[6,20]])}))),function getNearBigCouponFn(e,t){return o.apply(this,arguments)})},{key:"closePop",value:function closePop(){this.setState({toStoreHide:!0})}},{key:"goBack",value:function goBack(){j.a.navigateBack({delta:2})}},{key:"renderNotOpen",value:function renderNotOpen(){var e,t,o,a,n,s,i,c=this.state,r=c.userCardType,l=c.storeRpList,d=c.shopQuata,_=c.notOpenData,m=c.vipFlag,u=c.showRpListLoad,p=c.isLoginFlag,b=c.vipGoodsList,j=c.vipGoodsListTotal,g=c.showOldHead;console.log("buttonStyleResult?.floorConfigDataList",null===(e=_.btnData)||void 0===e||null===(t=e.floorItem)||void 0===t||null===(o=t.buttonStyleResult)||void 0===o?void 0:o.floorConfigDataList);var v=_.headData,O=(_.vipRights,_.vipCouppons),f=_.marqueeData,y=_.shopsData,N=_.btnData,C=_.bannerData,w=_.vipGoodsListObj,T=_.allowanceData,P=_.rightsTwo,D=_.rightsOne,R=f&&f.floorItem?f.floorItem:[];return Object(F.jsxs)(h.a,{children:[v?Object(F.jsx)(k.a,{vipFlag:m,marqueeData:R,headData:v,showOldHead:g,userCardType:r}):"",Object(F.jsxs)(h.j,{className:[x.a.notopenContent,3==m?g?x.a.notopenContentTransOld:x.a.notopenContentTrans:""].join(" "),children:[Object(F.jsx)(h.j,{className:x.a.topTitBgBox,children:Object(F.jsx)(h.c,{mode:"aspectFit",className:x.a.topTitBg,src:"https://storage.360buyimg.com/wximg/member/vPTopTit.png"})}),Object(F.jsxs)(h.j,{className:x.a.notopenInner,children:[O&&O.floorItem&&O.floorItem.rpList&&O.floorItem.rpList.length?this.renderCoupons(O):null,T&&null!=T&&null!==(a=T.floorItem)&&void 0!==a&&a.allowanceImage?Object(F.jsx)(E.a,{data:T}):null,l?Object(F.jsx)(h.j,{id:"shopsDataScrollView",children:l&&l.length&&l.length>3?Object(F.jsx)(L.a,{needMarTop:!!T,loadMore:this.getNearBigCouponFn.bind(this,"more"),vipFlag:m,data:l,shopQuata:d,secondTitle:y.secondTitle,title:y.title}):u?Object(F.jsx)(B.a,{selfStyle:!0}):Object(F.jsx)(h.c,{mode:"aspectFit",className:x.a.defaultI,src:"https://storage.360buyimg.com/wximg/member/vPShopDef.png"})}):null]}),C&&C.floorItem?Object(F.jsx)(h.j,{id:"vPlusBannerBoxNot",className:x.a.bannerBox,children:Object(F.jsx)(I.a,{imgArr:C.floorItem,indicatorDots:C.floorItem&&C.floorItem.length>1,form:"vip",autoplay:!0,jumpPage:this.jumpPage.bind(this)})}):"",w||D&&D.floorItem||P&&P.floorItem?Object(F.jsx)(h.j,{className:x.a.moreRightsTit,children:"更多特权等你拿"}):"",w?Object(F.jsxs)(h.j,{className:x.a.rightsAreaBox,children:[Object(F.jsx)(h.j,{className:x.a.rightsNum,children:"特权1"}),Object(F.jsx)(M.a,{vipGoodsListObj:w,vipGoodsListTotal:j,vipFlag:m,vipGoodsList:b,isLoginFlag:p})]}):"",D&&D.floorItem?Object(F.jsxs)(h.j,{onClick:this.goRightsDetial.bind(this,D.floorItem.type,D.floorItem.vpId),className:[x.a.rightsAreaBox,x.a.noPadding].join(" "),children:[Object(F.jsx)(h.j,{className:x.a.rightsNum,children:w?"特权2":"特权1"}),Object(F.jsx)(h.j,{className:x.a.rightsAreaImg,style:{backgroundImage:"url(".concat(D.floorItem.image,")")}})]}):"",P&&P.floorItem?Object(F.jsxs)(h.j,{className:x.a.rightsAreaFlex,children:[Object(F.jsxs)(h.j,{onClick:this.goRightsDetial.bind(this,P.floorItem.leftImage.type,P.floorItem.leftImage.vpId),className:[x.a.rightsAreaBox,x.a.noPadding].join(" "),children:[Object(F.jsx)(h.j,{className:x.a.rightsNum,children:w?"特权3":"特权2"}),Object(F.jsx)(h.j,{className:x.a.rightsAreaImg,style:{backgroundImage:"url(".concat(P.floorItem.leftImage.image,")")}})]}),Object(F.jsxs)(h.j,{onClick:this.goRightsDetial.bind(this,P.floorItem.rightImage.type,P.floorItem.rightImage.vpId),className:[x.a.rightsAreaBox,x.a.noPadding].join(" "),children:[Object(F.jsx)(h.j,{className:x.a.rightsNum,children:w?"特权4":"特权3"}),Object(F.jsx)(h.j,{className:x.a.rightsAreaImg,style:{backgroundImage:"url(".concat(P.floorItem.rightImage.image,")")}})]})]}):"",Object(F.jsx)(h.j,{className:[x.a.yellowBg,0==m?x.a.notopenContentTrans:""].join(" "),children:null!=N&&null!==(n=N.floorItem)&&void 0!==n&&null!==(s=n.buttonStyleResult)&&void 0!==s&&null!==(i=s.floorConfigDataList)&&void 0!==i&&i.length?Object(F.jsx)(S.a,{pageName:"newvippage",vipFlag:m,type:"newStyle",data:N.floorItem.buttonStyleResult.floorConfigDataList}):""})]})]})}},{key:"render",value:function render(){var e,t,o=this,a=((null===(e=Object(b.getCurrentInstance)())||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{}).channel,n=this.state,s=n.tipObj,i=n.addressObj,c=n.vipFlag,r=n.openedData,l=void 0===r?{}:r,d=n.notOpenData,_=void 0===d?{}:d,m=n.isLoginFlag,u=n.userCardType,p=n.toStoreHide,j=n.toStoreItem,g=n.merchantNewData,v=n.vipGoodsListTotal,O=n.vipGoodsList,f=n.showOldHead,y=n.showSurprisePop,N=n.surprisePopObj,C=s.tipType,w=s.tipMsg;return console.log("s"),C?Object(F.jsx)(P.a,{type:C,msg:w,style:{height:"100vh"},longitude:i.longitude,cityId:i.cityId,latitude:i.latitude,jumpUrl:this.jumpUrl,handlerReload:this.handleInit}):1==c?Object(F.jsxs)(h.j,{className:[x.a.vipMemberBox,l.btnData?"findpage"==a?x.a.pdbtm_find:x.a.pdbtm:""].join(" "),children:[Object(F.jsx)(R.a,{ref:function ref(e){return o.childOpenedBox=e},userCardType:u,toStoreHide:p,toStoreItem:j,merchantNewData:g,vipFlag:c,vipGoodsListTotal:v,vipGoodsList:O,isLoginFlag:m,showOldHead:f,openedData:l,handleInit:this.handleInit.bind(this),closePop:this.closePop.bind(this),getStoreList:this.getStoreList.bind(this),jumpPage:this.jumpPage.bind(this)}),l.btnData&&l.btnData.floorItem?Object(F.jsx)(D.a,{channel:a,vipFlag:c,isLoginFlag:m,jumpUrl:this.jumpUrl,data:l.btnData}):null,Object(F.jsx)(T.a,{isShow:y,isNeedCloseIcon:!1,onPopEvent:function onPopEvent(){o.setState({showSurprisePop:!1})},onClickPop:this.jumpToUrl.bind(this),children:Object(F.jsx)(h.j,{className:x.a.layerIndexBox,style:{backgroundImage:N.pic},children:Object(F.jsx)(h.j,{className:x.a.layerIndexBtn,children:N.btnTitle})})})]}):Object(F.jsxs)(h.j,{className:x.a.vipMemberBoxNotOpen,children:[0==c||3==c?this.renderNotOpen():null,_.btnData&&_.btnData.floorItem?Object(F.jsx)(D.a,{channel:a,vipFlag:c,isLoginFlag:m,jumpUrl:this.jumpUrl,data:_.btnData}):null,Object(F.jsx)(T.a,{isShow:y,isNeedCloseIcon:!1,onPopEvent:this.jumpToUrl.bind(this),onClickPop:this.jumpToUrl.bind(this),bgColor:"transparent",children:Object(F.jsx)(h.j,{className:x.a.layerIndexBox,style:{backgroundImage:"url(".concat(N.pic,")")},children:N.btnTitle?Object(F.jsx)(h.j,{className:x.a.layerIndexBtn,children:N.btnTitle}):""})})]})}},{key:"renderCoupons",value:function renderCoupons(e){var t=e.secondTitle,o=e.title,a=e.floorItem,n="",s="";o&&(n=o.substring(0,o.length-5),s=o.substring(o.length-5));var i=a&&a.rpList&&a.rpList.length?a.rpList[0]:"";return Object(F.jsxs)(h.j,{className:x.a.month_cou_box,children:[Object(F.jsxs)(h.j,{className:x.a.mou_title,children:[n,Object(F.jsx)(h.i,{className:x.a.red,children:s}),Object(F.jsx)(h.i,{className:x.a.des,children:t})]}),i?Object(F.jsxs)(h.j,{className:x.a.cou_box,children:[Object(F.jsxs)(h.j,{className:x.a.moneybox,children:[Object(F.jsx)(h.i,{className:x.a.cou_money,children:i.quota}),Object(F.jsx)(h.i,{className:x.a.cou_uint,children:i.quotaUnit}),Object(F.jsx)(h.i,{className:x.a.cou_chahao,children:"×"}),Object(F.jsx)(h.i,{className:x.a.cou_money,children:a.rpList.length}),Object(F.jsx)(h.i,{className:x.a.cou_uint,children:"张"})]}),Object(F.jsx)(h.j,{className:x.a.limitWord,children:i.limitWord})]}):Object(F.jsx)(h.c,{mode:"aspectFit",className:x.a.defaultS,src:"https://storage.360buyimg.com/wximg/member/defaultShops.png"})]})}},{key:"goRightsDetial",value:function goRightsDetial(e,t){var o,a;console.log("new");null===(o=Object(b.getCurrentInstance)())||void 0===o||null===(a=o.router)||void 0===a||a.params;Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"clickModule",click_par:{type:{4:"bonus",5:"memberDay",6:"service"}[e]}}),Object(C.b)({url:"/pages/vpaymember_t/rightsInstruction/index?type=".concat(e,"&vpId=").concat(t)})}},{key:"jumpToUrl",value:function jumpToUrl(e,t){if("content"==e.type){var o=this.state.surprisePopObj;o.to&&(this.setState({showSurprisePop:!1}),Object(w.a)({to:o.to,params:o.params}))}this.setState({showSurprisePop:!1})}},{key:"jumpPage",value:function jumpPage(e){var t,o;if(e.to){null===(t=Object(b.getCurrentInstance)())||void 0===t||null===(o=t.router)||void 0===o||o.params;var a=e.param.url||"",n=this.state.vipFlag;if(Object(v.a)({page_name:"newvippage",create_time:new Date,click_id:"click_vipbanner",click_par:{bannerurl:a,vipstatus:n,type:{1:"open",0:"notOpen",3:"past "}[n]}}),"web"==e.to)if(a.indexOf("activityPage")>-1){var s=a.split("?")[1];Object(C.b)({url:"/pages/activity/homeFocus/index?"+s})}else j.a.showToast({icon:"none",title:"抱歉，暂不支持跳转"});else"activityDetail"==e.to?Object(w.a)({to:"activityDetail",params:{activityId:e.param.activityId}}):"store"==e.to&&Object(w.a)({to:"store",params:{storeId:e.param.storeId,orgCode:e.param.orgCode,skuId:e.skuId||"",needAnchorSku:!0}})}}}]),Index}(p.Component);t.default=G}.call(this,o(11).document,o(11).window)}],[[162,0,17]]]);