require("../runtime"),require("../vendors"),(wx["webpackJsonp/pages/vpaymember_t/"]=wx["webpackJsonp/pages/vpaymember_t/"]||[]).push([[3],{100:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(8),c=n(9),r=n(5),s=n(1),l=n(148),d=n.n(l),u=n(0),p=function(e){Object(o.a)(NoneData,e);var t=Object(c.a)(NoneData);function NoneData(e){return Object(a.a)(this,NoneData),t.call(this,e)}return Object(i.a)(NoneData,[{key:"render",value:function render(){return Object(u.jsx)(s.j,{className:d.a.noHave,children:"暂无数据～"})}}]),NoneData}(r.Component);t.a=p},104:function(e,t,n){e.exports={SkeletonCmpt:"index-module__SkeletonCmpt___2fYDq",skeleton:"index-module__skeleton___2fFbc","skeleton-con":"index-module__skeleton-con___J2lJ0","skeleton-animate-blink":"index-module__skeleton-animate-blink___eJM43","skeleton-blink":"index-module__skeleton-blink___XC5b1","skeleton-animate-elastic":"index-module__skeleton-animate-elastic___1ciu3","skeleton-elastic":"index-module__skeleton-elastic___w_0Uf","skeleton-animate-gradient":"index-module__skeleton-animate-gradient___1Jn0d","skeleton-gradient":"index-module__skeleton-gradient___1pCoe"}},12:function(e,t,n){e.exports={"global-tip":"index-module__global-tip___QlHN8","body-tip-wrap":"index-module__body-tip-wrap___aPTCB","tip-wrap":"index-module__tip-wrap___22y4U","tip-box":"index-module__tip-box___T7YOL","tip-icon":"index-module__tip-icon___I7B8P","tip-icon-unLogin":"index-module__tip-icon-unLogin___1-jbT","tip-icon-noWifi":"index-module__tip-icon-noWifi___2dxuP","tip-icon-noLocation":"index-module__tip-icon-noLocation___I2R_R","tip-icon-noSearch":"index-module__tip-icon-noSearch___3tUE6","tip-icon-noShop":"index-module__tip-icon-noShop___2h2cU","tip-icon-noOpen":"index-module__tip-icon-noOpen___J1T3G","tip-icon-empty":"index-module__tip-icon-empty___xRFrr","tip-icon-close":"index-module__tip-icon-close___2ISFM","tip-icon-search":"index-module__tip-icon-search___yYaXq","tip-icon-nothing":"index-module__tip-icon-nothing___dw2s1","tip-icon-storeOffline":"index-module__tip-icon-storeOffline___1dgCh","tip-icon-searchFail":"index-module__tip-icon-searchFail___14dM7","tip-icon-noSearchBtn":"index-module__tip-icon-noSearchBtn___2nwf4","tip-message":"index-module__tip-message___1xNit",tipBtn:"index-module__tipBtn___3PI5b","search-tip-span":"index-module__search-tip-span___2I2as",android:"index-module__android___B49C3","tip-btn":"index-module__tip-btn___2puVF","msg-red-point":"index-module__msg-red-point___3Tr-v","msg-red-point-small":"index-module__msg-red-point-small___3ruUD","msg-red-point-num":"index-module__msg-red-point-num___2ivqG","reddot-server":"index-module__reddot-server___l5U76",tipText:"index-module__tipText___L-jUT"}},148:function(e,t,n){e.exports={noHave:"index-module__noHave___3U5E9",img:"index-module__img___8T1VE"}},149:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(15),c=n(8),r=n(9),s=n(10),l=n(5),d=n(1),u=n(3),p=n.n(u),_=n(104),m=n.n(_),h=n(0),b=function(e){Object(c.a)(Skeleton,e);var t=Object(r.a)(Skeleton);function Skeleton(e){var n;return Object(a.a)(this,Skeleton),n=t.call(this,e),Object(s.a)(Object(o.a)(n),"initSkeleton",(function(){console.log("解ID");var e=n.props.selector,t=void 0===e?"skeleton":e;n.getGraphList(t,"".concat(t,"-con")).then((function(e){console.log(e,"radiusListradiusListradiusList"),n.setState({radiusList:e})})),n.getGraphList(t,"".concat(t,"-rect")).then((function(e){n.setState({rectList:e}),console.log(e,"解ID")}))})),Object(s.a)(Object(o.a)(n),"getGraphList",(function(e,t){return new Promise((function(n){p.a.createSelectorQuery().selectAll(".".concat(e," >>> .").concat(t)).boundingClientRect().exec((function(e){n(e[0])}))}))})),n.state={radiusList:[],rectList:[]},n}return Object(i.a)(Skeleton,[{key:"render",value:function render(){var e=this.props.loading,t=void 0!==e&&e,n=this.state,a=n.radiusList,i=n.rectList;return Object(h.jsx)(d.j,{children:t&&Object(h.jsxs)(d.j,{className:"".concat(m.a.SkeletonCmpt),children:[a.map((function(e,t){return Object(h.jsx)(d.j,{className:"".concat(m.a.skeleton," ").concat(m.a["skeleton-con"]),style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),top:"".concat(e.top,"px"),left:"".concat(e.left,"px")}},t)})),i.map((function(e,t){return Object(h.jsx)(d.j,{className:"".concat(m.a.skeleton," ").concat(m.a["skeleton-animate-gradient"]),style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),top:"".concat(e.top,"px"),left:"".concat(e.left,"px")}},"rectItem".concat(t))}))]})})}}]),Skeleton}(l.Component);t.a=b},150:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(8),c=n(9),r=n(5),s=n(1),l=n(80),d=n.n(l),u=n(0),p=function(e){Object(o.a)(packageItem,e);var t=Object(c.a)(packageItem);function packageItem(e){return Object(a.a)(this,packageItem),t.call(this,e)}return Object(i.a)(packageItem,[{key:"selectPackage",value:function selectPackage(e){this.props.selectPackage&&this.props.selectPackage(e)}},{key:"render",value:function render(){var e=this.props,t=e.cardInfo,n=e.userCardType;console.log("userCardType",n,t.cardType);var a=t.cardType==n?[d.a.price,d.a.currentPrice].join(" "):d.a.price;return Object(u.jsxs)(s.j,{className:[d.a.scroll,n==t.cardType?d.a.current:"","skeleton-rect"].join(" "),onClick:this.selectPackage.bind(this,t),children:[t.tipText?Object(u.jsx)(s.j,{className:d.a.remark,children:t.tipText}):"",Object(u.jsx)(s.j,{className:d.a.cardName,children:t.cardName}),Object(u.jsxs)(s.j,{className:d.a.money,children:[Object(u.jsx)(s.i,{className:d.a.unit,children:"¥"}),4==t.cardType&&t.firstMonthPrice?t.firstMonthPrice:t.priceWord]}),Object(u.jsx)(s.j,{className:a,children:t.originPrice?"¥".concat(t.originPrice):"¥".concat(t.priceWord)}),t.noticeTitle?Object(u.jsx)(s.j,{className:d.a.tip,children:t.noticeTitle}):""]})}}]),packageItem}(r.Component);t.a=p},151:function(e,t,n){"use strict";(function(e){var a=n(22),i=n(39),o=n(6),c=n(7),r=n(15),s=n(8),l=n(9),d=n(10),u=n(4),p=n(5),_=n(72),m=n(14),h=n(84),b=n(33),g=(n(26),n(152)),j=n(16),f=n(3),y=n.n(f),x=n(1),O=n(45),v=n.n(O),P=n(161),k=n(20),w=n(101),T=n(0),N=function(t){Object(s.a)(BottomBtnPlusWrapNew,t);var n,p,f=Object(l.a)(BottomBtnPlusWrapNew);function BottomBtnPlusWrapNew(e){var t;return Object(o.a)(this,BottomBtnPlusWrapNew),t=f.call(this,e),Object(d.a)(Object(r.a)(t),"interval",void 0),Object(d.a)(Object(r.a)(t),"params",void 0),Object(d.a)(Object(r.a)(t),"plusAgreeHandle",(function(){Object(b.b)().then((function(){t.openVip()})).catch((function(){Object(b.a)({})}))})),Object(d.a)(Object(r.a)(t),"getPaySource",(function(){u.c||u.f||u.g||u.e;return(u.g?"isWeixin":u.c&&"isDaojiaApp")||u.f&&"isJDReactNativeWebView"||"isMiniProgram"})),Object(d.a)(Object(r.a)(t),"clickIntro",(function(e){var t="renew"==e?"page=agrement&type=renew":"page=agrement";Object(k.b)({url:"/pages/vpaymember_t/instructions/index?".concat(t)})})),t.params=y.a.getCurrentInstance().router.params,t.state={agreementCheck:!1,checkOrderParams:{},pending:!1,isNewPayFn:"B",showRenewAlert:!1,userCardType:""},t}return Object(c.a)(BottomBtnPlusWrapNew,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var e=this,t=this.props,n=t.btnNoFixed,a=t.btnData,i=t.userCardType,o=t.showBtnAnim,c=void 0!==o&&o,r=t.isAB,s=t.showAgreement,l=void 0===s||s,d=this.state,p=d.agreementCheck,_=d.isNewPayFn,m=(a||{}).id,h=void 0===m?"":m;return console.log("old_page:",r),Object(T.jsxs)(x.j,{id:h,className:[n?v.a.btnWrapNoFixed:v.a.btnPlusWrap,c?v.a.showPlusWrap:""].join(" "),children:[l?Object(T.jsxs)(x.j,{className:[v.a.agreementpop,"skeleton-radius"].join(" "),style:"",children:[Object(T.jsx)(x.c,{src:p?"https://storage.360buyimg.com/wxmini/vpay_member/11.png":"https://storage.360buyimg.com/wxmini/vpay_member/22.png",mode:"widthFix",className:"".concat(v.a.agreementCheck,' "skeleton-rect"'),onClick:this.agreementCheckBtn.bind(this)}),"我已阅读并同意",Object(T.jsx)(x.i,{onClick:function onClick(){return e.clickIntro(null)},className:[v.a.agreetext,"skeleton-rect"].join(" "),style:"",children:"V+会员服务协议"}),4==i?Object(T.jsxs)(x.a,{children:["和",Object(T.jsx)(x.i,{onClick:function onClick(){return e.clickIntro("renew")},className:[v.a.agreetext,"skeleton-rect"].join(" "),style:"",children:"自动续费协议"})]}):""]}):"","old_page"==r?Object(T.jsx)(x.j,{className:v.a.bubble,children:a.tipText?Object(T.jsxs)(x.j,{className:v.a.trangle,children:[Object(T.jsxs)(x.j,{className:v.a.bubbleText,children:[Object(T.jsx)(x.j,{className:v.a.textCont,children:a.tipText||"买一赠一"}),Object(T.jsx)(x.j,{className:v.a.trangleCont})]}),Object(T.jsx)(x.j,{className:v.a.tranglebottom})]}):""}):"","old_page"==r?Object(T.jsxs)(x.j,{className:[v.a.btnContNew,v.a.btnContNewButtom,"skeleton-rect"].join(" "),onClick:"A"===_||u.c&&u.b&&u.a<"8.19.0"?this.openVip.bind(this):this.openVipNew.bind(this),children:[Object(T.jsxs)(x.j,{className:v.a.payMsg,children:[a&&a.priceWord?Object(T.jsx)(x.j,{className:v.a.priceWord,children:Object(T.jsxs)(x.j,{className:v.a.avalibleValue,children:["¥",4==i&&a.firstMonthPrice?a.firstMonthPrice:a.priceWord]})}):"",a&&a.cardName?Object(T.jsxs)(x.j,{className:v.a.discount,children:[" ",Object(T.jsxs)(x.j,{children:["开通",a.cardName]})," "]}):""]}),Object(T.jsxs)(x.j,{className:v.a.immediateBtn,children:[Object(T.jsx)(x.j,{className:v.a.openBtnBg})," ",Object(T.jsx)(x.j,{className:"".concat(v.a.openBtnTxt),children:"立即开通"})]})]}):this.renderNewBtn(a)]})}},{key:"renderNewBtn",value:function renderNewBtn(e){var t=this.state.isNewPayFn,n=this.props.userCardType;return Object(T.jsxs)(x.j,{className:v.a.btnContNewPage,onClick:"A"===t||u.c&&u.b&&u.a<"8.19.0"?this.openVip.bind(this):this.openVipNew.bind(this),children:[Object(T.jsxs)(x.j,{className:v.a.btn_leftWrap,children:[Object(T.jsxs)(x.i,{className:v.a.btn_mon,children:["¥",4==n&&e.firstMonthPrice?e.firstMonthPrice:e.priceWord]}),Object(T.jsxs)(x.i,{className:v.a.btn_type,children:["/",e.cardName]})]}),Object(T.jsx)(x.j,{className:v.a.btn_open,children:e.joinWord||"立即开通"}),e.tipText?Object(T.jsx)(x.j,{className:v.a.btn_lable,children:e.tipText}):null]})}},{key:"agreementCheckBtn",value:function agreementCheckBtn(){var e=this;this.setState({agreementCheck:!this.state.agreementCheck},(function(){e.props.fromChannel&&Object(m.a)({page_name:"packageSelection",create_time:new Date,click_id:"selectModule",click_par:{type:"VplusAgreement",status:e.state.agreementCheck?"1":"0"}})}))}},{key:"onGoBack",value:function onGoBack(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;y.a.navigateBack({delta:e})}},{key:"refreshbCallInDjApp",value:function refreshbCallInDjApp(){var e=this;u.c&&u.b&&(this.interval&&clearInterval(this.interval),this.interval=setInterval((function(){e.getPayStatus()}),1e3))}},{key:"getPayStatus",value:function getPayStatus(){var t=this.state.checkOrderParams;t.orderId&&t.srcSystemId&&t.sign&&Object(j.I)(t).then((function(t){20===t.result&&(y.a.showToast({title:"恭喜！您已开通会员 快去使用会员特权吧!",duration:2e3,icon:"none"}),setTimeout((function(){y.a.redirectTo({url:"".concat(e.location.origin,"/html/index/user")})}),2500))})).catch((function(){y.a.showToast({title:"支付失败，请稍后再试",icon:"none",duration:2e3})}))}},{key:"showRenewTip",value:function showRenewTip(){var e=this.props.btnData;return new Promise((function(t){y.a.showModal({title:"温馨提示",content:e.buyTip,confirmText:"继续购买",cancelText:"暂不购买"}).then((function(e){console.log("弹层的结果",e),t(!!e.confirm)}))}))}},{key:"openVip",value:(p=Object(i.a)(Object(a.a)().mark((function _callee(){var t,n,i,o,c,r,s,l,d,p,b,f,x,O,v,P,T,N,S,C,I,R,B,W=this;return Object(a.a)().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(t=this.props,n=t.userCardType,i=void 0===n?"":n,o=t.cityId,c=t.btnData,r=t.storeId,s=void 0===r?"":r,l=t.goToPage,d=void 0===l?"":l,p=t.fromChannel,b={"体验卡":"expCard","月卡":"monCard","季卡":"quaCard","年卡":"yearCard","连续包月":"conMonCard"},!d){a.next=14;break}if(!c.buyTip){a.next=9;break}return a.next=6,this.showRenewTip();case 6:if(a.sent){a.next=9;break}return a.abrupt("return");case 9:return Object(k.b)({url:"".concat(d)}),f={type:"bottom",setType:b[c.cardName]||"未知"},Object(m.a)({create_time:new Date,click_id:"clickMember",click_par:f}),a.abrupt("return");case 14:if(x=this.state,O=x.agreementCheck,v=x.pending,O){a.next=18;break}return y.a.showToast({title:"请先阅读并勾选服务协议",icon:"none",duration:1500}),a.abrupt("return");case 18:if(!v){a.next=21;break}return y.a.showToast({title:"操作太快了，休息一下吧",icon:"none",duration:1500}),a.abrupt("return");case 21:if(!c.buyTip){a.next=27;break}return a.next=24,this.showRenewTip();case 24:if(a.sent){a.next=27;break}return a.abrupt("return");case 27:P={isWeixin:96,isDaojiaApp:95,isJDReactNativeWebView:108,isJDApp:114,isMiniProgram:107,isDJBrowser:-1},T=Object(w.a)()._independent_&&Object(w.a)()._independent_.mpChannel||"",N={isDaojiaApp:119,isJDReactNativeWebView:120,isDJBrowser:121,isWeixin:122,isJDApp:123,isMiniProgram:"yy_xcx"==T?203:124},S=this.getPaySource(),C=c||{},I=Object(_.a)(h.b)||{},R={payToken:C&&C.payToken,redPacketPaySource:P[S],paySource:N[S],cityId:o,redPacketId:C&&C.redPacketId,openId:I.openId||"",payMode:10,successUrl:u.c&&u.b?"openapp.jddj://communication/closeWeb":"".concat(e.location.origin,"/taro3h5/tarohtml/pages/vpaymember_t/home/index?payState=paySuccess&storeId=").concat(s),userCardType:i,pageVersion:"V9"},this.setState({pending:!0}),4==i&&(R.paySence=20),Object(j.l)(R).then((function(e){var t=e.result.payData.wechatPayVO;Object(g.a)(t).then((function(){y.a.showToast({icon:"none",title:"恭喜！您已开通会员 快去使用会员特权吧"}),p?Object(_.b)("vp_pay_success",1):setTimeout((function(){W.onGoBack()}),2500),Object(w.a)().globalData.refreshHomeFlag=!0})).catch((function(e){var t=(e||{}).msg;y.a.showToast({title:"".concat(t||"支付失败，请稍后再试~"),icon:"none",duration:2e3})})),W.setState({pending:!1})})).catch((function(e){var t=(e||{}).msg;y.a.showToast({title:"".concat(t||"网络异常，请稍后再试~"),icon:"none",duration:2e3}),W.setState({pending:!1})})),B={type:b[c.cardName]||"未知"},Object(m.a)({page_name:"packageSelection",create_time:new Date,click_id:"clickOpen",click_par:B});case 41:case"end":return a.stop()}}),_callee,this)}))),function openVip(){return p.apply(this,arguments)})},{key:"openVipNew",value:(n=Object(i.a)(Object(a.a)().mark((function _callee2(){var t,n,i,o,c,r,s,l,d,p,b,g,f,x,O,v,w,T,N,S,C,I=this;return Object(a.a)().wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(t=this.props,n=t.userCardType,i=void 0===n?"":n,o=t.btnData,c=t.storeId,r=void 0===c?"":c,s=t.goToPage,l=void 0===s?"":s,d=t.fromChannel,p=void 0===d?"":d,b={"体验卡":"expCard","月卡":"monCard","季卡":"quaCard","年卡":"yearCard","连续包月":"conMonCard"},!l){a.next=14;break}if(!o.buyTip){a.next=9;break}return a.next=6,this.showRenewTip();case 6:if(a.sent){a.next=9;break}return a.abrupt("return");case 9:return Object(k.b)({url:"".concat(l)}),g={type:"bottom",setType:b[o.cardName]||"未知"},Object(m.a)({create_time:new Date,click_id:"clickMember",click_par:g}),a.abrupt("return");case 14:if(f=this.state,x=f.agreementCheck,O=f.pending,x){a.next=18;break}return y.a.showToast({title:"请先阅读并勾选服务协议",icon:"none",duration:1500}),a.abrupt("return");case 18:if(O&&y.a.showToast({title:"操作太快了，休息一下吧",icon:"none",duration:1500}),!o.buyTip){a.next=25;break}return a.next=22,this.showRenewTip();case 22:if(a.sent){a.next=25;break}return a.abrupt("return");case 25:v=y.a.getApp().globalData&&y.a.getApp().globalData.mpChannel||"",w={isDaojiaApp:257,isJDReactNativeWebView:258,isDJBrowser:259,isWeixin:260,isJDApp:261,isMiniProgram:"yy_xcx"==v?265:264},T=this.getPaySource(),N=o||{},S=Object(_.a)(h.b)||{},C={payToken:N&&N.payToken,paySource:w[T],redPacketId:N&&N.redPacketId,openId:S.openId||"",payMode:10,userCardType:i,fromChannel:p,pageVersion:"V9"},this.setState({pending:!0}),4==i&&(C.paySence=20),Object(j.p)(C).then((function(t){var n=t.code,a=t.msg,i=t.result;if("0"===n){Object(_.b)("vp_pay_success",1),Object(_.a)("vp_pay_success"),u.f&&Object(_.b)("vp_pay_success_rn",1),(u.c||u.e)&&("appTab"==I.params.payFrom?e.shouldPostMsgNative=1:e.returnAppLink=e.returnAppLink?e.returnAppLink:"".concat(e.location.origin,"/taro3h5/tarohtml/pages/vpaymember_t/home/index?payState=paySuccess&storeId=").concat(r,"&fromChannel=").concat(p,"&channel=").concat(p,"&reactnative=").concat(u.f?"jdreact":""));var o=P.a.invoke(i.wechatPayVO);o&&o.then((function(){y.a.showToast({icon:"none",title:"恭喜！您已开通会员 快去使用会员特权吧"}),setTimeout((function(){p?Object(k.b)({url:"/pages/vpaymember_t/home/index?payState=paySuccess&storeId=".concat(r,"&fromChannel=").concat(p,"&channel=").concat(p)}):I.onGoBack()}),2500),y.a.getApp().globalData.refreshHomeFlag=!0})).catch((function(e){var t=(e||{}).msg;y.a.showToast({title:"".concat(t||"支付失败，请稍后再试~"),icon:"none",duration:1500})}))}else if("1000"==n){var c=i.contractVo,s=void 0===c?{}:c,l=s.businessContractCode;y.a.getApp().globalData.vp_entrust_pay=l,I.props.isToPageEvent(),wx.navigateToMiniProgram({appId:"wxbd687630cd02ce1d",path:"pages/index/index",extraData:JSON.parse(s.url),fail:function fail(e){y.a.showToast({title:"签约失败",icon:"none",duration:2e3})}})}else y.a.showToast({title:a||"支付失败",icon:"none",duration:2e3});I.setState({pending:!1}),Object(m.a)({page_name:"packageSelection",create_time:new Date,click_id:"clickOpen",click_par:{type:"Vplus"}})})).catch((function(e){e=e.msg?e.msg:"{}"==JSON.stringify(e)?"":JSON.stringify(e),y.a.showToast({title:e||"支付异常",icon:"none",duration:2e3}),I.setState({pending:!1})}));case 35:case"end":return a.stop()}}),_callee2,this)}))),function openVipNew(){return n.apply(this,arguments)})},{key:"getParams",value:function getParams(e){var t="";return Object.keys(e).forEach((function(n){t=""===t?"".concat(n,"=").concat(e[n]):"".concat(t,"&").concat(n,"=").concat(e[n])})),t}},{key:"abStrategy",value:function abStrategy(){var e=this,t="B";Object(j.b)().then((function(n){var a=n.code,i=n.result;if("0"===a){var o=i&&i.cashierPayStrategyName?i.cashierPayStrategyName:"B";t=o,e.setState({isNewPayFn:t}),"B"===o&&e.props.onPayModesFun&&e.props.onPayModesFun("B")}else t="B",e.setState({isNewPayFn:t})})).catch((function(){t="B",e.setState({isNewPayFn:t})}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.interval&&clearInterval(this.interval)}}]),BottomBtnPlusWrapNew}(p.Component);t.a=N}).call(this,n(11).window)},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(3),i=function openPay(e){return new Promise((function(t,n){console.log("支付参数",e),wx.requestPayment({appId:e.appid,timeStamp:e.timestamp,nonceStr:e.noncestr,package:"prepay_id="+e.prepayid,signType:e.signType||"MD5",paySign:e.sign,success:function success(e){Object(a.showToast)({title:"支付成功!",icon:"none",duration:1500,mask:!1}),t(e)},fail:function fail(e){Object(a.showToast)({title:"支付失败!",icon:"none",duration:1500,mask:!1}),n(e)}})}))}},153:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(4),i=n(3),o=n.n(i),c=n(85),r=n(20),s=function pay_app(t){a.c?(!function setDjWxPayback(t){e.wxPayback=function(t){o.a.showToast({titile:t+" .",icon:"none",duration:1500}),0==t?(e.returnAppLink&&(e.location.href=e.returnAppLink,e.returnAppLink=""),a.c&&(Object(r.c)(),1==e.shouldPostMsgNative&&(e.shouldPostMsgNative="",Object(r.a)()))):-1==t?o.a.showToast({title:"微信支付异常，请稍后再试！",icon:"none",duration:1500}):-2==t?o.a.showToast({title:"支付异常，请重新支付！",icon:"none",duration:1500}):o.a.showToast({title:"支付失败哦，请重新支付！",icon:"none",duration:1500})}}(),function djAppPay(t){if(a.d)try{a.h?e.webkit.messageHandlers.MobileNavi.postMessage({method:"toWXPay",params:JSON.stringify({timestamp:t.timestamp,packageValue:"Sign=WXPay",appid:t.appid,sign:t.sign,partnerid:t.partnerid,prepayid:t.prepayid,noncestr:t.noncestr}),callBackName:null,callBackId:null}):toWXPay(t.timestamp,"Sign=WXPay",t.appid,t.sign,t.partnerid,t.prepayid,t.noncestr)}catch(e){var n={data:JSON.stringify(t),error:JSON.stringify(e)};Object(c.a)({create_time:new Date,click_id:"djAppWxPayIos",click_par:n})}else try{console.log(djJavaJSPay,djJavaJSPay.toWXPay,"进入到家安卓"),djJavaJSPay.toWXPay(t.timestamp,"Sign=WXPay",t.appid,t.sign,t.partnerid,t.prepayid,t.noncestr)}catch(e){var i={data:JSON.stringify(t),error:JSON.stringify(e)};Object(c.a)({create_time:new Date,click_id:"djAppWxPayAndroid",click_par:i})}}(t)):a.e&&(!function setJDWxPayback(t){e.jdAppWxPayBack=function(t){0==(t=JSON.parse(t)).status?e.returnAppLink&&(e.location.href=e.returnAppLink,e.returnAppLink=""):o.a.showToast({title:"支付失败".concat(t.msg),icon:"none"})}}(),function jdAppPay(t){console.log("唤起微信支付--京东");var n={partnerId:t.partnerid,prepayId:t.prepayid,nonceStr:t.noncestr,timeStamp:t.timestamp,package:"Sign=WXPay",sign:t.sign};try{if(a.d&&a.i){console.log("支持唤起微信支付--京东");var i={method:"openWeChatPay",params:JSON.stringify(n),callBackName:"window.jdAppWxPayBack"};e.webkit.messageHandlers.JDAppUnite.postMessage(i)}else console.log("唤起微信怒支持支付--京东"),e.JDAppUnite&&e.JDAppUnite.openWeChatPay(JSON.stringify(n),"window.jdAppWxPayBack")}catch(e){var o={data:JSON.stringify(t),error:JSON.stringify(e)};console.log("唤起微信支付---异常-京东",e),Object(c.a)({create_time:new Date,click_id:"jdAppWxPay",click_par:o})}}(t))}}).call(this,n(11).window)},154:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(35),i=n(85),o=function pay_h5(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(a.c)("wxWebPay",n),Object(a.b)("showPayResultNum");var c=t.mweburl,r=t.redirectUrl,s=void 0===r?o||e.location.href:r;if(c){var l=c+"&redirect_url="+encodeURIComponent(s);location.href=l}else{var d={data:JSON.stringify(t),error:"支付失败，URL地址为空"};Object(i.a)({create_time:new Date,click_id:"H5WxPay",click_par:d})}}}).call(this,n(11).window)},155:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(8),c=n(9),r=n(5),s=n(1),l=n(76),d=n.n(l),u=n(0),p=function(e){Object(o.a)(payList,e);var t=Object(c.a)(payList);function payList(e){return Object(a.a)(this,payList),t.call(this,e)}return Object(i.a)(payList,[{key:"render",value:function render(){var e=this.props,t=e.payList,n=e.isAB;return Object(u.jsxs)(s.j,{className:"".concat(d.a.payList," ").concat("new_page"==n?d.a.noMar:d.a.hasMar," "),children:[Object(u.jsx)(s.j,{className:"".concat(d.a.payTitle," ").concat("new_page"==n?d.a.newPd:""),children:"支付方式"}),t&&t.length>0?t.map((function(e,t){return Object(u.jsxs)(s.j,{className:[d.a.payItem,"new_page"==n?d.a.newMar:""].join(" "),children:[Object(u.jsxs)(s.j,{className:d.a.payType,children:[Object(u.jsx)(s.c,{className:d.a.typeIcon,src:e.iconUrl}),Object(u.jsx)(s.i,{className:d.a.typeText,children:e.payModeName})]}),Object(u.jsx)(s.c,{className:d.a.selected,src:"https://storage.360buyimg.com/wxmini/vpay_member/11.png"})]},t)})):Object(u.jsx)(s.j,{className:d.a.nonePay,children:"暂无数据～"})]})}}]),payList}(r.Component);t.a=p},156:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(8),c=n(9),r=n(5),s=n(1),l=n(92),d=n.n(l),u=n(0),p=function(e){Object(o.a)(h5PayResult,e);var t=Object(c.a)(h5PayResult);function h5PayResult(e){return Object(a.a)(this,h5PayResult),t.call(this,e)}return Object(i.a)(h5PayResult,[{key:"payResult",value:function payResult(){this.props.payResult&&this.props.payResult()}},{key:"finishPay",value:function finishPay(){this.props.onGoBack&&this.props.onGoBack()}},{key:"render",value:function render(){return Object(u.jsx)(s.j,{className:d.a.h5PayResult,children:Object(u.jsxs)(s.j,{className:d.a.result,children:[Object(u.jsx)(s.j,{className:d.a.title,children:"请确认微信支付是否已经完成"}),Object(u.jsxs)(s.j,{className:d.a.btn,children:[Object(u.jsx)(s.j,{className:d.a.finish,onClick:this.finishPay.bind(this),children:"已完成支付"}),Object(u.jsx)(s.j,{className:d.a.noFinish,onClick:this.payResult.bind(this),children:"重新支付"})]})]})})}}]),h5PayResult}(r.Component);t.a=p},16:function(e,t,n){"use strict";n.d(t,"j",(function(){return i})),n.d(t,"C",(function(){return o})),n.d(t,"l",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return _})),n.d(t,"q",(function(){return m})),n.d(t,"L",(function(){return h})),n.d(t,"i",(function(){return b})),n.d(t,"G",(function(){return g})),n.d(t,"K",(function(){return j})),n.d(t,"I",(function(){return f})),n.d(t,"F",(function(){return y})),n.d(t,"p",(function(){return x})),n.d(t,"b",(function(){return O})),n.d(t,"w",(function(){return v})),n.d(t,"k",(function(){return P})),n.d(t,"A",(function(){return k})),n.d(t,"B",(function(){return w})),n.d(t,"J",(function(){return T})),n.d(t,"y",(function(){return N})),n.d(t,"a",(function(){return S})),n.d(t,"z",(function(){return C})),n.d(t,"n",(function(){return I})),n.d(t,"u",(function(){return R})),n.d(t,"v",(function(){return B})),n.d(t,"x",(function(){return W})),n.d(t,"E",(function(){return L})),n.d(t,"t",(function(){return A})),n.d(t,"r",(function(){return D})),n.d(t,"s",(function(){return M})),n.d(t,"M",(function(){return J})),n.d(t,"D",(function(){return F})),n.d(t,"H",(function(){return V})),n.d(t,"o",(function(){return E}));var a=n(2),i=function api_nearbystore_list(e){return Object(a.a)({functionId:"vip/store/nearList",body:e})},o=function get_purchasePage_info(e){return Object(a.a)({functionId:"pay/vip/purchasePage",method:"POST",body:JSON.stringify(e)})},c=function api_plus_vipPurchase(e){return Object(a.a)({functionId:"pay/vip/purchase",body:e})},r=function api_buy_record(e){return Object(a.a)({functionId:"pay/vip/record",body:e||{}})},s=function api_convertCouponCheck(e){return Object(a.a)({functionId:"vip/convertCouponCheck",method:"POST",body:JSON.stringify(e)})},l=function api_convertCoupon(e){return Object(a.a)({functionId:"vip/convertCoupon",method:"POST",body:JSON.stringify(e)})},d=function api_undoExchange(e){return Object(a.a)({functionId:"vip/exchange/undo",method:"POST",body:JSON.stringify(e)})},u=function api_allowanceList(e){return Object(a.a)({functionId:"pay/vip/allowance/detail",body:e||{}})},p=function api_exchangeconCheck(e){return Object(a.a)({functionId:"pay/vip/exchange/check",body:e||{}})},_=function api_exchangeconFirm(e){return Object(a.a)({functionId:"pay/vip/exchange/confirm",body:e||{}})},m=function discountListCont(e){return Object(a.a)({functionId:"pay/vip/red/packet/discount",body:e||{}})},h=function tabContentFun(e){return Object(a.a)({functionId:"pay/vip/red/packet/tab",body:e||{}})},b=function api_getCouponData(e){return Object(a.a)({functionId:"vip/exchange/queryPageList",body:e||{}})},g=function protocolFun(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({functionId:"pay/vip/protocol",body:e})},j=function storeInfoFun(e){return Object(a.a)({functionId:"pay/vip/store",method:"POST",body:JSON.stringify(e)})},f=function queryPayStatusFun(e){return console.log(JSON.stringify(e),"------参数"),Object(a.a)({functionId:"tx/core/queryPayStatus",body:JSON.stringify(e)})},y=function payModesFun(e){return Object(a.a)({functionId:"pay/cashier/pay-modes",method:"POST",body:JSON.stringify(e)})},x=function directPayFun(e){return Object(a.a)({functionId:"pay/cashier/direct-pay",method:"POST",body:JSON.stringify(e),isNeedDealError:1})},O=function abStrategyFun(){return Object(a.a)({functionId:"pay/cashier/ab-strategy",method:"POST"})},v=function getPayInfoFun(e){return Object(a.a)({functionId:"pay/cashier/get-pay-info",method:"POST",body:e})},P=function api_plus_main_new(e){return Object(a.a)({functionId:"pay/vip/main-page",method:"POST",body:e})},k=function getVenuePageFun(e){return Object(a.a)({functionId:"pay/vip/venuePage",method:"GET",body:JSON.stringify(e)})},w=function getVenueReceiveFun(e){return Object(a.a)({functionId:"pay/vip/venueReceive",method:"POST",body:JSON.stringify(e)})},T=function showMoreFun(e){return Object(a.a)({functionId:"pay/vip/showMore",method:"GET",body:JSON.stringify(e)})},N=function getRights(e){return Object(a.a)({functionId:"vip/benefit/all",method:"GET",body:JSON.stringify(e)})},S=function abProductList(e){return Object(a.a)({functionId:"vip/ab/product-list",method:"GET",body:JSON.stringify(e)})},C=function getSharePic(e){return Object(a.a)({functionId:"vip/share/image",method:"GET",body:JSON.stringify(e)})},I=function api_vip_goods_list(e){return Object(a.a)({functionId:"vip/sku/vipPrice",method:"POST",body:e})},R=function getNearBigCouponList(e){return Object(a.a)({functionId:"vip/member/price/nearList",method:"POST",body:JSON.stringify(e)})},B=function getNearBigCouponListMore(e){return Object(a.a)({functionId:"vip/member/price/loadMore",method:"POST",body:JSON.stringify(e)})},W=function getQueryStatusForV(e){return Object(a.a)({functionId:"vip/contract/queryStatusForV",method:"GET",body:JSON.stringify(e)})},L=function noticeResult(e){return Object(a.a)({functionId:"vip/contract/noticeResult",method:"GET",body:JSON.stringify(e)})},A=function getContractInfoPage(e){return Object(a.a)({functionId:"vip/contract/infoPage",method:"GET",body:JSON.stringify(e)})},D=function getContractCancel(e){return Object(a.a)({functionId:"vip/contract/cancel",method:"GET",body:JSON.stringify(e)})},M=function getContractHistoryState(e){return Object(a.a)({functionId:"vip/contract/historyState",method:"GET",body:JSON.stringify(e)})},J=function vipMarket(e){return Object(a.a)({functionId:"vip/market/orderGuide",method:"GET",body:JSON.stringify(e),isNeedDealError:1})},F=function layerIndex(e){return Object(a.a)({functionId:"vip/layer/index",method:"GET",body:JSON.stringify(e)})},V=function queryPageList(e){return Object(a.a)({functionId:"vip/exchange/queryPageList",method:"GET",body:JSON.stringify(e)})},E=function dealButton(e){return Object(a.a)({functionId:"pay/vip/dealButton",method:"POST",body:JSON.stringify(e)})}},160:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(8),c=n(9),r=n(5),s=n(1),l=n(70),d=n.n(l),u=n(91),p=n.n(u),_=n(100),m=n(0),h=function(e){Object(o.a)(RpList,e);var t=Object(c.a)(RpList);function RpList(e){return Object(a.a)(this,RpList),t.call(this,e)}return Object(i.a)(RpList,[{key:"render",value:function render(){var e,t=this.props.rpList,n=void 0===t?[]:t,a=n&&n.length;return e=Object(m.jsx)(s.j,{children:a>0?Object(m.jsx)(s.f,{className:"".concat(p.a.rpScrollview),scrollX:!0,children:n.map((function(e,t){return Object(m.jsxs)(s.j,{className:"".concat(p.a.rpScroll," ").concat(t>3?"":"skeleton-rect"),children:[Object(m.jsxs)(s.j,{className:p.a.quit,children:[Object(m.jsx)(s.j,{className:p.a.rpQuitStr,children:"¥"}),e.quota]}),Object(m.jsx)(s.j,{className:p.a.rpLimitRule,children:e.limitWord})]},"rpList".concat(t))}))}):Object(m.jsx)(_.a,{})}),Object(m.jsx)(s.j,{className:p.a.rpListContent,onClick:this.rpListUpData.bind(this),children:e})}},{key:"rpListUpData",value:function rpListUpData(){}}]),RpList}(r.Component),b=n(14),g=n(20),j=function(e){Object(o.a)(packageItem,e);var t=Object(c.a)(packageItem);function packageItem(e){var n;return Object(a.a)(this,packageItem),(n=t.call(this,e)).state={},n}return Object(i.a)(packageItem,[{key:"imgError",value:function imgError(){return console.log(this,"路径"),"https://storage.360buyimg.com/wxmini/vpay_member/default.png"}},{key:"toRightsDetail",value:function toRightsDetail(e,t,n){Object(b.a)({page_name:"packageSelection",create_time:new Date,click_id:"clickBall",click_par:{text:n}}),Object(g.b)({url:"/pages/vpaymember_t/rightsInstruction/index?vpId=".concat(t,"&type=").concat(e)})}},{key:"render",value:function render(){var e=this,t=this.props,n=t.currentInterests,a=t.isAB,i=n.interestList,o=void 0===i?[]:i;return Object(m.jsx)(s.a,{children:"new_page"==a?null:Object(m.jsx)(s.j,{children:n?Object(m.jsxs)(s.j,{className:"".concat(d.a.interest," skeleton-con"),children:[Object(m.jsxs)(s.j,{className:d.a.interestTitle,children:[Object(m.jsx)(s.j,{className:"skeleton-rect",children:"超值权益"}),Object(m.jsx)(s.j,{className:"".concat(d.a.interestDes," skeleton-rect"),children:n.text1||"暂无权益"})]}),Object(m.jsxs)(s.j,{className:d.a.interestCon,children:[Object(m.jsxs)(s.j,{className:"".concat(d.a.interestTip," skeleton-rect"),children:[Object(m.jsx)(s.j,{children:n.privilegeTitle||"权益"}),n.text2?Object(m.jsx)(s.j,{className:"".concat(d.a.interestDes," skeleton-rect"),children:n.text2}):null]}),Object(m.jsx)(s.j,{className:d.a.interestRp,children:Object(m.jsx)(h,{rpList:n.redPackageList})}),o&&o.length>0?Object(m.jsx)(s.j,{className:"".concat(d.a.interestTip," skeleton-rect"),children:"会员专享权益"}):null,Object(m.jsx)(s.j,{className:d.a.rightsChildBox,children:o&&o.length>0?o.map((function(t,n){return Object(m.jsxs)(s.j,{className:d.a.child_item,onClick:e.toRightsDetail.bind(e,t.type,t.vpId,t.name),children:[Object(m.jsx)(s.c,{className:d.a.child_item_img,src:t.url}),Object(m.jsx)(s.j,{className:d.a.child_item_txt,children:t.name}),t.floorSubTitleSplit&&t.floorSubTitleSplit.length?Object(m.jsx)(s.j,{className:d.a.child_item_info,children:t.floorSubTitleSplit.map((function(e,t){return Object(m.jsx)(s.i,{style:{color:e.color},children:e.text},"iteminfo".concat(t))}))}):null]},n)})):Object(m.jsx)(_.a,{})})]})]}):""})})}}]),packageItem}(r.Component);t.a=j},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(4);var a=n(3),i=n.n(a),o=n(85),c=function pay_weapp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){wx.requestPayment({appId:e.appid,timeStamp:e.timestamp,nonceStr:e.noncestr,package:"prepay_id="+e.prepayid,signType:e.signType||"MD5",paySign:e.sign,success:function success(e){i.a.showToast({title:"支付成功!",icon:"none",duration:1500}),t(e)},fail:function fail(t){i.a.showToast({title:"支付失败!",icon:"none",duration:1500}),n(t);var a={data:JSON.stringify(e),error:JSON.stringify(t)};Object(o.a)({create_time:new Date,click_id:"weappWxPay",click_par:a})}})}))},r=n(153),s=n(154),l={_type:function getPlatform(){var e="h5";e="weapp";return e}(),_channel:"wxpay",openPay:"",config:function config(e){var t=e.options,n=void 0===t?{}:t,a=n.type,i=n.channel;return a&&(this._type=a.toLowerCase()),i&&(this._channel=i.toLowerCase()),this},invoke:function invoke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("weapp"===this._type)return c(e);if("app"===this._type?this.openPay=r.a:this.openPay=s.a,"wxpay"===this._channel){if(!this.openPay){var a="暂不支持本平台，目前支付类型为 ".concat(this._type);return Promise.reject({code:3,msg:a})}this.openPay(e,t,n)}}}},198:function(e,t,n){"use strict";n.r(t);n(68);var a=n(13),i=n(11),o=n(42),c=n(5);i.container.get(i.SERVICE_IDENTIFIER.Hooks).initNativeApiImpls=[a.c.initNativeApi];var r={pages:["pages/index/index"],subPackages:[{root:"pages/vipChannel-t/",pages:["index"],independent:!0},{root:"pages/merchant-t/",pages:["agreement/index"],independent:!0},{root:"pages/vpaymember_t/",pages:["home/index","memberGoods/index","packageSelection/index","rightsInstruction/index","memberDay/index","couponTab/index","couponTabNew/index","exchangePage/index","instructions/index","envelopesRecord/index","bountyList/index","discountList/index","manageRenew/index","payResult/index","toVPlusCenterPage/index"],independent:!0},{root:"pages/test-t/",pages:["hy/index"]}],permission:{"scope.userLocation":{desc:"你的位置信息将用获取最近的门店信息"}},plugins:{loginPlugin:{version:"1.5.1",provider:"wxefe655223916819e"},"live-player-plugin":{version:"1.3.5",provider:"wx2b03c6e691cd7370"}},window:{backgroundTextStyle:"light",navigationBarBackgroundColor:"#fff",navigationBarTitleText:"WeChat",navigationBarTextStyle:"black"}};i.window.__taroAppConfig=r;class App extends c.Component{render(){return this.props.children}}Object(o.a)(App,c,c.default,r);var s=n(199).default;Page(Object(i.createPageConfig)(s,"pages/vpaymember_t/packageSelection/index",{},{navigationBarTitleText:"开通会员",navigationBarBackgroundColor:"#fff",navigationBarTextStyle:"black"}||{}))},199:function(e,t,n){"use strict";n.r(t),function(e,a){var i=n(22),o=n(39),c=n(6),r=n(7),s=n(15),l=n(8),d=n(9),u=n(10),p=(n(113),n(5)),_=n(1),m=n(3),h=n.n(m),b=n(60),g=n(100),j=n(35),f=n(16),y=n(14),x=n(54),O=n(33),v=n(4),P=n(149),k=n(150),w=n(160),T=n(151),N=n(155),S=n(89),C=n(156),I=n(57),R=n(40),B=n.n(R),W=n(20),L=n(0),A=function(t){Object(l.a)(PackageSelection,t);var n,a=Object(d.a)(PackageSelection);function PackageSelection(e){var t;return Object(c.a)(this,PackageSelection),t=a.call(this,e),Object(u.a)(Object(s.a)(t),"params",void 0),Object(u.a)(Object(s.a)(t),"childSkeleton",void 0),Object(u.a)(Object(s.a)(t),"childPay",void 0),Object(u.a)(Object(s.a)(t),"getPaySource",(function(){v.c||v.f||v.g||v.e;return(v.g?"isWeixin":v.c&&"isDaojiaApp")||v.f&&"isJDReactNativeWebView"||"isMiniProgram"})),Object(u.a)(Object(s.a)(t),"_payModesFun",(function(e){var n=Object(s.a)(t);t.setState({isNewPayFnByApi:e});var a={paySource:{isDaojiaApp:257,isJDReactNativeWebView:258,isDJBrowser:259,isWeixin:260,isJDApp:261,isMiniProgram:"yy_xcx"==(h.a.getApp().globalData&&h.a.getApp().globalData.mpChannel||"")?265:264}[t.getPaySource()]};Object(f.F)(a).then((function(e){var t=e.result,a=e.code,i=e.msg;"0"===a?n.setState({payList:t}):(n.setState({payList:[]}),h.a.showToast({title:i+"--",icon:"none",duration:2e3}))})).catch((function(e){n.setState({payList:[]}),h.a.showToast({title:e.msg+".",icon:"none",duration:2e3})}))})),t.params=h.a.getCurrentInstance().router.params,t.state={showBtnAnim:!0,userCardType:t.params.userCardType||null,storeId:1,tipType:"",isLoading:!0,tipMsg:"",orderId:-1,purchasePageResult:new Array(3).fill({cardType:-1,cardName:"未知",noticeTitle:"未知",tipText:"未知",originPrice:"未知",firstMonthPrice:"",priceWord:"未知",payToken:"未知",redPacketId:"未知"}),currentInterests:{redPackageList:new Array(4).fill({quota:"无",quotaUnit:"¥",limitWord:"未知"}),interestList:new Array(1).fill({url:""})},objParams:{longitude:"",cityId:"",latitude:"",loadPage:""},btnData:{cardType:-1,cardName:"",noticeTitle:"",tipText:"",originPrice:"",priceWord:"",firstMonthPrice:"",payToken:"",redPacketId:"",buyTip:""},showRenewTip:!1,payList:[],isShowPayResult:Object(j.a)("wxWebPay"),showPayResultNum:0,isNewPayFnByApi:"A",isAB:"old_page",showRenewFlag:!1,isToPage:!1},t}return Object(r.a)(PackageSelection,[{key:"componentDidShow",value:(n=Object(o.a)(Object(i.a)().mark((function _callee(){var t,n,a,o,c,r,s,l,d=this;return Object(i.a)().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!this.state.isToPage){i.next=10;break}if(t=h.a.getApp().globalData||{},n=t.referrerInfo,a=void 0===n?{}:n,o=t.appScene,c=t.vp_entrust_pay,r=void 0===c?"":c,s=a.appId,l=a.extraData,1038!==o){i.next=10;break}if("wxbd687630cd02ce1d"!=s){i.next=10;break}if(void 0!==l&&"SUCCESS"!=l.return_code){i.next=10;break}return this.setState({isToPage:!1},(function(){d.tovPentrustPayPage(r)})),i.abrupt("return");case 10:i.next=13;break;case 12:e.vp_entrust_pay&&this.tovPentrustPayPage(e.vp_entrust_pay);case 13:return this.state.isShowPayResult&&!v.c&&v.e,setTimeout((function(){d.childSkeleton&&d.childSkeleton.initSkeleton&&d.childSkeleton.initSkeleton()}),0),i.next=19,this.login();case 19:this.childPay&&setTimeout((function(){var e;(null===(e=d.childPay)||void 0===e?void 0:e.abStrategy)&&d.childPay.abStrategy()}),300),h.a.pageScrollTo({scrollTop:0}),Object(y.b)({create_time:new Date,page_name:"packageSelection",page_par:{vPlusSet:"packageSelection"}});case 22:case"end":return i.stop()}}),_callee,this)}))),function componentDidShow(){return n.apply(this,arguments)})},{key:"componentDidMount",value:function componentDidMount(){this.childPay&&this.childPay.refreshbCallInDjApp&&this.childPay.refreshbCallInDjApp()}},{key:"render",value:function render(){var e=this,t=this.state,n=t.purchasePageResult,a=t.showBtnAnim,i=t.userCardType,o=t.currentInterests,c=t.btnData,r=t.isLoading,s=t.objParams,l=t.tipType,d=t.tipMsg,u=t.payList,p=t.isShowPayResult,m=t.showPayResultNum,h=t.isNewPayFnByApi,j=t.isAB,f=t.showRenewFlag,y=o.interestList,x=this.params,O=x.vipFlag,R=x.fromChannel,W=void 0===R?"":R,A=x.receiptFlag,D=void 0===A?"":A;return l?Object(L.jsx)(b.a,{type:l,msg:d,style:{height:"100vh"},longitude:this.state.objParams.longitude,cityId:this.state.objParams.cityId,latitude:this.state.objParams.latitude,handlerReload:this.loadPage}):Object(L.jsxs)(_.j,{className:B.a.packageSelection,children:[Object(L.jsx)(P.a,{ref:function ref(t){return e.childSkeleton=t},selector:"skeleton",loading:r}),Object(L.jsxs)(_.j,{className:[B.a.packages,"skeleton","new_page"==j?B.a.notMargin:B.a.hasMargin].join(" "),children:[Object(L.jsx)(_.j,{className:"".concat(B.a.title," skeleton-rect"),children:"选择会员套餐"}),Object(L.jsx)(_.j,{className:"".concat(B.a.list),children:n.length?Object(L.jsx)(_.f,{className:B.a.cardScrollView,scrollX:!0,children:Object(L.jsxs)(_.j,{className:"".concat(B.a.cardCon),children:[n.map((function(t,n){return 4==t.cardType&&v.c&&v.b&&v.a<"8.19.0"?null:Object(L.jsx)(k.a,{cardInfo:t,userCardType:i,selectPackage:e.selectPackage.bind(e)},n)})),Object(L.jsx)(_.j,{className:"".concat(B.a.block),children:"1"})]})}):Object(L.jsx)(g.a,{})}),"new_page"==j&&4==i?Object(L.jsxs)(_.j,{onClick:this.showRenewFlagAlert.bind(this),className:B.a.renewTipsNew,children:["到期按",c.priceWord,"元/月自动续费，可随时取消",Object(L.jsx)(_.c,{className:B.a.renewTipsImg,src:"https://storage.360buyimg.com/wximg/member/quesIcon.png"})]}):null,Object(L.jsx)(w.a,{isAB:j,currentInterests:o}),"old_page"==j&&4==i?Object(L.jsxs)(_.j,{onClick:this.showRenewFlagAlert.bind(this),className:B.a.renewTips,children:["到期按",c.priceWord,"元/月自动续费，可随时取消",Object(L.jsx)(_.c,{className:B.a.renewTipsImg,src:"https://storage.360buyimg.com/wximg/member/quesIcon.png"})]}):null,Object(L.jsx)(T.a,{className:B.a.PkBtnPlusWrapOpen,ref:function ref(t){return e.childPay=t},showBtnAnim:a,isAB:j,userCardType:i,refreshPage:this.loadPage.bind(this),longitude:s.longitude,latitude:s.latitude,cityId:s.cityId,btnData:c,fromChannel:W,receiptFlag:D,isToPageEvent:this.isToPageEvent.bind(this),onPayModesFun:this._payModesFun.bind(this)})]}),"A"===h||v.c&&v.b&&v.a<"8.19.0"?null:"new_page"==j?Object(L.jsxs)(_.j,{className:"".concat(B.a.renewPriceNew),children:[Object(L.jsxs)(_.j,{className:"".concat(B.a.flexRow),children:[Object(L.jsx)(_.i,{className:"".concat(B.a.title),children:"原价"}),Object(L.jsxs)(_.i,{className:"".concat(B.a.money,"  ").concat(B.a.moneyG),children:["¥",c.originPrice||c.priceWord]})," "]}),c.discountedPrice?Object(L.jsxs)(_.j,{onClick:this.toDiscountPage.bind(this),className:"".concat(B.a.flexRow,"  ").concat(B.a.lineTop),children:[Object(L.jsx)(_.i,{className:"".concat(B.a.title),children:"限时优惠"}),Object(L.jsxs)(_.i,{className:"".concat(B.a.money," ").concat(B.a.moneyR),children:["-¥",c.discountedPrice]})]}):""]}):Object(L.jsxs)(_.j,{className:"".concat(B.a.renewPrice," skeleton"),children:[Object(L.jsx)(_.i,{className:"".concat(B.a.des," skeleton-rect"),children:"价格"}),Object(L.jsxs)(_.i,{className:"".concat(B.a.des," skeleton-rect"),children:["¥",4==i&&c.firstMonthPrice?c.firstMonthPrice:c.priceWord]})]}),"A"===h||v.c&&v.b&&v.a<"8.19.0"?null:Object(L.jsx)(N.a,{payList:u,isAB:j}),"new_page"==j?Object(L.jsx)(S.a,{hasPadding:!0,vipFlag:O||0,type:"nowrap",data:y,pageName:"packageSelection"}):"",p&&m?Object(L.jsx)(C.a,{payResult:this.getPayStatus.bind(this),onGoBack:this.payResult.bind(this)}):null,Object(L.jsx)(_.j,{className:B.a.seat}),f?Object(L.jsxs)(I.a,{isShow:f,isNeedCloseIcon:!1,onPopEvent:this.closeAlert.bind(this),children:[Object(L.jsx)(_.j,{className:B.a.alertTit,children:"自动续费声明"}),Object(L.jsx)(_.j,{className:B.a.alertCon,children:"1.会员到期前一天自动续费"}),Object(L.jsx)(_.j,{className:B.a.alertCon,children:"2.续费扣款将以短信通知，扣费过程公开透明"}),Object(L.jsx)(_.j,{className:B.a.alertCon,children:"3.可随时关闭自动续费，关闭后不影响当期权益使用"})]}):null]})}},{key:"tovPentrustPayPage",value:function tovPentrustPayPage(e){var t=this.getParams(this.params);wx.navigateTo({url:"/pages/vpaymember_t/payResult/index?businessContractCode=".concat(e,"&").concat(t),success:function success(e){h.a.getApp().globalData.referrerInfo={}}})}},{key:"getParams",value:function getParams(e){var t="";return Object.keys(e).forEach((function(n){t=""===t?"".concat(n,"=").concat(e[n]):"".concat(t,"&").concat(n,"=").concat(e[n])})),t}},{key:"selectPackage",value:function selectPackage(e){var t=e.cardType,n=this.state,a=n.objParams,i=n.btnData,o=Object.assign({},i,e);this.setState({userCardType:t,btnData:o}),this.getPurchasePageInfo(a,t);var c={type:{2:"monCard",4:"conMonCard",3:"expCard",5:"quaCard",6:"yearCard"}[t]};Object(y.a)({page_name:"packageSelection",create_time:new Date,click_id:"clickSet",click_par:c})}},{key:"getPurchasePageInfo",value:function getPurchasePageInfo(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.params,i=a.fromChannel,o=void 0===i?"":i,c=a.receiptFlag,r=void 0===c?"":c,s=this,l={longitude:e.longitude||"",latitude:e.latitude||"",cityId:e.cityId||e.areaCode||e.cityCode||e.code||e.RNuserCityId||"",pageVersion:"V9",requestor:"",userCardType:n,fromChannel:o,receiptFlag:r};console.log(l,"请求参数"),Object(f.C)(l).then((function(e){var a,i=e.result,o=e.code,c=e.msg;"0"===o?(i&&i.redPackageAndInterestInfo||(i.redPackageAndInterestInfo={cardType:-1,interestList:[]}),i.userCardInfoList&&i.userCardInfoList.length>0?(i.redPackageAndInterestInfo.cardType?a=i.userCardInfoList.find((function(e){return e.cardType===i.redPackageAndInterestInfo.cardType})):i.redPackageAndInterestInfo.cardType=i.userCardInfoList[0].cardType,a||(a=i.userCardInfoList[0],i.redPackageAndInterestInfo.cardType=i.userCardInfoList[0].cardType)):t.setState({tipType:"noOpen",tipMsg:"当前城市未开通"}),t.setState({btnData:a,purchasePageResult:i.userCardInfoList||[],currentInterests:i.redPackageAndInterestInfo,userCardType:i.redPackageAndInterestInfo&&i.redPackageAndInterestInfo.cardType||n,isLoading:!1})):s.setState({isLoading:!1,tipType:"noWifi",tipMsg:c||"网络开小差了~",purchasePageResult:[],currentInterests:{}})})).catch((function(e){s.setState({isLoading:!1,tipType:"noWifi",tipMsg:(e||{}).msg||"",purchasePageResult:[],currentInterests:{}})}))}},{key:"loadPage",value:function loadPage(){this.getLocationPlus()}},{key:"getLocationPlus",value:function getLocationPlus(){var e=this;Object(x.a)().then((function(t){var n=e.state.userCardType,a=void 0===n?null:n;e.getPurchasePageInfo(t,a),e.setState({objParams:t})})).catch((function(){e.setState({isLoading:!1,tipType:"noWifi",tipMsg:"未获取到地理位置",purchasePageResult:[],currentInterests:{}})}))}},{key:"isToPageEvent",value:function isToPageEvent(){this.setState({isToPage:!0})}},{key:"showRenewFlagAlert",value:function showRenewFlagAlert(){this.setState({showRenewFlag:!0})}},{key:"payResult",value:function payResult(){this.getPayStatus(1)}},{key:"toDiscountPage",value:function toDiscountPage(){var e=this.state.userCardType;Object(W.b)({url:"/pages/vpaymember_t/discountList/index?userCardType=".concat(e)})}},{key:"getPayStatus",value:function getPayStatus(t){var n=this,a=Object(j.a)("wxWebPay");a&&Object(f.w)(a).then((function(a){var i=a.code,o=a.msg,c=a.result;"0"===i?("20"===c.payStatus?(h.a.showToast({icon:"none",title:"恭喜！您已开通会员 快去使用会员特权吧!",duration:2e3}),e.returnAppLink&&!e.returnAppLink.includes("vpaymember_t/home/index")?e.location.href=e.returnAppLink:setTimeout((function(){h.a.redirectTo({url:"https://".concat(e.location.origin,"/html/index/user")})}),2500)):1===t&&h.a.showToast({title:"支付失败，请重新支付",icon:"none",duration:2e3}),Object(j.b)("wxWebPay"),Object(j.b)("showPayResultNum"),n.setState({isShowPayResult:!1,showPayResultNum:0})):(h.a.showToast({title:"获取支付信息失败，请刷新-".concat(o),icon:"none"}),Object(j.b)("wxWebPay"),Object(j.b)("showPayResultNum"),n.setState({isShowPayResult:!1,showPayResultNum:0}))})).catch((function(){h.a.showToast({title:"支付失败，请稍后再试",icon:"none"}),Object(j.b)("wxWebPay"),Object(j.b)("showPayResultNum"),n.setState({isShowPayResult:!1,showPayResultNum:0})}))}},{key:"closeAlert",value:function closeAlert(){this.setState({showRenewFlag:!1})}},{key:"login",value:function login(){var e=this,t=this;Object(O.b)().then((function(){t.loadPage();try{Object(f.a)(null).then((function(t){e.setState({isAB:0==t.code?t.result:"old_page"})})).catch((function(){e.setState({isAB:"old_page"})}))}catch(t){e.setState({isAB:"old_page"})}})).catch((function(){t.setState({isLoading:!1,tipType:"unLogin",tipMsg:"您还未登录哦~",purchasePageResult:[],currentInterests:{}})}))}}]),PackageSelection}(p.Component);t.default=A}.call(this,n(11).window,n(11).document)},20:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n(4),i=n(3),o=n.n(i),c=function navigateTo(e){var t=e.url;return(t.indexOf("testpdjm.jd.com")>-1||t.indexOf("prepdjm.jd.com")>-1||t.indexOf("daojia.jd.com")>-1||t.indexOf("prepdj-three.jddj.com")>-1)&&(t="/pages/"+t.split("/pages/")[1]),o.a.navigateTo({url:t})},r=function postMsgUpdateV(){a.c&&_isCompatible(String(a.a),String("8.6.0"))>=0&&(a.d?a.h&&e.webkit.messageHandlers.MobileNavi.postMessage({method:"updateVPlusPage",callBackName:null,callBackId:null}):a.b&&e.djJava.closeWebview&&e.djJava.updateVPlusPage())},s=function closeWebView(){a.c&&_isCompatible(String(a.a),String("8.6.0"))>=0&&(a.d?a.h&&e.webkit.messageHandlers.MobileNavi.postMessage({method:"closeWebview",callBackName:null,callBackId:null}):a.b&&e.djJava.closeWebview&&e.djJava.closeWebview())};function _isCompatible(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var a=0;a<n;a++){var i=parseInt(e[a]),o=parseInt(t[a]);if(i>o)return 1;if(i<o)return-1}return 0}}).call(this,n(11).window)},36:function(e,t,n){e.exports={wrap:"index-module__wrap___3b_yE",hide:"index-module__hide___1uJrW",case:"index-module__case___3i4KY",content:"index-module__content___1259D",close:"index-module__close___Dbzja"}},38:function(e,t,n){e.exports={pdTopAndBtm:"member-module__pdTopAndBtm___34YOa",rightsBox:"member-module__rightsBox___1J3EJ",rightsTitImg:"member-module__rightsTitImg___2LlZX",rightsTitImg2:"member-module__rightsTitImg2___3ddao",rightsTit:"member-module__rightsTit___23akW",rightsChildBox:"member-module__rightsChildBox___yZbKH",child_item:"member-module__child_item___3y_pj",child_item_img:"member-module__child_item_img___2sBWn",rightsBoxRow:"member-module__rightsBoxRow___3Kjt3",child_item_txt:"member-module__child_item_txt___1rF2K",child_item_info:"member-module__child_item_info___nIsOL",child_item_info_txt:"member-module__child_item_info_txt___1x0ZO"}},40:function(e,t,n){e.exports={packageSelection:"index-module__packageSelection___3kEUk",pd:"index-module__pd___2sUu-",hasMargin:"index-module__hasMargin___G596u",renewTips:"index-module__renewTips___cnvac",renewTipsImg:"index-module__renewTipsImg___2myiV",renewTipsNew:"index-module__renewTipsNew___3Xh18",alertTit:"index-module__alertTit___2Lzb3",alertCon:"index-module__alertCon___142O6",packages:"index-module__packages___1yJY7",notMargin:"index-module__notMargin___54Snx",title:"index-module__title___2uWTD",list:"index-module__list___2b-64",cardScrollView:"index-module__cardScrollView___sRXyG",cardCon:"index-module__cardCon___9aioY",block:"index-module__block___3VdgO",renewPriceNew:"index-module__renewPriceNew___3kmSB",flexRow:"index-module__flexRow___1LmGr",lineTop:"index-module__lineTop___10-PE",money:"index-module__money___1HryW",moneyG:"index-module__moneyG___2Zs4G",moneyR:"index-module__moneyR___1xN0k",renewPrice:"index-module__renewPrice___1RWvH",des:"index-module__des___3y8I2",PkBtnPlusWrapOpen:"index-module__PkBtnPlusWrapOpen___2iX2A",seat:"index-module__seat___2a17W",noHave:"index-module__noHave___2UrvU",img:"index-module__img___1Q3ME"}},45:function(e,t,n){e.exports={btnPlusWrap:"btnPlusWrap-module__btnPlusWrap___1TKne",showPlusWrap:"btnPlusWrap-module__showPlusWrap___1wX6V",btnContNewPage:"btnPlusWrap-module__btnContNewPage___1xIP3",btn_leftWrap:"btnPlusWrap-module__btn_leftWrap___DBBRf",btn_type:"btnPlusWrap-module__btn_type___39h6m",btn_mon:"btnPlusWrap-module__btn_mon___2Lh1N",priceWord:"btnPlusWrap-module__priceWord___tdlqC",btn_open:"btnPlusWrap-module__btn_open___13HSq",btn_lable:"btnPlusWrap-module__btn_lable___2soDA",btnPlus:"btnPlusWrap-module__btnPlus___xDvAR",animationBottom:"btnPlusWrap-module__animationBottom___2L23J",shake:"btnPlusWrap-module__shake___3T1nF",disabled:"btnPlusWrap-module__disabled___1Fzn6",btnContNew:"btnPlusWrap-module__btnContNew___AQX5F",immediateBtn:"btnPlusWrap-module__immediateBtn___34l0y",discount:"btnPlusWrap-module__discount___nZSS2",payMsg:"btnPlusWrap-module__payMsg___24rAA",linePriceWord:"btnPlusWrap-module__linePriceWord___C2BWV",monthCard:"btnPlusWrap-module__monthCard___3q8Tn",weekCard:"btnPlusWrap-module__weekCard___Ve984",avalibleValue:"btnPlusWrap-module__avalibleValue___1gtKV",disAvalibleValue:"btnPlusWrap-module__disAvalibleValue___z3lz5",openBtnBg:"btnPlusWrap-module__openBtnBg___fMCe9",openBtnTxt:"btnPlusWrap-module__openBtnTxt___39EQv",openBtnTxtInvalue:"btnPlusWrap-module__openBtnTxtInvalue___3xZRn",bubble:"btnPlusWrap-module__bubble___1TdOw",trangle:"btnPlusWrap-module__trangle___2PskM",bubbleText:"btnPlusWrap-module__bubbleText___1P0hr",tranglebottom:"btnPlusWrap-module__tranglebottom___1ndLo",agreementpop:"btnPlusWrap-module__agreementpop___24MsW",agreetext:"btnPlusWrap-module__agreetext___3yI11",agreementpoph5:"btnPlusWrap-module__agreementpoph5___lLzun",agreetexth5:"btnPlusWrap-module__agreetexth5___2Wq_P",agreementCheck:"btnPlusWrap-module__agreementCheck___APf9U"}},57:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(8),c=n(9),r=n(1),s=n(5),l=n(36),d=n.n(l),u=n(0),p=function(e){Object(o.a)(Pop,e);var t=Object(c.a)(Pop);function Pop(){return Object(a.a)(this,Pop),t.apply(this,arguments)}return Object(i.a)(Pop,[{key:"render",value:function render(){var e=null,t=this.props.defineSelf;return this.props.isNeedCloseIcon||(e=Object(u.jsx)(r.j,{className:d.a.close,onClick:this.onClosePop.bind(this)})),Object(u.jsx)(r.j,{className:"".concat(d.a.wrap," ").concat(this.props.isShow?"":d.a.hide," "),onClick:this.onClosePop.bind(this),children:Object(u.jsxs)(r.j,{className:d.a.case,onClick:this.onClickPop.bind(this),children:[t?Object(u.jsx)(r.j,{children:this.props.children}):Object(u.jsx)(r.j,{className:d.a.content,style:{background:this.props.bgColor?this.props.bgColor:"#fff"},children:this.props.children}),e]})})}},{key:"onClosePop",value:function onClosePop(e){console.log("===onClosePop===",e),e.stopPropagation(),this.props.onPopEvent({type:"close"})}},{key:"onClickPop",value:function onClickPop(e){e.stopPropagation(),this.props.onPopEvent({type:"content",params:{}})}}]),Pop}(s.Component);t.a=p},60:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(6),i=n(7),o=n(15),c=n(8),r=n(9),s=n(10),l=n(5),d=n(33),u=n(3),p=n.n(u),_=n(19),m=n.n(_),h=n(1),b=n(61),g=n(12),j=n.n(g),f=(n(4),n(0)),y=function(e){Object(c.a)(Tip,e);var t=Object(r.a)(Tip);function Tip(e){var n;return Object(a.a)(this,Tip),n=t.call(this,e),Object(s.a)(Object(o.a)(n),"handlerReload",(function(){n.props.handlerReload&&n.props.handlerReload()})),n}return Object(i.a)(Tip,[{key:"goLogin",value:function goLogin(){var e=this.props.jumpUrl;e?Object(d.a)({localTargetUrl:e}):Object(d.a)({localTargetUrl:"/pages/vpaymember_t/home/index?latitude=".concat(this.props.latitude||"","&longitude=").concat(this.props.longitude||"","&cityId=").concat(this.props.cityId)})}},{key:"getMsg",value:function getMsg(){var e=this.props,t=e.msg,n=e.type;return t||{unLogin:"您还没有登录",noWifi:"网络开小差，请稍后再试哦~[0001]",noSearch:"没有找到符合的商品[0001]",noShop:"附近暂无商家[0001]",noOpen:"当前城市未开通服务[0001]",close:"关闭当前页"}[n]}},{key:"closeWb",value:function closeWb(){p.a.navigateBack({delta:3})}},{key:"render",value:function render(){var e=this.props,t=e.type,n=e.customClass,a=e.btnText,i=e.btnHref,o=e.style,c=e.msg;return Object(f.jsx)(h.j,{className:"".concat(j.a["tip-wrap"]," ").concat(n),style:o,children:Object(f.jsxs)(h.j,{className:j.a["tip-box"],children:[Object(f.jsx)(h.j,{className:"".concat(j.a["tip-icon"]," ").concat(j.a["tip-icon-"+t])}),Object(f.jsx)(h.j,{className:j.a["tip-message"],children:c||"网络开小差，请稍后再试哦~"}),"close"==t?Object(f.jsx)(h.j,{className:j.a.tipBtn,onClick:this.closeWb.bind(this),children:Object(f.jsx)(h.i,{className:j.a.tipText,children:a})}):Object(f.jsx)(b.a,{type:t,btnText:a,btnHref:i,handlerReload:this.handlerReload,goLogin:this.goLogin.bind(this)})]})})}}]),Tip}(l.default.Component);Object(s.a)(y,"propTypes",{msg:m.a.string,btnText:m.a.string,type:m.a.string.isRequired,customClass:m.a.string,handlerReload:m.a.func,btnHref:m.a.string}),Object(s.a)(y,"defaultProps",{msg:"",type:"",btnText:"",customClass:"",handlerReload:function handlerReload(){e&&e.location.reload()}})}).call(this,n(11).window)},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(6),i=n(7),o=n(8),c=n(9),r=n(10),s=(n(3),n(1)),l=n(26),d=n(12),u=n.n(d),p=n(19),_=n.n(p),m=n(5),h=n(0),b=function(e){Object(o.a)(TipBtn,e);var t=Object(c.a)(TipBtn);function TipBtn(){return Object(a.a)(this,TipBtn),t.apply(this,arguments)}return Object(i.a)(TipBtn,[{key:"goLogin",value:function goLogin(){this.props.goLogin()}},{key:"render",value:function render(){var e=this.props,t=e.type,n=e.btnText,a=e.btnHref;return"unLogin"===t?Object(h.jsx)(s.j,{className:u.a.tipBtn,onClick:this.goLogin.bind(this),children:Object(h.jsx)(s.i,{className:u.a.tipText,children:"立即登录"})}):"noWifi"===t?Object(h.jsx)(s.j,{className:u.a.tipBtn,onClick:this.props.handlerReload,children:Object(h.jsx)(s.i,{className:u.a.tipText,children:"重新加载"})}):"noLocation"===t?Object(h.jsx)(s.j,{className:u.a.tipBtn,onClick:function onClick(){return Object(l.a)({to:"home"})},children:Object(h.jsx)(s.i,{className:u.a.tipText,children:"手动搜索地址"})}):"noShop"===t||"noOpen"===t||"empty"===t?Object(h.jsx)(s.j,{className:u.a.tipBtn,onClick:function onClick(){return Object(l.a)({to:a||"home"})},children:Object(h.jsx)(s.i,{children:n||"回首页"})}):"search"===t?Object(h.jsx)(s.i,{className:u.a["search-tip-span"],children:"换个关键词试试吧"}):"close"===t?Object(h.jsx)(s.i,{className:u.a["search-tip-span"],children:n}):Object(h.jsx)(s.j,{className:u.a.tipBtn,onClick:function onClick(){return Object(l.a)({to:a||"home"})},children:Object(h.jsx)(s.i,{className:u.a.tipText,children:n||"返回首页"})})}}]),TipBtn}(m.Component);Object(r.a)(b,"propTypes",{btnText:_.a.string,type:_.a.string.isRequired,handlerReload:_.a.func,btnHref:_.a.string}),Object(r.a)(b,"defaultProps",{msg:"",type:"",btnText:"",customClass:"",handlerReload:function handlerReload(){}})},70:function(e,t,n){e.exports={interest:"index-module__interest___1Glcr",interestTitle:"index-module__interestTitle___3MMfj",interestCon:"index-module__interestCon___3b1ok",interestTip:"index-module__interestTip___1TVmR",interestDes:"index-module__interestDes___17Yqe",interestRp:"index-module__interestRp___OdNtZ",interesCon:"index-module__interesCon___1PcLg",rightsChildBox:"index-module__rightsChildBox___1qVEf",child_item:"index-module__child_item___2MQr8",child_item_img:"index-module__child_item_img___3h92S",child_item_txt:"index-module__child_item_txt___3Em1F",child_item_info:"index-module__child_item_info___1qJTU"}},76:function(e,t,n){e.exports={payList:"index-module__payList___35iax",noMar:"index-module__noMar___jhMWV",hasMar:"index-module__hasMar___22S0n",payTitle:"index-module__payTitle___1rV2Z",newPd:"index-module__newPd___25bJB",payItem:"index-module__payItem___CopVE",newMar:"index-module__newMar___16U_V",payType:"index-module__payType___1Mf-k",typeIcon:"index-module__typeIcon___3cgkw",typeText:"index-module__typeText___2YULg",selected:"index-module__selected___6dGoj",nonePay:"index-module__nonePay___L3U3_"}},80:function(e,t,n){e.exports={scroll:"index-module__scroll___15Rij",cardName:"index-module__cardName___1iy8p",money:"index-module__money___36dqw",unit:"index-module__unit___1SW_F",price:"index-module__price___3B2PO",currentPrice:"index-module__currentPrice___1J6Z_",tip:"index-module__tip___2po5S",remark:"index-module__remark___2rmsb",current:"index-module__current___QrIg-"}},89:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(8),c=n(9),r=n(5),s=n(3),l=n(1),d=n(38),u=n.n(d),p=n(14),_=n(20),m=n(0),h=function(e){Object(o.a)(RightsArea,e);var t=Object(c.a)(RightsArea);function RightsArea(e){var n;return Object(a.a)(this,RightsArea),(n=t.call(this,e)).state={},n}return Object(i.a)(RightsArea,[{key:"render",value:function render(){var e=this.props.type;return Object(m.jsx)(l.a,{children:"newStyle"==e?this.renderRights():this.renderRightsRow()})}},{key:"renderRights",value:function renderRights(){var e=this,t=this.props.data;return Object(m.jsxs)(l.j,{className:u.a.rightsBox,children:[Object(m.jsxs)(l.j,{className:u.a.rightsTit,children:[Object(m.jsx)(l.c,{className:u.a.rightsTitImg,src:"https://storage.360buyimg.com/wximg/member/rightsCir.png"}),"更多特权等您来拿",Object(m.jsx)(l.c,{className:u.a.rightsTitImg2,src:"https://storage.360buyimg.com/wximg/member/rightsCir.png"})]}),Object(m.jsx)(l.j,{className:u.a.rightsChildBox,children:t&&t.length?t.map((function(t,n){return Object(m.jsx)(l.j,{className:u.a.child_item,onClick:e.goRightsDetial.bind(e,t.type,t.vpId,t.floorTitle,"column"),children:Object(m.jsx)(l.c,{mode:"scaleToFill",className:u.a.child_item_img,src:t.floorImage})},"renderRights".concat(n))})):null})]})}},{key:"renderRightsRow",value:function renderRightsRow(){var e=this,t=this.props,n=t.data,a=t.hasPadding;return Object(m.jsxs)(l.j,{className:[u.a.rightsBoxRow,a?u.a.pdTopAndBtm:""].join(" "),children:[Object(m.jsxs)(l.j,{className:u.a.rightsTit,children:[Object(m.jsx)(l.c,{className:u.a.rightsTitImg,src:"https://storage.360buyimg.com/wximg/member/t-cir2.png"}),"会员专享权益",Object(m.jsx)(l.c,{className:u.a.rightsTitImg,src:"https://storage.360buyimg.com/wximg/member/t-cir1.png"})]}),Object(m.jsx)(l.f,{id:"rightsBoxScrollView",className:u.a.rightsChildBox,scrollX:!0,children:n&&n.length?n.map((function(t,n){return Object(m.jsxs)(l.j,{className:u.a.child_item,onClick:e.goRightsDetial.bind(e,t.type,t.vpId,t.name,"row"),children:[Object(m.jsx)(l.c,{mode:"scaleToFill",className:u.a.child_item_img,src:t.icon||t.url}),Object(m.jsx)(l.j,{className:u.a.child_item_txt,children:t.name}),t.floorSubTitleSplit&&t.floorSubTitleSplit.length?Object(m.jsx)(l.j,{className:u.a.child_item_info,children:t.floorSubTitleSplit.map((function(e,t){return Object(m.jsx)(l.i,{className:u.a.child_item_info_txt,style:{color:e.color},children:e.text},"iteminfo".concat(t))}))}):null]},"renderRights".concat(n))})):null})]})}},{key:"goRightsDetial",value:function goRightsDetial(e,t,n,a){var i,o,c=(null===(i=Object(s.getCurrentInstance)())||void 0===i||null===(o=i.router)||void 0===o?void 0:o.params)||{},r=this.props,l=r.vipFlag,d=r.pageName;Object(p.a)({page_name:d,create_time:new Date,click_id:"row"==a?"clickBall":"clickRight",click_par:{text:n,type:{1:"open",0:"notOpen",3:"past "}[l]}}),Object(_.b)({url:"/pages/vpaymember_t/rightsInstruction/index?vpId=".concat(t,"&type=").concat(e),type:"findpage"==c.channel?"openNewWeb":""})}}]),RightsArea}(r.default.Component);t.a=h},91:function(e,t,n){e.exports={rpListContent:"index-module__rpListContent___1Bfb8",rpScrollview:"index-module__rpScrollview___2wd_f",rpScroll:"index-module__rpScroll___3iNQP",rpForthCont:"index-module__rpForthCont___1ZqPy",quit:"index-module__quit___1-CHH",rpQuitStr:"index-module__rpQuitStr___3X3jG",rpLimitRule:"index-module__rpLimitRule___HHMJk"}},92:function(e,t,n){e.exports={h5PayResult:"index-module__h5PayResult___3Mp0o",result:"index-module__result___1QYT0",title:"index-module__title___3yfxo",btn:"index-module__btn___7NxoC",finish:"index-module__finish___1XIPu",noFinish:"index-module__noFinish___2dTLc"}}},[[198,0,17]]]);