"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.jumpExchange=exports.callNativeClose=exports.checkTaskBrowseTimeBean=exports.resetTaskBrowseTimeBean=exports.getTaskBrowseTimeBean=exports.saveTaskBrowseTimeBean=exports.checkTaskBrowseTime=exports.resetTaskBrowseTime=exports.getTaskBrowseTime=exports.saveTaskBrowseTime=exports.getSharePath=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_indexWeapp=(exports.getPlateCode=getPlateCode,exports.isCompatible=isCompatible,exports._throttle=_throttle,require("../../../../npm/@jd/djmp/common-t/js/env/index.weapp.js")),_indexWeapp2=require("../../../../npm/@jd/djmp/common-t/constants/index.weapp.js"),_indexWeapp3=require("../../../../npm/@jd/djmp/common-t/js/storage/index.weapp.js"),_indexWeapp4=require("../../../../npm/@jd/djmp/common-t/js/jump/index.weapp.js"),_indexWeapp5=require("../../../../npm/@jd/djmp/common-t/js/taroapi/index.weapp.js"),_index=require("../../../../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var isWeapp=!0;function getPlateCode(){return 5}function isCompatible(e,t){try{e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var o=0;o<n;o++){var a=parseInt(e[o]),r=parseInt(t[o]);if(r<a)return 1;if(a<r)return-1}return 0}catch(e){}}var throttleFlag=!0;function _throttle(e){throttleFlag&&(throttleFlag=!1,e.apply(this,arguments),setTimeout(function(){throttleFlag=!0},1e3))}var getSharePath=exports.getSharePath=function(){return"pages/tabBar/signIn-t/index?"+("inviterUserPin="+wx.getStorageSync("login_info")[_indexWeapp2.PDJ_H5_JDPIN_KEY])},saveTaskBrowseTime=exports.saveTaskBrowseTime=function(e){e={info:e,browseTime:e.browseTime,time:(new Date).getTime()};(0,_indexWeapp3.setStorageSync)("taskBrowseTimeAndInfo",e)},getTaskBrowseTime=exports.getTaskBrowseTime=function(){return(0,_indexWeapp3.getStorageSync)("taskBrowseTimeAndInfo")},resetTaskBrowseTime=exports.resetTaskBrowseTime=function(){return(0,_indexWeapp3.setStorageSync)("taskBrowseTimeAndInfo",""),""},checkTaskBrowseTime=exports.checkTaskBrowseTime=function(){var e,t=(0,_indexWeapp3.getStorageSync)("taskBrowseTimeAndInfo");return!!t&&(e=void 0,e="string"==typeof t?JSON.parse(t):JSON.parse(JSON.stringify(t)),(new Date).getTime()-e.time>1e3*e.browseTime)},saveTaskBrowseTimeBean=exports.saveTaskBrowseTimeBean=function(e){e={info:e,browseTime:e.browseTime,time:(new Date).getTime()};(0,_indexWeapp3.setStorageSync)("taskBrowseTimeAndBean",e)},getTaskBrowseTimeBean=exports.getTaskBrowseTimeBean=function(){return(0,_indexWeapp3.getStorageSync)("taskBrowseTimeAndBean")},resetTaskBrowseTimeBean=exports.resetTaskBrowseTimeBean=function(){return(0,_indexWeapp3.setStorageSync)("taskBrowseTimeAndBean",""),""},checkTaskBrowseTimeBean=exports.checkTaskBrowseTimeBean=function(){var e,t=(0,_indexWeapp3.getStorageSync)("taskBrowseTimeAndBean");return!!t&&(e=void 0,e="string"==typeof t?JSON.parse(t):JSON.parse(JSON.stringify(t)),(new Date).getTime()-e.time>1e3*e.browseTime)},callNativeClose=exports.callNativeClose=function(){!_indexWeapp.isDaojiaApp||_indexWeapp.isIOS?((0,_indexWeapp3.setStorageSync)("isNeedToBottomList",!0),_index2.default.navigateBack({delta:1})):_indexWeapp.isAndroid&&0<=isCompatible(String(_indexWeapp.djAppVersion),String("8.6.0"))?((0,_indexWeapp3.setStorageSync)("isNeedToBottomList",!0),window.djJava.closeWebview&&window.djJava.closeWebview()):(0,_indexWeapp4.jump)({to:"home"})},jumpExchange=exports.jumpExchange=function(){var e;_indexWeapp.isDaojiaApp&&_indexWeapp.isAndroid&&0<=isCompatible(String(_indexWeapp.djAppVersion),String("8.6.0"))?(e=window.location.origin+"/taroh5/h5dist/#/pages/beansExchange-t/myExchange/index",(0,_indexWeapp4.jump)({type:"",to:"web",params:{extraUrlInDJ:e}})):(0,_indexWeapp5.navigateTo)("/pages/beansExchange-t/myExchange/index")};